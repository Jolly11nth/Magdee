import{c as l,r as u,j as n}from"./index-MMQWnCCf.js";import{A as i}from"./alert-circle-s0G7oTz-.js";const f=l("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),j=l("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),v=l("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),F=l("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),E=l("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function I({error:h,messageType:o="error",onDismiss:a,onActionClick:s,actionLabel:C,autoRedirect:m=!1,redirectDelay:c=3e3}){const[y,b]=u.useState(!0),[d,x]=u.useState(0);u.useEffect(()=>{if(m&&c>0){x(Math.ceil(c/1e3));const t=setInterval(()=>{x(e=>e<=1?(clearInterval(t),s&&s(),0):e-1)},1e3);return()=>clearInterval(t)}},[m,c,s]);const r=(t=>{const e=t.toLowerCase();return e.includes("already been registered")||e.includes("user already registered")||e.includes("email address has already been registered")||e.includes("a user with this email address has already been registered")||e.includes("already exists")||e.includes("email_exists")||e.includes("email")&&e.includes("exist")||e.includes("user")&&e.includes("email")&&e.includes("already")?{type:"info",icon:f,title:"âœ¨ Welcome Back!",message:"You already have a Magdee account with this email address. Let's sign you in instead!",actionLabel:"Sign In Now",showCountdown:!0,bgColor:"#EBF8FF",borderColor:"#BAE6FD",textColor:"#0369A1",iconColor:"#4A90E2"}:e.includes("username")&&(e.includes("taken")||e.includes("exist"))?{type:"error",icon:i,title:"Username Unavailable",message:"This username is already taken. Please choose a different one.",bgColor:"#FEF2F2",borderColor:"#FECACA",textColor:"#DC2626",iconColor:"#EF4444"}:e.includes("network")||e.includes("fetch")?{type:"error",icon:i,title:"Connection Issue",message:"Please check your internet connection and try again.",bgColor:"#FEF2F2",borderColor:"#FECACA",textColor:"#DC2626",iconColor:"#EF4444"}:e.includes("invalid email")?{type:"error",icon:i,title:"Invalid Email",message:"Please enter a valid email address.",bgColor:"#FEF2F2",borderColor:"#FECACA",textColor:"#DC2626",iconColor:"#EF4444"}:e.includes("password")&&e.includes("6")?{type:"error",icon:i,title:"Password Too Short",message:"Password must be at least 6 characters long.",bgColor:"#FEF2F2",borderColor:"#FECACA",textColor:"#DC2626",iconColor:"#EF4444"}:{type:o,icon:o==="error"?i:o==="success"?f:F,title:o==="error"?"Error":o==="success"?"Success":"Info",message:t,bgColor:o==="info"?"#EBF8FF":o==="success"?"#F0FDF4":"#FEF2F2",borderColor:o==="info"?"#BAE6FD":o==="success"?"#BBF7D0":"#FECACA",textColor:o==="info"?"#0369A1":o==="success"?"#047857":"#DC2626",iconColor:o==="info"?"#4A90E2":o==="success"?"#10B981":"#EF4444"}})(h),g=()=>{b(!1),setTimeout(()=>{a&&a()},300)},p=()=>{s&&s()};return y?n.jsxs("div",{style:{position:"relative",backgroundColor:r.bgColor,border:`1px solid ${r.borderColor}`,borderRadius:"0.875rem",padding:"1rem",marginBottom:"1.5rem",animation:"slideInFromTop 0.4s cubic-bezier(0.16, 1, 0.3, 1)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",fontFamily:"Poppins, sans-serif"},children:[a&&n.jsx("button",{onClick:g,style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"none",border:"none",cursor:"pointer",color:r.textColor,opacity:.6,padding:"0.25rem",borderRadius:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(E,{size:16})}),n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[n.jsx("div",{style:{flexShrink:0,marginTop:"0.125rem"},children:n.jsx(r.icon,{size:20,style:{color:r.iconColor}})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("h4",{style:{fontSize:"0.95rem",fontWeight:"600",color:r.textColor,margin:"0 0 0.25rem 0",lineHeight:"1.25"},children:r.title}),n.jsx("p",{style:{fontSize:"0.875rem",color:r.textColor,margin:"0",lineHeight:"1.4",opacity:.9},children:r.message}),(C||r.actionLabel)&&n.jsxs("div",{style:{marginTop:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsxs("button",{onClick:p,style:{padding:"0.5rem 1rem",backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.825rem",fontWeight:"500",cursor:"pointer",fontFamily:"Poppins, sans-serif",boxShadow:"0 2px 4px rgba(74, 144, 226, 0.2)",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"0.375rem"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#357ABD",t.currentTarget.style.transform="translateY(-1px)",t.currentTarget.style.boxShadow="0 4px 8px rgba(74, 144, 226, 0.3)"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="#4A90E2",t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 4px rgba(74, 144, 226, 0.2)"},children:[C||r.actionLabel,r.showCountdown&&d>0&&n.jsx("span",{style:{fontSize:"0.75rem",opacity:.8,backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",minWidth:"1.25rem",textAlign:"center"},children:d})]}),r.showCountdown&&d>0&&n.jsx("span",{style:{fontSize:"0.75rem",color:r.textColor,opacity:.7},children:"Redirecting automatically..."})]})]})]})]}):null}export{I as A,j as E,v as a};
