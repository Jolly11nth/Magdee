import{r as l,u as w,a as E,j as e}from"./index-CjjJJCP1.js";import{A as F,E as S,a as k}from"./AuthErrorMessage-tnGZylVN.js";import{I as C}from"./ImageWithFallback-7lHfUA7h.js";import"./alert-circle-B76VMFOk.js";function z({onNavigate:n}){const[t,g]=l.useState(""),[i,f]=l.useState(""),[d,u]=l.useState(!1),[r,c]=l.useState(!1),[m,o]=l.useState(""),{signIn:y}=w(),{trackValidationError:p,trackUIError:h}=E(),x=async s=>{if(s.preventDefault(),c(!0),o(""),!t||!i){o("Please enter both email/username and password"),c(!1);try{!t&&!i?await p("email_password","Both email/username and password required","login",{email:!!t,password:!!i}):t?i||await p("password","Password required","login",{email:!!t}):await p("email","Email or username required","login",{password:!!i})}catch(j){console.warn("Failed to track validation error:",j)}return}try{const a=await y(t,i);a.success?n("home"):o(a.error||"Failed to sign in")}catch(a){console.error("Login error:",a),o("An unexpected error occurred. Please try again.")}finally{c(!1)}},b=async()=>{try{await h("google_signin_button","Google OAuth not yet implemented","login"),o("Google sign-in will be available soon")}catch(s){console.warn("Failed to track UI error:",s),o("Google sign-in will be available soon")}};return e.jsxs("div",{style:{width:"100%",height:"100%",backgroundColor:"#ffffff",display:"flex",flexDirection:"column",padding:"1.5rem",fontFamily:"Poppins, sans-serif"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem",paddingTop:"2rem"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(C,{src:"/assets/images/magdee-logo.png",alt:"Magdee Logo",style:{width:"40px",height:"40px",objectFit:"contain"}}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#4A90E2"},children:"Magdee"})]})}),e.jsxs("div",{style:{display:"flex",marginBottom:"1.5rem",backgroundColor:"#F8F9FA",borderRadius:"1rem",padding:"4px"},children:[e.jsx("div",{style:{flex:1},children:e.jsx("button",{onClick:()=>n("signup"),style:{width:"100%",padding:"0.75rem 1.5rem",backgroundColor:"transparent",border:"none",color:"#6B7280",fontWeight:"500",cursor:"pointer",borderRadius:"0.75rem",fontFamily:"Poppins, sans-serif"},children:"Sign up"})}),e.jsx("div",{style:{flex:1},children:e.jsx("div",{style:{padding:"0.75rem 1.5rem",textAlign:"center",backgroundColor:"white",color:"#4A90E2",fontWeight:"600",borderRadius:"0.75rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Sign in"})})]}),m&&e.jsx(F,{error:m,messageType:"error",onDismiss:()=>o("")}),e.jsxs("form",{onSubmit:x,style:{flex:1},children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"0.5rem"},children:"Email or Username"}),e.jsx("input",{type:"text",placeholder:"Enter your email or username",value:t,onChange:s=>{g(s.target.value),o("")},disabled:r,style:{width:"100%",height:"48px",backgroundColor:r?"#F3F4F6":"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"0.75rem",padding:"0 1rem",fontSize:"1rem",color:"#374151",fontFamily:"Poppins, sans-serif",opacity:r?.6:1}})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",color:"#374151",fontSize:"0.875rem",fontWeight:"500",marginBottom:"0.5rem"},children:"Password"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:d?"text":"password",placeholder:"Enter your password",value:i,onChange:s=>{f(s.target.value),o("")},disabled:r,style:{width:"100%",height:"48px",backgroundColor:r?"#F3F4F6":"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"0.75rem",padding:"0 1rem",paddingRight:"3rem",fontSize:"1rem",color:"#374151",fontFamily:"Poppins, sans-serif",opacity:r?.6:1}}),e.jsx("button",{type:"button",onClick:()=>u(!d),disabled:r,style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:r?"default":"pointer",color:"#6B7280",display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem",opacity:r?.6:1},children:d?e.jsx(S,{size:20}):e.jsx(k,{size:20})})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"#6B7280",cursor:r?"default":"pointer",opacity:r?.6:1},children:[e.jsx("input",{type:"checkbox",disabled:r,style:{marginRight:"0.5rem"}}),"Remember me"]}),e.jsx("button",{type:"button",disabled:r,style:{backgroundColor:"transparent",border:"none",color:"#4A90E2",fontSize:"0.875rem",cursor:r?"default":"pointer",fontFamily:"Poppins, sans-serif",opacity:r?.6:1},children:"Forgot password?"})]}),e.jsxs("button",{type:"submit",disabled:r,style:{width:"100%",height:"52px",backgroundColor:r?"#9CA3AF":"#4A90E2",color:"white",border:"none",borderRadius:"1rem",fontSize:"1rem",fontWeight:"600",cursor:r?"default":"pointer",marginBottom:"1rem",fontFamily:"Poppins, sans-serif",boxShadow:r?"none":"0 4px 12px rgba(74, 144, 226, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[r&&e.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #ffffff40",borderTop:"2px solid #ffffff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),r?"Signing In...":"Sign In"]}),e.jsx("div",{style:{textAlign:"center",marginBottom:"1rem"},children:e.jsx("span",{style:{color:"#9CA3AF",fontSize:"0.875rem"},children:"or continue with"})}),e.jsxs("button",{type:"button",onClick:b,disabled:r,style:{width:"100%",height:"52px",backgroundColor:"white",color:"#374151",border:"1px solid #E5E7EB",borderRadius:"1rem",fontSize:"1rem",fontWeight:"500",cursor:r?"default":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",fontFamily:"Poppins, sans-serif",opacity:r?.6:1},children:[e.jsx("span",{style:{fontSize:"1.25rem"},children:"G"}),"Google"]})]}),e.jsxs("p",{style:{textAlign:"center",color:"#6B7280",fontSize:"0.875rem",marginTop:"1rem"},children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>n("signup"),disabled:r,style:{backgroundColor:"transparent",border:"none",color:"#4A90E2",fontWeight:"500",cursor:r?"default":"pointer",fontFamily:"Poppins, sans-serif",opacity:r?.6:1},children:"Sign up"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",marginTop:"0.5rem"},children:[e.jsx("button",{onClick:()=>n("login-debug"),disabled:r,style:{backgroundColor:"transparent",border:"1px solid #E5E7EB",color:"#6B7280",fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"0.375rem",cursor:r?"default":"pointer",fontFamily:"Poppins, sans-serif",opacity:r?.6:1},children:"ðŸ”§ Debug Login"}),e.jsx("button",{onClick:()=>n("login-test"),disabled:r,style:{backgroundColor:"transparent",border:"1px solid #10B981",color:"#10B981",fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"0.375rem",cursor:r?"default":"pointer",fontFamily:"Poppins, sans-serif",opacity:r?.6:1},children:"ðŸ§ª Test Login"})]})]})}export{z as LoginScreen};
