const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WelcomeScreen-B2iOJTvK.js","assets/ImageWithFallback-7lHfUA7h.js","assets/LoginScreen-D_z3IB64.js","assets/AuthErrorMessage-tnGZylVN.js","assets/alert-circle-B76VMFOk.js","assets/SignupScreen-CANoKbzB.js","assets/MyLibraryScreen-DhEbq8vR.js","assets/NotificationBell-DYdLAe_7.js","assets/wifi-off-DdIrt5hH.js","assets/user-DK5XXfK5.js","assets/BookCoverScreen-BJiFd55w.js","assets/clock-BHRAPjS2.js","assets/AudioPlayerScreen-Bke1a_X6.js","assets/NotificationHelpers-Bf1Iqgmh.js","assets/ProfileScreen-Dt4YZP8f.js","assets/EditProfileScreen-CKKgA8Ae.js","assets/refresh-cw-6XQNFLLu.js","assets/award-DjsDVIOH.js","assets/LanguageSettingsScreen-ZrPdtGbn.js","assets/UploadPDFScreen-VFr9ycjF.js","assets/ProgressTrackingScreen-C3Vwp-Fv.js","assets/TermsOfServiceScreen-6JgoGokr.js","assets/PrivacyPolicyScreen-CK5ki4a7.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Nd(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function op(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var n=c.default;if(typeof n=="function"){var s=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(c).forEach(function(o){var l=Object.getOwnPropertyDescriptor(c,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return c[o]}})}),s}var ja={exports:{}},as={},Aa={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function ap(){if(ed)return ae;ed=1;var c=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function b(E,I,oe){this.props=E,this.context=I,this.refs=A,this.updater=oe||R}b.prototype.isReactComponent={},b.prototype.setState=function(E,I){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,I,"setState")},b.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function F(){}F.prototype=b.prototype;function Z(E,I,oe){this.props=E,this.context=I,this.refs=A,this.updater=oe||R}var U=Z.prototype=new F;U.constructor=Z,j(U,b.prototype),U.isPureReactComponent=!0;var B=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function ce(E,I,oe){var le,he={},pe=null,ke=null;if(I!=null)for(le in I.ref!==void 0&&(ke=I.ref),I.key!==void 0&&(pe=""+I.key),I)J.call(I,le)&&!ee.hasOwnProperty(le)&&(he[le]=I[le]);var _e=arguments.length-2;if(_e===1)he.children=oe;else if(1<_e){for(var je=Array(_e),ct=0;ct<_e;ct++)je[ct]=arguments[ct+2];he.children=je}if(E&&E.defaultProps)for(le in _e=E.defaultProps,_e)he[le]===void 0&&(he[le]=_e[le]);return{$$typeof:c,type:E,key:pe,ref:ke,props:he,_owner:K.current}}function ie(E,I){return{$$typeof:c,type:E.type,key:I,ref:E.ref,props:E.props,_owner:E._owner}}function ne(E){return typeof E=="object"&&E!==null&&E.$$typeof===c}function Me(E){var I={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(oe){return I[oe]})}var me=/\/+/g;function X(E,I){return typeof E=="object"&&E!==null&&E.key!=null?Me(""+E.key):I.toString(36)}function fe(E,I,oe,le,he){var pe=typeof E;(pe==="undefined"||pe==="boolean")&&(E=null);var ke=!1;if(E===null)ke=!0;else switch(pe){case"string":case"number":ke=!0;break;case"object":switch(E.$$typeof){case c:case n:ke=!0}}if(ke)return ke=E,he=he(ke),E=le===""?"."+X(ke,0):le,B(he)?(oe="",E!=null&&(oe=E.replace(me,"$&/")+"/"),fe(he,I,oe,"",function(ct){return ct})):he!=null&&(ne(he)&&(he=ie(he,oe+(!he.key||ke&&ke.key===he.key?"":(""+he.key).replace(me,"$&/")+"/")+E)),I.push(he)),1;if(ke=0,le=le===""?".":le+":",B(E))for(var _e=0;_e<E.length;_e++){pe=E[_e];var je=le+X(pe,_e);ke+=fe(pe,I,oe,je,he)}else if(je=k(E),typeof je=="function")for(E=je.call(E),_e=0;!(pe=E.next()).done;)pe=pe.value,je=le+X(pe,_e++),ke+=fe(pe,I,oe,je,he);else if(pe==="object")throw I=String(E),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ke}function Pe(E,I,oe){if(E==null)return E;var le=[],he=0;return fe(E,le,"","",function(pe){return I.call(oe,pe,he++)}),le}function we(E){if(E._status===-1){var I=E._result;I=I(),I.then(function(oe){(E._status===0||E._status===-1)&&(E._status=1,E._result=oe)},function(oe){(E._status===0||E._status===-1)&&(E._status=2,E._result=oe)}),E._status===-1&&(E._status=0,E._result=I)}if(E._status===1)return E._result.default;throw E._result}var ye={current:null},D={transition:null},te={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:D,ReactCurrentOwner:K};function H(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:Pe,forEach:function(E,I,oe){Pe(E,function(){I.apply(this,arguments)},oe)},count:function(E){var I=0;return Pe(E,function(){I++}),I},toArray:function(E){return Pe(E,function(I){return I})||[]},only:function(E){if(!ne(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ae.Component=b,ae.Fragment=s,ae.Profiler=l,ae.PureComponent=Z,ae.StrictMode=o,ae.Suspense=g,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ae.act=H,ae.cloneElement=function(E,I,oe){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var le=j({},E.props),he=E.key,pe=E.ref,ke=E._owner;if(I!=null){if(I.ref!==void 0&&(pe=I.ref,ke=K.current),I.key!==void 0&&(he=""+I.key),E.type&&E.type.defaultProps)var _e=E.type.defaultProps;for(je in I)J.call(I,je)&&!ee.hasOwnProperty(je)&&(le[je]=I[je]===void 0&&_e!==void 0?_e[je]:I[je])}var je=arguments.length-2;if(je===1)le.children=oe;else if(1<je){_e=Array(je);for(var ct=0;ct<je;ct++)_e[ct]=arguments[ct+2];le.children=_e}return{$$typeof:c,type:E.type,key:he,ref:pe,props:le,_owner:ke}},ae.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},ae.createElement=ce,ae.createFactory=function(E){var I=ce.bind(null,E);return I.type=E,I},ae.createRef=function(){return{current:null}},ae.forwardRef=function(E){return{$$typeof:p,render:E}},ae.isValidElement=ne,ae.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:we}},ae.memo=function(E,I){return{$$typeof:m,type:E,compare:I===void 0?null:I}},ae.startTransition=function(E){var I=D.transition;D.transition={};try{E()}finally{D.transition=I}},ae.unstable_act=H,ae.useCallback=function(E,I){return ye.current.useCallback(E,I)},ae.useContext=function(E){return ye.current.useContext(E)},ae.useDebugValue=function(){},ae.useDeferredValue=function(E){return ye.current.useDeferredValue(E)},ae.useEffect=function(E,I){return ye.current.useEffect(E,I)},ae.useId=function(){return ye.current.useId()},ae.useImperativeHandle=function(E,I,oe){return ye.current.useImperativeHandle(E,I,oe)},ae.useInsertionEffect=function(E,I){return ye.current.useInsertionEffect(E,I)},ae.useLayoutEffect=function(E,I){return ye.current.useLayoutEffect(E,I)},ae.useMemo=function(E,I){return ye.current.useMemo(E,I)},ae.useReducer=function(E,I,oe){return ye.current.useReducer(E,I,oe)},ae.useRef=function(E){return ye.current.useRef(E)},ae.useState=function(E){return ye.current.useState(E)},ae.useSyncExternalStore=function(E,I,oe){return ye.current.useSyncExternalStore(E,I,oe)},ae.useTransition=function(){return ye.current.useTransition()},ae.version="18.3.1",ae}var td;function Za(){return td||(td=1,Aa.exports=ap()),Aa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function lp(){if(rd)return as;rd=1;var c=Za(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var v,_={},k=null,R=null;m!==void 0&&(k=""+m),g.key!==void 0&&(k=""+g.key),g.ref!==void 0&&(R=g.ref);for(v in g)o.call(g,v)&&!u.hasOwnProperty(v)&&(_[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)_[v]===void 0&&(_[v]=g[v]);return{$$typeof:n,type:p,key:k,ref:R,props:_,_owner:l.current}}return as.Fragment=s,as.jsx=f,as.jsxs=f,as}var nd;function up(){return nd||(nd=1,ja.exports=lp()),ja.exports}var P=up(),xi={},Ra={exports:{}},ut={},Oa={exports:{}},Ia={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function cp(){return sd||(sd=1,(function(c){function n(D,te){var H=D.length;D.push(te);e:for(;0<H;){var E=H-1>>>1,I=D[E];if(0<l(I,te))D[E]=te,D[H]=I,H=E;else break e}}function s(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var te=D[0],H=D.pop();if(H!==te){D[0]=H;e:for(var E=0,I=D.length,oe=I>>>1;E<oe;){var le=2*(E+1)-1,he=D[le],pe=le+1,ke=D[pe];if(0>l(he,H))pe<I&&0>l(ke,he)?(D[E]=ke,D[pe]=H,E=pe):(D[E]=he,D[le]=H,E=le);else if(pe<I&&0>l(ke,H))D[E]=ke,D[pe]=H,E=pe;else break e}}return te}function l(D,te){var H=D.sortIndex-te.sortIndex;return H!==0?H:D.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;c.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();c.unstable_now=function(){return f.now()-p}}var g=[],m=[],v=1,_=null,k=3,R=!1,j=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(D){for(var te=s(m);te!==null;){if(te.callback===null)o(m);else if(te.startTime<=D)o(m),te.sortIndex=te.expirationTime,n(g,te);else break;te=s(m)}}function B(D){if(A=!1,U(D),!j)if(s(g)!==null)j=!0,we(J);else{var te=s(m);te!==null&&ye(B,te.startTime-D)}}function J(D,te){j=!1,A&&(A=!1,F(ce),ce=-1),R=!0;var H=k;try{for(U(te),_=s(g);_!==null&&(!(_.expirationTime>te)||D&&!Me());){var E=_.callback;if(typeof E=="function"){_.callback=null,k=_.priorityLevel;var I=E(_.expirationTime<=te);te=c.unstable_now(),typeof I=="function"?_.callback=I:_===s(g)&&o(g),U(te)}else o(g);_=s(g)}if(_!==null)var oe=!0;else{var le=s(m);le!==null&&ye(B,le.startTime-te),oe=!1}return oe}finally{_=null,k=H,R=!1}}var K=!1,ee=null,ce=-1,ie=5,ne=-1;function Me(){return!(c.unstable_now()-ne<ie)}function me(){if(ee!==null){var D=c.unstable_now();ne=D;var te=!0;try{te=ee(!0,D)}finally{te?X():(K=!1,ee=null)}}else K=!1}var X;if(typeof Z=="function")X=function(){Z(me)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Pe=fe.port2;fe.port1.onmessage=me,X=function(){Pe.postMessage(null)}}else X=function(){b(me,0)};function we(D){ee=D,K||(K=!0,X())}function ye(D,te){ce=b(function(){D(c.unstable_now())},te)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(D){D.callback=null},c.unstable_continueExecution=function(){j||R||(j=!0,we(J))},c.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<D?Math.floor(1e3/D):5},c.unstable_getCurrentPriorityLevel=function(){return k},c.unstable_getFirstCallbackNode=function(){return s(g)},c.unstable_next=function(D){switch(k){case 1:case 2:case 3:var te=3;break;default:te=k}var H=k;k=te;try{return D()}finally{k=H}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(D,te){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=k;k=D;try{return te()}finally{k=H}},c.unstable_scheduleCallback=function(D,te,H){var E=c.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?E+H:E):H=E,D){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=H+I,D={id:v++,callback:te,priorityLevel:D,startTime:H,expirationTime:I,sortIndex:-1},H>E?(D.sortIndex=H,n(m,D),s(g)===null&&D===s(m)&&(A?(F(ce),ce=-1):A=!0,ye(B,H-E))):(D.sortIndex=I,n(g,D),j||R||(j=!0,we(J))),D},c.unstable_shouldYield=Me,c.unstable_wrapCallback=function(D){var te=k;return function(){var H=k;k=te;try{return D.apply(this,arguments)}finally{k=H}}}})(Ia)),Ia}var id;function dp(){return id||(id=1,Oa.exports=cp()),Oa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od;function fp(){if(od)return ut;od=1;var c=Za(),n=dp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function k(e){return g.call(_,e)?!0:g.call(v,e)?!1:m.test(e)?_[e]=!0:(v[e]=!0,!1)}function R(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,r,i){if(t===null||typeof t>"u"||R(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,r,i,a,d,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=h}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];b[t]=new A(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F,Z);b[t]=new A(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F,Z);b[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F,Z);b[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,r,i){var a=b.hasOwnProperty(t)?b[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,r,a,i)&&(r=null),i||a===null?k(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,i=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var B=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),K=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),Me=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),D=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,E;function I(e){if(E===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var oe=!1;function le(e,t){if(!e||oe)return"";oe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var i=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){i=T}e.call(t.prototype)}else{try{throw Error()}catch(T){i=T}e()}}catch(T){if(T&&i&&typeof T.stack=="string"){for(var a=T.stack.split(`
`),d=i.stack.split(`
`),h=a.length-1,y=d.length-1;1<=h&&0<=y&&a[h]!==d[y];)y--;for(;1<=h&&0<=y;h--,y--)if(a[h]!==d[y]){if(h!==1||y!==1)do if(h--,y--,0>y||a[h]!==d[y]){var w=`
`+a[h].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=h&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function he(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case K:return"Portal";case ie:return"Profiler";case ce:return"StrictMode";case X:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Me:return(e.displayName||"Context")+".Consumer";case ne:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pe:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _e(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ct(e){var t=je(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(h){i=""+h,d.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=ct(e))}function ol(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=je(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Li(e,t){var r=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function al(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=_e(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ll(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function $i(e,t){ll(e,t);var r=_e(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ui(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ui(e,t.type,_e(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ul(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ui(e,t,r){(t!=="number"||gs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kn=Array.isArray;function $r(e,t,r,i){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&i&&(e[r].defaultSelected=!0)}else{for(r=""+_e(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Di(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(kn(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_e(r)}}function dl(e,t){var r=_e(t.value),i=_e(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function fl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,pl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,a)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function En(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cf=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(e){cf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xn[t]=xn[e]})});function gl(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xn.hasOwnProperty(e)&&xn[e]?(""+t).trim():t+"px"}function ml(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,a=gl(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,a):e[r]=a}}var df=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bi(e,t){if(t){if(df[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Fi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mi=null;function Hi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,Ur=null,Dr=null;function yl(e){if(e=qn(e)){if(typeof Wi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=zs(t),Wi(e.stateNode,e.type,t))}}function vl(e){Ur?Dr?Dr.push(e):Dr=[e]:Ur=e}function wl(){if(Ur){var e=Ur,t=Dr;if(Dr=Ur=null,yl(e),t)for(e=0;e<t.length;e++)yl(t[e])}}function _l(e,t){return e(t)}function Sl(){}var Vi=!1;function kl(e,t,r){if(Vi)return e(t,r);Vi=!0;try{return _l(e,t,r)}finally{Vi=!1,(Ur!==null||Dr!==null)&&(Sl(),wl())}}function Cn(e,t){var r=e.stateNode;if(r===null)return null;var i=zs(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var qi=!1;if(p)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){qi=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{qi=!1}function ff(e,t,r,i,a,d,h,y,w){var T=Array.prototype.slice.call(arguments,3);try{t.apply(r,T)}catch(N){this.onError(N)}}var Tn=!1,ys=null,vs=!1,Ki=null,hf={onError:function(e){Tn=!0,ys=e}};function pf(e,t,r,i,a,d,h,y,w){Tn=!1,ys=null,ff.apply(hf,arguments)}function gf(e,t,r,i,a,d,h,y,w){if(pf.apply(this,arguments),Tn){if(Tn){var T=ys;Tn=!1,ys=null}else throw Error(s(198));vs||(vs=!0,Ki=T)}}function yr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function El(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xl(e){if(yr(e)!==e)throw Error(s(188))}function mf(e){var t=e.alternate;if(!t){if(t=yr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var a=r.return;if(a===null)break;var d=a.alternate;if(d===null){if(i=a.return,i!==null){r=i;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===r)return xl(a),e;if(d===i)return xl(a),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=a,i=d;else{for(var h=!1,y=a.child;y;){if(y===r){h=!0,r=a,i=d;break}if(y===i){h=!0,i=a,r=d;break}y=y.sibling}if(!h){for(y=d.child;y;){if(y===r){h=!0,r=d,i=a;break}if(y===i){h=!0,i=d,r=a;break}y=y.sibling}if(!h)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function Cl(e){return e=mf(e),e!==null?Pl(e):null}function Pl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pl(e);if(t!==null)return t;e=e.sibling}return null}var Tl=n.unstable_scheduleCallback,bl=n.unstable_cancelCallback,yf=n.unstable_shouldYield,vf=n.unstable_requestPaint,Ne=n.unstable_now,wf=n.unstable_getCurrentPriorityLevel,Ji=n.unstable_ImmediatePriority,jl=n.unstable_UserBlockingPriority,ws=n.unstable_NormalPriority,_f=n.unstable_LowPriority,Al=n.unstable_IdlePriority,_s=null,Rt=null;function Sf(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(_s,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:xf,kf=Math.log,Ef=Math.LN2;function xf(e){return e>>>=0,e===0?32:31-(kf(e)/Ef|0)|0}var Ss=64,ks=4194304;function bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,d=e.pingedLanes,h=r&268435455;if(h!==0){var y=h&~a;y!==0?i=bn(y):(d&=h,d!==0&&(i=bn(d)))}else h=r&~a,h!==0?i=bn(h):d!==0&&(i=bn(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&a)===0&&(a=i&-i,d=t&-t,a>=d||a===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-kt(t),a=1<<r,i|=e[r],t&=~a;return i}function Cf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pf(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-kt(d),y=1<<h,w=a[h];w===-1?((y&r)===0||(y&i)!==0)&&(a[h]=Cf(y,t)):w<=t&&(e.expiredLanes|=y),d&=~y}}function Gi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rl(){var e=Ss;return Ss<<=1,(Ss&4194240)===0&&(Ss=64),e}function Qi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=r}function Tf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-kt(r),d=1<<a;t[a]=0,i[a]=-1,e[a]=-1,r&=~d}}function Yi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-kt(r),a=1<<i;a&t|e[i]&t&&(e[i]|=t),r&=~a}}var Se=0;function Ol(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Il,Xi,Nl,Ll,$l,Zi=!1,xs=[],Kt=null,Jt=null,Gt=null,An=new Map,Rn=new Map,Qt=[],bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":An.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(t.pointerId)}}function On(e,t,r,i,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[a]},t!==null&&(t=qn(t),t!==null&&Xi(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function jf(e,t,r,i,a){switch(t){case"focusin":return Kt=On(Kt,e,t,r,i,a),!0;case"dragenter":return Jt=On(Jt,e,t,r,i,a),!0;case"mouseover":return Gt=On(Gt,e,t,r,i,a),!0;case"pointerover":var d=a.pointerId;return An.set(d,On(An.get(d)||null,e,t,r,i,a)),!0;case"gotpointercapture":return d=a.pointerId,Rn.set(d,On(Rn.get(d)||null,e,t,r,i,a)),!0}return!1}function Dl(e){var t=vr(e.target);if(t!==null){var r=yr(t);if(r!==null){if(t=r.tag,t===13){if(t=El(r),t!==null){e.blockedOn=t,$l(e.priority,function(){Nl(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=to(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Mi=i,r.target.dispatchEvent(i),Mi=null}else return t=qn(r),t!==null&&Xi(t),e.blockedOn=r,!1;t.shift()}return!0}function zl(e,t,r){Cs(e)&&r.delete(t)}function Af(){Zi=!1,Kt!==null&&Cs(Kt)&&(Kt=null),Jt!==null&&Cs(Jt)&&(Jt=null),Gt!==null&&Cs(Gt)&&(Gt=null),An.forEach(zl),Rn.forEach(zl)}function In(e,t){e.blockedOn===t&&(e.blockedOn=null,Zi||(Zi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Af)))}function Nn(e){function t(a){return In(a,e)}if(0<xs.length){In(xs[0],e);for(var r=1;r<xs.length;r++){var i=xs[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Kt!==null&&In(Kt,e),Jt!==null&&In(Jt,e),Gt!==null&&In(Gt,e),An.forEach(t),Rn.forEach(t),r=0;r<Qt.length;r++)i=Qt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Qt.length&&(r=Qt[0],r.blockedOn===null);)Dl(r),r.blockedOn===null&&Qt.shift()}var zr=B.ReactCurrentBatchConfig,Ps=!0;function Rf(e,t,r,i){var a=Se,d=zr.transition;zr.transition=null;try{Se=1,eo(e,t,r,i)}finally{Se=a,zr.transition=d}}function Of(e,t,r,i){var a=Se,d=zr.transition;zr.transition=null;try{Se=4,eo(e,t,r,i)}finally{Se=a,zr.transition=d}}function eo(e,t,r,i){if(Ps){var a=to(e,t,r,i);if(a===null)wo(e,t,i,Ts,r),Ul(e,i);else if(jf(a,e,t,r,i))i.stopPropagation();else if(Ul(e,i),t&4&&-1<bf.indexOf(e)){for(;a!==null;){var d=qn(a);if(d!==null&&Il(d),d=to(e,t,r,i),d===null&&wo(e,t,i,Ts,r),d===a)break;a=d}a!==null&&i.stopPropagation()}else wo(e,t,i,null,r)}}var Ts=null;function to(e,t,r,i){if(Ts=null,e=Hi(i),e=vr(e),e!==null)if(t=yr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=El(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ts=e,null}function Bl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case Ji:return 1;case jl:return 4;case ws:case _f:return 16;case Al:return 536870912;default:return 16}default:return 16}}var Yt=null,ro=null,bs=null;function Fl(){if(bs)return bs;var e,t=ro,r=t.length,i,a="value"in Yt?Yt.value:Yt.textContent,d=a.length;for(e=0;e<r&&t[e]===a[e];e++);var h=r-e;for(i=1;i<=h&&t[r-i]===a[d-i];i++);return bs=a.slice(e,1<i?1-i:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function Ml(){return!1}function dt(e){function t(r,i,a,d,h){this._reactName=r,this._targetInst=a,this.type=i,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?As:Ml,this.isPropagationStopped=Ml,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=dt(Br),Ln=H({},Br,{view:0,detail:0}),If=dt(Ln),so,io,$n,Rs=H({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(so=e.screenX-$n.screenX,io=e.screenY-$n.screenY):io=so=0,$n=e),so)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Hl=dt(Rs),Nf=H({},Rs,{dataTransfer:0}),Lf=dt(Nf),$f=H({},Ln,{relatedTarget:0}),oo=dt($f),Uf=H({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=dt(Uf),zf=H({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bf=dt(zf),Ff=H({},Br,{data:0}),Wl=dt(Ff),Mf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wf[e])?!!t[e]:!1}function ao(){return Vf}var qf=H({},Ln,{key:function(e){if(e.key){var t=Mf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kf=dt(qf),Jf=H({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=dt(Jf),Gf=H({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),Qf=dt(Gf),Yf=H({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=dt(Yf),Zf=H({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eh=dt(Zf),th=[9,13,27,32],lo=p&&"CompositionEvent"in window,Un=null;p&&"documentMode"in document&&(Un=document.documentMode);var rh=p&&"TextEvent"in window&&!Un,ql=p&&(!lo||Un&&8<Un&&11>=Un),Kl=" ",Jl=!1;function Gl(e,t){switch(e){case"keyup":return th.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ql(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function nh(e,t){switch(e){case"compositionend":return Ql(t);case"keypress":return t.which!==32?null:(Jl=!0,Kl);case"textInput":return e=t.data,e===Kl&&Jl?null:e;default:return null}}function sh(e,t){if(Fr)return e==="compositionend"||!lo&&Gl(e,t)?(e=Fl(),bs=ro=Yt=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ql&&t.locale!=="ko"?null:t.data;default:return null}}var ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ih[e.type]:t==="textarea"}function Xl(e,t,r,i){vl(i),t=$s(t,"onChange"),0<t.length&&(r=new no("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Dn=null,zn=null;function oh(e){mu(e,0)}function Os(e){var t=qr(e);if(ol(t))return e}function ah(e,t){if(e==="change")return t}var Zl=!1;if(p){var uo;if(p){var co="oninput"in document;if(!co){var eu=document.createElement("div");eu.setAttribute("oninput","return;"),co=typeof eu.oninput=="function"}uo=co}else uo=!1;Zl=uo&&(!document.documentMode||9<document.documentMode)}function tu(){Dn&&(Dn.detachEvent("onpropertychange",ru),zn=Dn=null)}function ru(e){if(e.propertyName==="value"&&Os(zn)){var t=[];Xl(t,zn,e,Hi(e)),kl(oh,t)}}function lh(e,t,r){e==="focusin"?(tu(),Dn=t,zn=r,Dn.attachEvent("onpropertychange",ru)):e==="focusout"&&tu()}function uh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Os(zn)}function ch(e,t){if(e==="click")return Os(t)}function dh(e,t){if(e==="input"||e==="change")return Os(t)}function fh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:fh;function Bn(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var a=r[i];if(!g.call(t,a)||!Et(e[a],t[a]))return!1}return!0}function nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function su(e,t){var r=nu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nu(r)}}function iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ou(){for(var e=window,t=gs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gs(e.document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hh(e){var t=ou(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&iu(r.ownerDocument.documentElement,r)){if(i!==null&&fo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,d=Math.min(i.start,a);i=i.end===void 0?d:Math.min(i.end,a),!e.extend&&d>i&&(a=i,i=d,d=a),a=su(r,d);var h=su(r,i);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ph=p&&"documentMode"in document&&11>=document.documentMode,Mr=null,ho=null,Fn=null,po=!1;function au(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;po||Mr==null||Mr!==gs(i)||(i=Mr,"selectionStart"in i&&fo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fn&&Bn(Fn,i)||(Fn=i,i=$s(ho,"onSelect"),0<i.length&&(t=new no("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Mr)))}function Is(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hr={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionend:Is("Transition","TransitionEnd")},go={},lu={};p&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Ns(e){if(go[e])return go[e];if(!Hr[e])return e;var t=Hr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lu)return go[e]=t[r];return e}var uu=Ns("animationend"),cu=Ns("animationiteration"),du=Ns("animationstart"),fu=Ns("transitionend"),hu=new Map,pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){hu.set(e,t),u(t,[e])}for(var mo=0;mo<pu.length;mo++){var yo=pu[mo],gh=yo.toLowerCase(),mh=yo[0].toUpperCase()+yo.slice(1);Xt(gh,"on"+mh)}Xt(uu,"onAnimationEnd"),Xt(cu,"onAnimationIteration"),Xt(du,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(fu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function gu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,gf(i,t,void 0,e),e.currentTarget=null}function mu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],a=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var h=i.length-1;0<=h;h--){var y=i[h],w=y.instance,T=y.currentTarget;if(y=y.listener,w!==d&&a.isPropagationStopped())break e;gu(a,y,T),d=w}else for(h=0;h<i.length;h++){if(y=i[h],w=y.instance,T=y.currentTarget,y=y.listener,w!==d&&a.isPropagationStopped())break e;gu(a,y,T),d=w}}}if(vs)throw e=Ki,vs=!1,Ki=null,e}function Te(e,t){var r=t[Co];r===void 0&&(r=t[Co]=new Set);var i=e+"__bubble";r.has(i)||(yu(t,e,2,!1),r.add(i))}function vo(e,t,r){var i=0;t&&(i|=4),yu(r,e,i,t)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[Ls]){e[Ls]=!0,o.forEach(function(r){r!=="selectionchange"&&(yh.has(r)||vo(r,!1,e),vo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ls]||(t[Ls]=!0,vo("selectionchange",!1,t))}}function yu(e,t,r,i){switch(Bl(t)){case 1:var a=Rf;break;case 4:a=Of;break;default:a=eo}r=a.bind(null,t,r,e),a=void 0,!qi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function wo(e,t,r,i,a){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var y=i.stateNode.containerInfo;if(y===a||y.nodeType===8&&y.parentNode===a)break;if(h===4)for(h=i.return;h!==null;){var w=h.tag;if((w===3||w===4)&&(w=h.stateNode.containerInfo,w===a||w.nodeType===8&&w.parentNode===a))return;h=h.return}for(;y!==null;){if(h=vr(y),h===null)return;if(w=h.tag,w===5||w===6){i=d=h;continue e}y=y.parentNode}}i=i.return}kl(function(){var T=d,N=Hi(r),L=[];e:{var O=hu.get(e);if(O!==void 0){var z=no,W=e;switch(e){case"keypress":if(js(r)===0)break e;case"keydown":case"keyup":z=Kf;break;case"focusin":W="focus",z=oo;break;case"focusout":W="blur",z=oo;break;case"beforeblur":case"afterblur":z=oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Qf;break;case uu:case cu:case du:z=Df;break;case fu:z=Xf;break;case"scroll":z=If;break;case"wheel":z=eh;break;case"copy":case"cut":case"paste":z=Bf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Vl}var V=(t&4)!==0,Le=!V&&e==="scroll",x=V?O!==null?O+"Capture":null:O;V=[];for(var S=T,C;S!==null;){C=S;var $=C.stateNode;if(C.tag===5&&$!==null&&(C=$,x!==null&&($=Cn(S,x),$!=null&&V.push(Wn(S,$,C)))),Le)break;S=S.return}0<V.length&&(O=new z(O,W,null,r,N),L.push({event:O,listeners:V}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",O&&r!==Mi&&(W=r.relatedTarget||r.fromElement)&&(vr(W)||W[Ut]))break e;if((z||O)&&(O=N.window===N?N:(O=N.ownerDocument)?O.defaultView||O.parentWindow:window,z?(W=r.relatedTarget||r.toElement,z=T,W=W?vr(W):null,W!==null&&(Le=yr(W),W!==Le||W.tag!==5&&W.tag!==6)&&(W=null)):(z=null,W=T),z!==W)){if(V=Hl,$="onMouseLeave",x="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(V=Vl,$="onPointerLeave",x="onPointerEnter",S="pointer"),Le=z==null?O:qr(z),C=W==null?O:qr(W),O=new V($,S+"leave",z,r,N),O.target=Le,O.relatedTarget=C,$=null,vr(N)===T&&(V=new V(x,S+"enter",W,r,N),V.target=C,V.relatedTarget=Le,$=V),Le=$,z&&W)t:{for(V=z,x=W,S=0,C=V;C;C=Wr(C))S++;for(C=0,$=x;$;$=Wr($))C++;for(;0<S-C;)V=Wr(V),S--;for(;0<C-S;)x=Wr(x),C--;for(;S--;){if(V===x||x!==null&&V===x.alternate)break t;V=Wr(V),x=Wr(x)}V=null}else V=null;z!==null&&vu(L,O,z,V,!1),W!==null&&Le!==null&&vu(L,Le,W,V,!0)}}e:{if(O=T?qr(T):window,z=O.nodeName&&O.nodeName.toLowerCase(),z==="select"||z==="input"&&O.type==="file")var q=ah;else if(Yl(O))if(Zl)q=dh;else{q=uh;var Q=lh}else(z=O.nodeName)&&z.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(q=ch);if(q&&(q=q(e,T))){Xl(L,q,r,N);break e}Q&&Q(e,O,T),e==="focusout"&&(Q=O._wrapperState)&&Q.controlled&&O.type==="number"&&Ui(O,"number",O.value)}switch(Q=T?qr(T):window,e){case"focusin":(Yl(Q)||Q.contentEditable==="true")&&(Mr=Q,ho=T,Fn=null);break;case"focusout":Fn=ho=Mr=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,au(L,r,N);break;case"selectionchange":if(ph)break;case"keydown":case"keyup":au(L,r,N)}var Y;if(lo)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Fr?Gl(e,r)&&(re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(re="onCompositionStart");re&&(ql&&r.locale!=="ko"&&(Fr||re!=="onCompositionStart"?re==="onCompositionEnd"&&Fr&&(Y=Fl()):(Yt=N,ro="value"in Yt?Yt.value:Yt.textContent,Fr=!0)),Q=$s(T,re),0<Q.length&&(re=new Wl(re,e,null,r,N),L.push({event:re,listeners:Q}),Y?re.data=Y:(Y=Ql(r),Y!==null&&(re.data=Y)))),(Y=rh?nh(e,r):sh(e,r))&&(T=$s(T,"onBeforeInput"),0<T.length&&(N=new Wl("onBeforeInput","beforeinput",null,r,N),L.push({event:N,listeners:T}),N.data=Y))}mu(L,t)})}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $s(e,t){for(var r=t+"Capture",i=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=Cn(e,r),d!=null&&i.unshift(Wn(e,d,a)),d=Cn(e,t),d!=null&&i.push(Wn(e,d,a))),e=e.return}return i}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,r,i,a){for(var d=t._reactName,h=[];r!==null&&r!==i;){var y=r,w=y.alternate,T=y.stateNode;if(w!==null&&w===i)break;y.tag===5&&T!==null&&(y=T,a?(w=Cn(r,d),w!=null&&h.unshift(Wn(r,w,y))):a||(w=Cn(r,d),w!=null&&h.push(Wn(r,w,y)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var vh=/\r\n?/g,wh=/\u0000|\uFFFD/g;function wu(e){return(typeof e=="string"?e:""+e).replace(vh,`
`).replace(wh,"")}function Us(e,t,r){if(t=wu(t),wu(e)!==t&&r)throw Error(s(425))}function Ds(){}var _o=null,So=null;function ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eo=typeof setTimeout=="function"?setTimeout:void 0,_h=typeof clearTimeout=="function"?clearTimeout:void 0,_u=typeof Promise=="function"?Promise:void 0,Sh=typeof queueMicrotask=="function"?queueMicrotask:typeof _u<"u"?function(e){return _u.resolve(null).then(e).catch(kh)}:Eo;function kh(e){setTimeout(function(){throw e})}function xo(e,t){var r=t,i=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(i===0){e.removeChild(a),Nn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=a}while(r);Nn(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Su(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Vr,Vn="__reactProps$"+Vr,Ut="__reactContainer$"+Vr,Co="__reactEvents$"+Vr,Eh="__reactListeners$"+Vr,xh="__reactHandles$"+Vr;function vr(e){var t=e[Ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ut]||r[Ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Su(e);e!==null;){if(r=e[Ot])return r;e=Su(e)}return t}e=r,r=e.parentNode}return null}function qn(e){return e=e[Ot]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function zs(e){return e[Vn]||null}var Po=[],Kr=-1;function er(e){return{current:e}}function be(e){0>Kr||(e.current=Po[Kr],Po[Kr]=null,Kr--)}function Ee(e,t){Kr++,Po[Kr]=e.current,e.current=t}var tr={},Ge=er(tr),st=er(!1),wr=tr;function Jr(e,t){var r=e.type.contextTypes;if(!r)return tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in r)a[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function it(e){return e=e.childContextTypes,e!=null}function Bs(){be(st),be(Ge)}function ku(e,t,r){if(Ge.current!==tr)throw Error(s(168));Ee(Ge,t),Ee(st,r)}function Eu(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(s(108,ke(e)||"Unknown",a));return H({},r,i)}function Fs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,wr=Ge.current,Ee(Ge,e),Ee(st,st.current),!0}function xu(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=Eu(e,t,wr),i.__reactInternalMemoizedMergedChildContext=e,be(st),be(Ge),Ee(Ge,e)):be(st),Ee(st,r)}var Dt=null,Ms=!1,To=!1;function Cu(e){Dt===null?Dt=[e]:Dt.push(e)}function Ch(e){Ms=!0,Cu(e)}function rr(){if(!To&&Dt!==null){To=!0;var e=0,t=Se;try{var r=Dt;for(Se=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Dt=null,Ms=!1}catch(a){throw Dt!==null&&(Dt=Dt.slice(e+1)),Tl(Ji,rr),a}finally{Se=t,To=!1}}return null}var Gr=[],Qr=0,Hs=null,Ws=0,gt=[],mt=0,_r=null,zt=1,Bt="";function Sr(e,t){Gr[Qr++]=Ws,Gr[Qr++]=Hs,Hs=e,Ws=t}function Pu(e,t,r){gt[mt++]=zt,gt[mt++]=Bt,gt[mt++]=_r,_r=e;var i=zt;e=Bt;var a=32-kt(i)-1;i&=~(1<<a),r+=1;var d=32-kt(t)+a;if(30<d){var h=a-a%5;d=(i&(1<<h)-1).toString(32),i>>=h,a-=h,zt=1<<32-kt(t)+a|r<<a|i,Bt=d+e}else zt=1<<d|r<<a|i,Bt=e}function bo(e){e.return!==null&&(Sr(e,1),Pu(e,1,0))}function jo(e){for(;e===Hs;)Hs=Gr[--Qr],Gr[Qr]=null,Ws=Gr[--Qr],Gr[Qr]=null;for(;e===_r;)_r=gt[--mt],gt[mt]=null,Bt=gt[--mt],gt[mt]=null,zt=gt[--mt],gt[mt]=null}var ft=null,ht=null,Ae=!1,xt=null;function Tu(e,t){var r=_t(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,ht=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_r!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_t(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ft=e,ht=null,!0):!1;default:return!1}}function Ao(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ro(e){if(Ae){var t=ht;if(t){var r=t;if(!bu(e,t)){if(Ao(e))throw Error(s(418));t=Zt(r.nextSibling);var i=ft;t&&bu(e,t)?Tu(i,r):(e.flags=e.flags&-4097|2,Ae=!1,ft=e)}}else{if(Ao(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ae=!1,ft=e}}}function ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Vs(e){if(e!==ft)return!1;if(!Ae)return ju(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ko(e.type,e.memoizedProps)),t&&(t=ht)){if(Ao(e))throw Au(),Error(s(418));for(;t;)Tu(e,t),t=Zt(t.nextSibling)}if(ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ht=Zt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=ft?Zt(e.stateNode.nextSibling):null;return!0}function Au(){for(var e=ht;e;)e=Zt(e.nextSibling)}function Yr(){ht=ft=null,Ae=!1}function Oo(e){xt===null?xt=[e]:xt.push(e)}var Ph=B.ReactCurrentBatchConfig;function Kn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var a=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(h){var y=a.refs;h===null?delete y[d]:y[d]=h},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ru(e){var t=e._init;return t(e._payload)}function Ou(e){function t(x,S){if(e){var C=x.deletions;C===null?(x.deletions=[S],x.flags|=16):C.push(S)}}function r(x,S){if(!e)return null;for(;S!==null;)t(x,S),S=S.sibling;return null}function i(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function a(x,S){return x=cr(x,S),x.index=0,x.sibling=null,x}function d(x,S,C){return x.index=C,e?(C=x.alternate,C!==null?(C=C.index,C<S?(x.flags|=2,S):C):(x.flags|=2,S)):(x.flags|=1048576,S)}function h(x){return e&&x.alternate===null&&(x.flags|=2),x}function y(x,S,C,$){return S===null||S.tag!==6?(S=Ea(C,x.mode,$),S.return=x,S):(S=a(S,C),S.return=x,S)}function w(x,S,C,$){var q=C.type;return q===ee?N(x,S,C.props.children,$,C.key):S!==null&&(S.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===we&&Ru(q)===S.type)?($=a(S,C.props),$.ref=Kn(x,S,C),$.return=x,$):($=mi(C.type,C.key,C.props,null,x.mode,$),$.ref=Kn(x,S,C),$.return=x,$)}function T(x,S,C,$){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=xa(C,x.mode,$),S.return=x,S):(S=a(S,C.children||[]),S.return=x,S)}function N(x,S,C,$,q){return S===null||S.tag!==7?(S=jr(C,x.mode,$,q),S.return=x,S):(S=a(S,C),S.return=x,S)}function L(x,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ea(""+S,x.mode,C),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case J:return C=mi(S.type,S.key,S.props,null,x.mode,C),C.ref=Kn(x,null,S),C.return=x,C;case K:return S=xa(S,x.mode,C),S.return=x,S;case we:var $=S._init;return L(x,$(S._payload),C)}if(kn(S)||te(S))return S=jr(S,x.mode,C,null),S.return=x,S;qs(x,S)}return null}function O(x,S,C,$){var q=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return q!==null?null:y(x,S,""+C,$);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case J:return C.key===q?w(x,S,C,$):null;case K:return C.key===q?T(x,S,C,$):null;case we:return q=C._init,O(x,S,q(C._payload),$)}if(kn(C)||te(C))return q!==null?null:N(x,S,C,$,null);qs(x,C)}return null}function z(x,S,C,$,q){if(typeof $=="string"&&$!==""||typeof $=="number")return x=x.get(C)||null,y(S,x,""+$,q);if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return x=x.get($.key===null?C:$.key)||null,w(S,x,$,q);case K:return x=x.get($.key===null?C:$.key)||null,T(S,x,$,q);case we:var Q=$._init;return z(x,S,C,Q($._payload),q)}if(kn($)||te($))return x=x.get(C)||null,N(S,x,$,q,null);qs(S,$)}return null}function W(x,S,C,$){for(var q=null,Q=null,Y=S,re=S=0,Ve=null;Y!==null&&re<C.length;re++){Y.index>re?(Ve=Y,Y=null):Ve=Y.sibling;var ge=O(x,Y,C[re],$);if(ge===null){Y===null&&(Y=Ve);break}e&&Y&&ge.alternate===null&&t(x,Y),S=d(ge,S,re),Q===null?q=ge:Q.sibling=ge,Q=ge,Y=Ve}if(re===C.length)return r(x,Y),Ae&&Sr(x,re),q;if(Y===null){for(;re<C.length;re++)Y=L(x,C[re],$),Y!==null&&(S=d(Y,S,re),Q===null?q=Y:Q.sibling=Y,Q=Y);return Ae&&Sr(x,re),q}for(Y=i(x,Y);re<C.length;re++)Ve=z(Y,x,re,C[re],$),Ve!==null&&(e&&Ve.alternate!==null&&Y.delete(Ve.key===null?re:Ve.key),S=d(Ve,S,re),Q===null?q=Ve:Q.sibling=Ve,Q=Ve);return e&&Y.forEach(function(dr){return t(x,dr)}),Ae&&Sr(x,re),q}function V(x,S,C,$){var q=te(C);if(typeof q!="function")throw Error(s(150));if(C=q.call(C),C==null)throw Error(s(151));for(var Q=q=null,Y=S,re=S=0,Ve=null,ge=C.next();Y!==null&&!ge.done;re++,ge=C.next()){Y.index>re?(Ve=Y,Y=null):Ve=Y.sibling;var dr=O(x,Y,ge.value,$);if(dr===null){Y===null&&(Y=Ve);break}e&&Y&&dr.alternate===null&&t(x,Y),S=d(dr,S,re),Q===null?q=dr:Q.sibling=dr,Q=dr,Y=Ve}if(ge.done)return r(x,Y),Ae&&Sr(x,re),q;if(Y===null){for(;!ge.done;re++,ge=C.next())ge=L(x,ge.value,$),ge!==null&&(S=d(ge,S,re),Q===null?q=ge:Q.sibling=ge,Q=ge);return Ae&&Sr(x,re),q}for(Y=i(x,Y);!ge.done;re++,ge=C.next())ge=z(Y,x,re,ge.value,$),ge!==null&&(e&&ge.alternate!==null&&Y.delete(ge.key===null?re:ge.key),S=d(ge,S,re),Q===null?q=ge:Q.sibling=ge,Q=ge);return e&&Y.forEach(function(ip){return t(x,ip)}),Ae&&Sr(x,re),q}function Le(x,S,C,$){if(typeof C=="object"&&C!==null&&C.type===ee&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case J:e:{for(var q=C.key,Q=S;Q!==null;){if(Q.key===q){if(q=C.type,q===ee){if(Q.tag===7){r(x,Q.sibling),S=a(Q,C.props.children),S.return=x,x=S;break e}}else if(Q.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===we&&Ru(q)===Q.type){r(x,Q.sibling),S=a(Q,C.props),S.ref=Kn(x,Q,C),S.return=x,x=S;break e}r(x,Q);break}else t(x,Q);Q=Q.sibling}C.type===ee?(S=jr(C.props.children,x.mode,$,C.key),S.return=x,x=S):($=mi(C.type,C.key,C.props,null,x.mode,$),$.ref=Kn(x,S,C),$.return=x,x=$)}return h(x);case K:e:{for(Q=C.key;S!==null;){if(S.key===Q)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){r(x,S.sibling),S=a(S,C.children||[]),S.return=x,x=S;break e}else{r(x,S);break}else t(x,S);S=S.sibling}S=xa(C,x.mode,$),S.return=x,x=S}return h(x);case we:return Q=C._init,Le(x,S,Q(C._payload),$)}if(kn(C))return W(x,S,C,$);if(te(C))return V(x,S,C,$);qs(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(r(x,S.sibling),S=a(S,C),S.return=x,x=S):(r(x,S),S=Ea(C,x.mode,$),S.return=x,x=S),h(x)):r(x,S)}return Le}var Xr=Ou(!0),Iu=Ou(!1),Ks=er(null),Js=null,Zr=null,Io=null;function No(){Io=Zr=Js=null}function Lo(e){var t=Ks.current;be(Ks),e._currentValue=t}function $o(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function en(e,t){Js=e,Io=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ot=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Io!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(Js===null)throw Error(s(308));Zr=e,Js.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var kr=null;function Uo(e){kr===null?kr=[e]:kr.push(e)}function Nu(e,t,r,i){var a=t.interleaved;return a===null?(r.next=r,Uo(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ft(e,i)}function Ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var nr=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(de&2)!==0){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,Ft(e,r)}return a=i.interleaved,a===null?(t.next=t,Uo(i)):(t.next=a.next,a.next=t),i.interleaved=t,Ft(e,r)}function Gs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Yi(e,r)}}function $u(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var a=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?a=d=h:d=d.next=h,r=r.next}while(r!==null);d===null?a=d=t:d=d.next=t}else a=d=t;r={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qs(e,t,r,i){var a=e.updateQueue;nr=!1;var d=a.firstBaseUpdate,h=a.lastBaseUpdate,y=a.shared.pending;if(y!==null){a.shared.pending=null;var w=y,T=w.next;w.next=null,h===null?d=T:h.next=T,h=w;var N=e.alternate;N!==null&&(N=N.updateQueue,y=N.lastBaseUpdate,y!==h&&(y===null?N.firstBaseUpdate=T:y.next=T,N.lastBaseUpdate=w))}if(d!==null){var L=a.baseState;h=0,N=T=w=null,y=d;do{var O=y.lane,z=y.eventTime;if((i&O)===O){N!==null&&(N=N.next={eventTime:z,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var W=e,V=y;switch(O=t,z=r,V.tag){case 1:if(W=V.payload,typeof W=="function"){L=W.call(z,L,O);break e}L=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=V.payload,O=typeof W=="function"?W.call(z,L,O):W,O==null)break e;L=H({},L,O);break e;case 2:nr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,O=a.effects,O===null?a.effects=[y]:O.push(y))}else z={eventTime:z,lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},N===null?(T=N=z,w=L):N=N.next=z,h|=O;if(y=y.next,y===null){if(y=a.shared.pending,y===null)break;O=y,y=O.next,O.next=null,a.lastBaseUpdate=O,a.shared.pending=null}}while(!0);if(N===null&&(w=L),a.baseState=w,a.firstBaseUpdate=T,a.lastBaseUpdate=N,t=a.shared.interleaved,t!==null){a=t;do h|=a.lane,a=a.next;while(a!==t)}else d===null&&(a.shared.lanes=0);Cr|=h,e.lanes=h,e.memoizedState=L}}function Uu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=r,typeof a!="function")throw Error(s(191,a));a.call(i)}}}var Jn={},It=er(Jn),Gn=er(Jn),Qn=er(Jn);function Er(e){if(e===Jn)throw Error(s(174));return e}function zo(e,t){switch(Ee(Qn,t),Ee(Gn,e),Ee(It,Jn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zi(t,e)}be(It),Ee(It,t)}function tn(){be(It),be(Gn),be(Qn)}function Du(e){Er(Qn.current);var t=Er(It.current),r=zi(t,e.type);t!==r&&(Ee(Gn,e),Ee(It,r))}function Bo(e){Gn.current===e&&(be(It),be(Gn))}var Re=er(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=[];function Mo(){for(var e=0;e<Fo.length;e++)Fo[e]._workInProgressVersionPrimary=null;Fo.length=0}var Xs=B.ReactCurrentDispatcher,Ho=B.ReactCurrentBatchConfig,xr=0,Oe=null,De=null,He=null,Zs=!1,Yn=!1,Xn=0,Th=0;function Qe(){throw Error(s(321))}function Wo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Et(e[r],t[r]))return!1;return!0}function Vo(e,t,r,i,a,d){if(xr=d,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xs.current=e===null||e.memoizedState===null?Rh:Oh,e=r(i,a),Yn){d=0;do{if(Yn=!1,Xn=0,25<=d)throw Error(s(301));d+=1,He=De=null,t.updateQueue=null,Xs.current=Ih,e=r(i,a)}while(Yn)}if(Xs.current=ri,t=De!==null&&De.next!==null,xr=0,He=De=Oe=null,Zs=!1,t)throw Error(s(300));return e}function qo(){var e=Xn!==0;return Xn=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Oe.memoizedState=He=e:He=He.next=e,He}function vt(){if(De===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=He===null?Oe.memoizedState:He.next;if(t!==null)He=t,De=e;else{if(e===null)throw Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},He===null?Oe.memoizedState=He=e:He=He.next=e}return He}function Zn(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=vt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=De,a=i.baseQueue,d=r.pending;if(d!==null){if(a!==null){var h=a.next;a.next=d.next,d.next=h}i.baseQueue=a=d,r.pending=null}if(a!==null){d=a.next,i=i.baseState;var y=h=null,w=null,T=d;do{var N=T.lane;if((xr&N)===N)w!==null&&(w=w.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),i=T.hasEagerState?T.eagerState:e(i,T.action);else{var L={lane:N,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};w===null?(y=w=L,h=i):w=w.next=L,Oe.lanes|=N,Cr|=N}T=T.next}while(T!==null&&T!==d);w===null?h=i:w.next=y,Et(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseState=h,t.baseQueue=w,r.lastRenderedState=i}if(e=r.interleaved,e!==null){a=e;do d=a.lane,Oe.lanes|=d,Cr|=d,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jo(e){var t=vt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,a=r.pending,d=t.memoizedState;if(a!==null){r.pending=null;var h=a=a.next;do d=e(d,h.action),h=h.next;while(h!==a);Et(d,t.memoizedState)||(ot=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function zu(){}function Bu(e,t){var r=Oe,i=vt(),a=t(),d=!Et(i.memoizedState,a);if(d&&(i.memoizedState=a,ot=!0),i=i.queue,Go(Hu.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||He!==null&&He.memoizedState.tag&1){if(r.flags|=2048,es(9,Mu.bind(null,r,i,a,t),void 0,null),We===null)throw Error(s(349));(xr&30)!==0||Fu(r,t,a)}return a}function Fu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Mu(e,t,r,i){t.value=r,t.getSnapshot=i,Wu(t)&&Vu(e)}function Hu(e,t,r){return r(function(){Wu(t)&&Vu(e)})}function Wu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Et(e,r)}catch{return!0}}function Vu(e){var t=Ft(e,1);t!==null&&bt(t,e,1,-1)}function qu(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t.queue=e,e=e.dispatch=Ah.bind(null,Oe,e),[t.memoizedState,e]}function es(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Ku(){return vt().memoizedState}function ei(e,t,r,i){var a=Nt();Oe.flags|=e,a.memoizedState=es(1|t,r,void 0,i===void 0?null:i)}function ti(e,t,r,i){var a=vt();i=i===void 0?null:i;var d=void 0;if(De!==null){var h=De.memoizedState;if(d=h.destroy,i!==null&&Wo(i,h.deps)){a.memoizedState=es(t,r,d,i);return}}Oe.flags|=e,a.memoizedState=es(1|t,r,d,i)}function Ju(e,t){return ei(8390656,8,e,t)}function Go(e,t){return ti(2048,8,e,t)}function Gu(e,t){return ti(4,2,e,t)}function Qu(e,t){return ti(4,4,e,t)}function Yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xu(e,t,r){return r=r!=null?r.concat([e]):null,ti(4,4,Yu.bind(null,t,e),r)}function Qo(){}function Zu(e,t){var r=vt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Wo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function ec(e,t){var r=vt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Wo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function tc(e,t,r){return(xr&21)===0?(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r):(Et(r,t)||(r=Rl(),Oe.lanes|=r,Cr|=r,e.baseState=!0),t)}function bh(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var i=Ho.transition;Ho.transition={};try{e(!1),t()}finally{Se=r,Ho.transition=i}}function rc(){return vt().memoizedState}function jh(e,t,r){var i=lr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},nc(e))sc(t,r);else if(r=Nu(e,t,r,i),r!==null){var a=tt();bt(r,e,i,a),ic(r,t,i)}}function Ah(e,t,r){var i=lr(e),a={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(nc(e))sc(t,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var h=t.lastRenderedState,y=d(h,r);if(a.hasEagerState=!0,a.eagerState=y,Et(y,h)){var w=t.interleaved;w===null?(a.next=a,Uo(t)):(a.next=w.next,w.next=a),t.interleaved=a;return}}catch{}finally{}r=Nu(e,t,a,i),r!==null&&(a=tt(),bt(r,e,i,a),ic(r,t,i))}}function nc(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function sc(e,t){Yn=Zs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ic(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Yi(e,r)}}var ri={readContext:yt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Rh={readContext:yt,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Ju,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ei(4194308,4,Yu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var r=Nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Nt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=jh.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:qu,useDebugValue:Qo,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=qu(!1),t=e[0];return e=bh.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Oe,a=Nt();if(Ae){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),We===null)throw Error(s(349));(xr&30)!==0||Fu(i,t,r)}a.memoizedState=r;var d={value:r,getSnapshot:t};return a.queue=d,Ju(Hu.bind(null,i,d,e),[e]),i.flags|=2048,es(9,Mu.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Nt(),t=We.identifierPrefix;if(Ae){var r=Bt,i=zt;r=(i&~(1<<32-kt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Th++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Oh={readContext:yt,useCallback:Zu,useContext:yt,useEffect:Go,useImperativeHandle:Xu,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:ec,useReducer:Ko,useRef:Ku,useState:function(){return Ko(Zn)},useDebugValue:Qo,useDeferredValue:function(e){var t=vt();return tc(t,De.memoizedState,e)},useTransition:function(){var e=Ko(Zn)[0],t=vt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Bu,useId:rc,unstable_isNewReconciler:!1},Ih={readContext:yt,useCallback:Zu,useContext:yt,useEffect:Go,useImperativeHandle:Xu,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:ec,useReducer:Jo,useRef:Ku,useState:function(){return Jo(Zn)},useDebugValue:Qo,useDeferredValue:function(e){var t=vt();return De===null?t.memoizedState=e:tc(t,De.memoizedState,e)},useTransition:function(){var e=Jo(Zn)[0],t=vt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Bu,useId:rc,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yo(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:H({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ni={isMounted:function(e){return(e=e._reactInternals)?yr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=tt(),a=lr(e),d=Mt(i,a);d.payload=t,r!=null&&(d.callback=r),t=sr(e,d,a),t!==null&&(bt(t,e,a,i),Gs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=tt(),a=lr(e),d=Mt(i,a);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=sr(e,d,a),t!==null&&(bt(t,e,a,i),Gs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tt(),i=lr(e),a=Mt(r,i);a.tag=2,t!=null&&(a.callback=t),t=sr(e,a,i),t!==null&&(bt(t,e,i,r),Gs(t,e,i))}};function oc(e,t,r,i,a,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,h):t.prototype&&t.prototype.isPureReactComponent?!Bn(r,i)||!Bn(a,d):!0}function ac(e,t,r){var i=!1,a=tr,d=t.contextType;return typeof d=="object"&&d!==null?d=yt(d):(a=it(t)?wr:Ge.current,i=t.contextTypes,d=(i=i!=null)?Jr(e,a):tr),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),t}function lc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function Xo(e,t,r,i){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Do(e);var d=t.contextType;typeof d=="object"&&d!==null?a.context=yt(d):(d=it(t)?wr:Ge.current,a.context=Jr(e,d)),a.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Yo(e,t,d,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ni.enqueueReplaceState(a,a.state,null),Qs(e,r,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function rn(e,t){try{var r="",i=t;do r+=he(i),i=i.return;while(i);var a=r}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:a,digest:null}}function Zo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ea(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Nh=typeof WeakMap=="function"?WeakMap:Map;function uc(e,t,r){r=Mt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ci||(ci=!0,ga=i),ea(e,t)},r}function cc(e,t,r){r=Mt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;r.payload=function(){return i(a)},r.callback=function(){ea(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){ea(e,t),typeof i!="function"&&(or===null?or=new Set([this]):or.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function dc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Nh;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(r)||(a.add(r),e=Jh.bind(null,e,t,r),t.then(e,e))}function fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hc(e,t,r,i,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mt(-1,1),t.tag=2,sr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Lh=B.ReactCurrentOwner,ot=!1;function et(e,t,r,i){t.child=e===null?Iu(t,null,r,i):Xr(t,e.child,r,i)}function pc(e,t,r,i,a){r=r.render;var d=t.ref;return en(t,a),i=Vo(e,t,r,i,d,a),r=qo(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ht(e,t,a)):(Ae&&r&&bo(t),t.flags|=1,et(e,t,i,a),t.child)}function gc(e,t,r,i,a){if(e===null){var d=r.type;return typeof d=="function"&&!ka(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,mc(e,t,d,i,a)):(e=mi(r.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&a)===0){var h=d.memoizedProps;if(r=r.compare,r=r!==null?r:Bn,r(h,i)&&e.ref===t.ref)return Ht(e,t,a)}return t.flags|=1,e=cr(d,i),e.ref=t.ref,e.return=t,t.child=e}function mc(e,t,r,i,a){if(e!==null){var d=e.memoizedProps;if(Bn(d,i)&&e.ref===t.ref)if(ot=!1,t.pendingProps=i=d,(e.lanes&a)!==0)(e.flags&131072)!==0&&(ot=!0);else return t.lanes=e.lanes,Ht(e,t,a)}return ta(e,t,r,i,a)}function yc(e,t,r){var i=t.pendingProps,a=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(sn,pt),pt|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(sn,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,Ee(sn,pt),pt|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,Ee(sn,pt),pt|=i;return et(e,t,a,r),t.child}function vc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ta(e,t,r,i,a){var d=it(r)?wr:Ge.current;return d=Jr(t,d),en(t,a),r=Vo(e,t,r,i,d,a),i=qo(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ht(e,t,a)):(Ae&&i&&bo(t),t.flags|=1,et(e,t,r,a),t.child)}function wc(e,t,r,i,a){if(it(r)){var d=!0;Fs(t)}else d=!1;if(en(t,a),t.stateNode===null)ii(e,t),ac(t,r,i),Xo(t,r,i,a),i=!0;else if(e===null){var h=t.stateNode,y=t.memoizedProps;h.props=y;var w=h.context,T=r.contextType;typeof T=="object"&&T!==null?T=yt(T):(T=it(r)?wr:Ge.current,T=Jr(t,T));var N=r.getDerivedStateFromProps,L=typeof N=="function"||typeof h.getSnapshotBeforeUpdate=="function";L||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==i||w!==T)&&lc(t,h,i,T),nr=!1;var O=t.memoizedState;h.state=O,Qs(t,i,h,a),w=t.memoizedState,y!==i||O!==w||st.current||nr?(typeof N=="function"&&(Yo(t,r,N,i),w=t.memoizedState),(y=nr||oc(t,r,y,i,O,w,T))?(L||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=w),h.props=i,h.state=w,h.context=T,i=y):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,Lu(e,t),y=t.memoizedProps,T=t.type===t.elementType?y:Ct(t.type,y),h.props=T,L=t.pendingProps,O=h.context,w=r.contextType,typeof w=="object"&&w!==null?w=yt(w):(w=it(r)?wr:Ge.current,w=Jr(t,w));var z=r.getDerivedStateFromProps;(N=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==L||O!==w)&&lc(t,h,i,w),nr=!1,O=t.memoizedState,h.state=O,Qs(t,i,h,a);var W=t.memoizedState;y!==L||O!==W||st.current||nr?(typeof z=="function"&&(Yo(t,r,z,i),W=t.memoizedState),(T=nr||oc(t,r,T,i,O,W,w)||!1)?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,W,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,W,w)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=W),h.props=i,h.state=W,h.context=w,i=T):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),i=!1)}return ra(e,t,r,i,d,a)}function ra(e,t,r,i,a,d){vc(e,t);var h=(t.flags&128)!==0;if(!i&&!h)return a&&xu(t,r,!1),Ht(e,t,d);i=t.stateNode,Lh.current=t;var y=h&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&h?(t.child=Xr(t,e.child,null,d),t.child=Xr(t,null,y,d)):et(e,t,y,d),t.memoizedState=i.state,a&&xu(t,r,!0),t.child}function _c(e){var t=e.stateNode;t.pendingContext?ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ku(e,t.context,!1),zo(e,t.containerInfo)}function Sc(e,t,r,i,a){return Yr(),Oo(a),t.flags|=256,et(e,t,r,i),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function sa(e){return{baseLanes:e,cachePool:null,transitions:null}}function kc(e,t,r){var i=t.pendingProps,a=Re.current,d=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(a&2)!==0),y?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ee(Re,a&1),e===null)return Ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=i.children,e=i.fallback,d?(i=t.mode,d=t.child,h={mode:"hidden",children:h},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=yi(h,i,0,null),e=jr(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=sa(r),t.memoizedState=na,e):ia(t,h));if(a=e.memoizedState,a!==null&&(y=a.dehydrated,y!==null))return $h(e,t,h,i,y,a,r);if(d){d=i.fallback,h=t.mode,a=e.child,y=a.sibling;var w={mode:"hidden",children:i.children};return(h&1)===0&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=w,t.deletions=null):(i=cr(a,w),i.subtreeFlags=a.subtreeFlags&14680064),y!==null?d=cr(y,d):(d=jr(d,h,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,h=e.child.memoizedState,h=h===null?sa(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~r,t.memoizedState=na,i}return d=e.child,e=d.sibling,i=cr(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ia(e,t){return t=yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function si(e,t,r,i){return i!==null&&Oo(i),Xr(t,e.child,null,r),e=ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $h(e,t,r,i,a,d,h){if(r)return t.flags&256?(t.flags&=-257,i=Zo(Error(s(422))),si(e,t,h,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,a=t.mode,i=yi({mode:"visible",children:i.children},a,0,null),d=jr(d,a,h,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&Xr(t,e.child,null,h),t.child.memoizedState=sa(h),t.memoizedState=na,d);if((t.mode&1)===0)return si(e,t,h,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var y=i.dgst;return i=y,d=Error(s(419)),i=Zo(d,i,void 0),si(e,t,h,i)}if(y=(h&e.childLanes)!==0,ot||y){if(i=We,i!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(i.suspendedLanes|h))!==0?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,Ft(e,a),bt(i,e,a,-1))}return Sa(),i=Zo(Error(s(421))),si(e,t,h,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Gh.bind(null,e),a._reactRetry=t,null):(e=d.treeContext,ht=Zt(a.nextSibling),ft=t,Ae=!0,xt=null,e!==null&&(gt[mt++]=zt,gt[mt++]=Bt,gt[mt++]=_r,zt=e.id,Bt=e.overflow,_r=t),t=ia(t,i.children),t.flags|=4096,t)}function Ec(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),$o(e.return,t,r)}function oa(e,t,r,i,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:a}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=a)}function xc(e,t,r){var i=t.pendingProps,a=i.revealOrder,d=i.tail;if(et(e,t,i.children,r),i=Re.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ec(e,r,t);else if(e.tag===19)Ec(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ee(Re,i),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ys(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),oa(t,!1,a,r,d);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ys(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}oa(t,!0,r,null,d);break;case"together":oa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ii(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=cr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=cr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Uh(e,t,r){switch(t.tag){case 3:_c(t),Yr();break;case 5:Du(t);break;case 1:it(t.type)&&Fs(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;Ee(Ks,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ee(Re,Re.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?kc(e,t,r):(Ee(Re,Re.current&1),e=Ht(e,t,r),e!==null?e.sibling:null);Ee(Re,Re.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return xc(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ee(Re,Re.current),i)break;return null;case 22:case 23:return t.lanes=0,yc(e,t,r)}return Ht(e,t,r)}var Cc,aa,Pc,Tc;Cc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},aa=function(){},Pc=function(e,t,r,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Er(It.current);var d=null;switch(r){case"input":a=Li(e,a),i=Li(e,i),d=[];break;case"select":a=H({},a,{value:void 0}),i=H({},i,{value:void 0}),d=[];break;case"textarea":a=Di(e,a),i=Di(e,i),d=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ds)}Bi(r,i);var h;r=null;for(T in a)if(!i.hasOwnProperty(T)&&a.hasOwnProperty(T)&&a[T]!=null)if(T==="style"){var y=a[T];for(h in y)y.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(l.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in i){var w=i[T];if(y=a?.[T],i.hasOwnProperty(T)&&w!==y&&(w!=null||y!=null))if(T==="style")if(y){for(h in y)!y.hasOwnProperty(h)||w&&w.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in w)w.hasOwnProperty(h)&&y[h]!==w[h]&&(r||(r={}),r[h]=w[h])}else r||(d||(d=[]),d.push(T,r)),r=w;else T==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,y=y?y.__html:void 0,w!=null&&y!==w&&(d=d||[]).push(T,w)):T==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(T,""+w):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(l.hasOwnProperty(T)?(w!=null&&T==="onScroll"&&Te("scroll",e),d||y===w||(d=[])):(d=d||[]).push(T,w))}r&&(d=d||[]).push("style",r);var T=d;(t.updateQueue=T)&&(t.flags|=4)}},Tc=function(e,t,r,i){r!==i&&(t.flags|=4)};function ts(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Dh(e,t,r){var i=t.pendingProps;switch(jo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return it(t.type)&&Bs(),Ye(t),null;case 3:return i=t.stateNode,tn(),be(st),be(Ge),Mo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xt!==null&&(va(xt),xt=null))),aa(e,t),Ye(t),null;case 5:Bo(t);var a=Er(Qn.current);if(r=t.type,e!==null&&t.stateNode!=null)Pc(e,t,r,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}if(e=Er(It.current),Vs(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[Ot]=t,i[Vn]=d,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(a=0;a<Mn.length;a++)Te(Mn[a],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":al(i,d),Te("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},Te("invalid",i);break;case"textarea":cl(i,d),Te("invalid",i)}Bi(r,d),a=null;for(var h in d)if(d.hasOwnProperty(h)){var y=d[h];h==="children"?typeof y=="string"?i.textContent!==y&&(d.suppressHydrationWarning!==!0&&Us(i.textContent,y,e),a=["children",y]):typeof y=="number"&&i.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&Us(i.textContent,y,e),a=["children",""+y]):l.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&Te("scroll",i)}switch(r){case"input":ps(i),ul(i,d,!0);break;case"textarea":ps(i),fl(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=Ds)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hl(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=h.createElement(r,{is:i.is}):(e=h.createElement(r),r==="select"&&(h=e,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):e=h.createElementNS(e,r),e[Ot]=t,e[Vn]=i,Cc(e,t,!1,!1),t.stateNode=e;e:{switch(h=Fi(r,i),r){case"dialog":Te("cancel",e),Te("close",e),a=i;break;case"iframe":case"object":case"embed":Te("load",e),a=i;break;case"video":case"audio":for(a=0;a<Mn.length;a++)Te(Mn[a],e);a=i;break;case"source":Te("error",e),a=i;break;case"img":case"image":case"link":Te("error",e),Te("load",e),a=i;break;case"details":Te("toggle",e),a=i;break;case"input":al(e,i),a=Li(e,i),Te("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=H({},i,{value:void 0}),Te("invalid",e);break;case"textarea":cl(e,i),a=Di(e,i),Te("invalid",e);break;default:a=i}Bi(r,a),y=a;for(d in y)if(y.hasOwnProperty(d)){var w=y[d];d==="style"?ml(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&pl(e,w)):d==="children"?typeof w=="string"?(r!=="textarea"||w!=="")&&En(e,w):typeof w=="number"&&En(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?w!=null&&d==="onScroll"&&Te("scroll",e):w!=null&&U(e,d,w,h))}switch(r){case"input":ps(e),ul(e,i,!1);break;case"textarea":ps(e),fl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+_e(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?$r(e,!!i.multiple,d,!1):i.defaultValue!=null&&$r(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ds)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)Tc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=Er(Qn.current),Er(It.current),Vs(t)){if(i=t.stateNode,r=t.memoizedProps,i[Ot]=t,(d=i.nodeValue!==r)&&(e=ft,e!==null))switch(e.tag){case 3:Us(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ot]=t,t.stateNode=i}return Ye(t),null;case 13:if(be(Re),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&ht!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Au(),Yr(),t.flags|=98560,d=!1;else if(d=Vs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ot]=t}else Yr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),d=!1}else xt!==null&&(va(xt),xt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?ze===0&&(ze=3):Sa())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return tn(),aa(e,t),e===null&&Hn(t.stateNode.containerInfo),Ye(t),null;case 10:return Lo(t.type._context),Ye(t),null;case 17:return it(t.type)&&Bs(),Ye(t),null;case 19:if(be(Re),d=t.memoizedState,d===null)return Ye(t),null;if(i=(t.flags&128)!==0,h=d.rendering,h===null)if(i)ts(d,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Ys(e),h!==null){for(t.flags|=128,ts(d,!1),i=h.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ee(Re,Re.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ne()>on&&(t.flags|=128,i=!0,ts(d,!1),t.lanes=4194304)}else{if(!i)if(e=Ys(h),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ts(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ae)return Ye(t),null}else 2*Ne()-d.renderingStartTime>on&&r!==1073741824&&(t.flags|=128,i=!0,ts(d,!1),t.lanes=4194304);d.isBackwards?(h.sibling=t.child,t.child=h):(r=d.last,r!==null?r.sibling=h:t.child=h,d.last=h)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ne(),t.sibling=null,r=Re.current,Ee(Re,i?r&1|2:r&1),t):(Ye(t),null);case 22:case 23:return _a(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(pt&1073741824)!==0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function zh(e,t){switch(jo(t),t.tag){case 1:return it(t.type)&&Bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(),be(st),be(Ge),Mo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Bo(t),null;case 13:if(be(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Re),null;case 4:return tn(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return _a(),null;case 24:return null;default:return null}}var oi=!1,Xe=!1,Bh=typeof WeakSet=="function"?WeakSet:Set,M=null;function nn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Ie(e,t,i)}else r.current=null}function la(e,t,r){try{r()}catch(i){Ie(e,t,i)}}var bc=!1;function Fh(e,t){if(_o=Ps,e=ou(),fo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var a=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var h=0,y=-1,w=-1,T=0,N=0,L=e,O=null;t:for(;;){for(var z;L!==r||a!==0&&L.nodeType!==3||(y=h+a),L!==d||i!==0&&L.nodeType!==3||(w=h+i),L.nodeType===3&&(h+=L.nodeValue.length),(z=L.firstChild)!==null;)O=L,L=z;for(;;){if(L===e)break t;if(O===r&&++T===a&&(y=h),O===d&&++N===i&&(w=h),(z=L.nextSibling)!==null)break;L=O,O=L.parentNode}L=z}r=y===-1||w===-1?null:{start:y,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(So={focusedElem:e,selectionRange:r},Ps=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var W=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(W!==null){var V=W.memoizedProps,Le=W.memoizedState,x=t.stateNode,S=x.getSnapshotBeforeUpdate(t.elementType===t.type?V:Ct(t.type,V),Le);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch($){Ie(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return W=bc,bc=!1,W}function rs(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&la(t,r,d)}a=a.next}while(a!==i)}}function ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function ua(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jc(e){var t=e.alternate;t!==null&&(e.alternate=null,jc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[Vn],delete t[Co],delete t[Eh],delete t[xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ac(e){return e.tag===5||e.tag===3||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ca(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ds));else if(i!==4&&(e=e.child,e!==null))for(ca(e,t,r),e=e.sibling;e!==null;)ca(e,t,r),e=e.sibling}function da(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(da(e,t,r),e=e.sibling;e!==null;)da(e,t,r),e=e.sibling}var Ke=null,Pt=!1;function ir(e,t,r){for(r=r.child;r!==null;)Oc(e,t,r),r=r.sibling}function Oc(e,t,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(_s,r)}catch{}switch(r.tag){case 5:Xe||nn(r,t);case 6:var i=Ke,a=Pt;Ke=null,ir(e,t,r),Ke=i,Pt=a,Ke!==null&&(Pt?(e=Ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ke.removeChild(r.stateNode));break;case 18:Ke!==null&&(Pt?(e=Ke,r=r.stateNode,e.nodeType===8?xo(e.parentNode,r):e.nodeType===1&&xo(e,r),Nn(e)):xo(Ke,r.stateNode));break;case 4:i=Ke,a=Pt,Ke=r.stateNode.containerInfo,Pt=!0,ir(e,t,r),Ke=i,Pt=a;break;case 0:case 11:case 14:case 15:if(!Xe&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var d=a,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&la(r,t,h),a=a.next}while(a!==i)}ir(e,t,r);break;case 1:if(!Xe&&(nn(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(y){Ie(r,t,y)}ir(e,t,r);break;case 21:ir(e,t,r);break;case 22:r.mode&1?(Xe=(i=Xe)||r.memoizedState!==null,ir(e,t,r),Xe=i):ir(e,t,r);break;default:ir(e,t,r)}}function Ic(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Bh),t.forEach(function(i){var a=Qh.bind(null,e,i);r.has(i)||(r.add(i),i.then(a,a))})}}function Tt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var a=r[i];try{var d=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 5:Ke=y.stateNode,Pt=!1;break e;case 3:Ke=y.stateNode.containerInfo,Pt=!0;break e;case 4:Ke=y.stateNode.containerInfo,Pt=!0;break e}y=y.return}if(Ke===null)throw Error(s(160));Oc(d,h,a),Ke=null,Pt=!1;var w=a.alternate;w!==null&&(w.return=null),a.return=null}catch(T){Ie(a,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nc(t,e),t=t.sibling}function Nc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Lt(e),i&4){try{rs(3,e,e.return),ai(3,e)}catch(V){Ie(e,e.return,V)}try{rs(5,e,e.return)}catch(V){Ie(e,e.return,V)}}break;case 1:Tt(t,e),Lt(e),i&512&&r!==null&&nn(r,r.return);break;case 5:if(Tt(t,e),Lt(e),i&512&&r!==null&&nn(r,r.return),e.flags&32){var a=e.stateNode;try{En(a,"")}catch(V){Ie(e,e.return,V)}}if(i&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,h=r!==null?r.memoizedProps:d,y=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&ll(a,d),Fi(y,h);var T=Fi(y,d);for(h=0;h<w.length;h+=2){var N=w[h],L=w[h+1];N==="style"?ml(a,L):N==="dangerouslySetInnerHTML"?pl(a,L):N==="children"?En(a,L):U(a,N,L,T)}switch(y){case"input":$i(a,d);break;case"textarea":dl(a,d);break;case"select":var O=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var z=d.value;z!=null?$r(a,!!d.multiple,z,!1):O!==!!d.multiple&&(d.defaultValue!=null?$r(a,!!d.multiple,d.defaultValue,!0):$r(a,!!d.multiple,d.multiple?[]:"",!1))}a[Vn]=d}catch(V){Ie(e,e.return,V)}}break;case 6:if(Tt(t,e),Lt(e),i&4){if(e.stateNode===null)throw Error(s(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(V){Ie(e,e.return,V)}}break;case 3:if(Tt(t,e),Lt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Nn(t.containerInfo)}catch(V){Ie(e,e.return,V)}break;case 4:Tt(t,e),Lt(e);break;case 13:Tt(t,e),Lt(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(pa=Ne())),i&4&&Ic(e);break;case 22:if(N=r!==null&&r.memoizedState!==null,e.mode&1?(Xe=(T=Xe)||N,Tt(t,e),Xe=T):Tt(t,e),Lt(e),i&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!N&&(e.mode&1)!==0)for(M=e,N=e.child;N!==null;){for(L=M=N;M!==null;){switch(O=M,z=O.child,O.tag){case 0:case 11:case 14:case 15:rs(4,O,O.return);break;case 1:nn(O,O.return);var W=O.stateNode;if(typeof W.componentWillUnmount=="function"){i=O,r=O.return;try{t=i,W.props=t.memoizedProps,W.state=t.memoizedState,W.componentWillUnmount()}catch(V){Ie(i,r,V)}}break;case 5:nn(O,O.return);break;case 22:if(O.memoizedState!==null){Uc(L);continue}}z!==null?(z.return=O,M=z):Uc(L)}N=N.sibling}e:for(N=null,L=e;;){if(L.tag===5){if(N===null){N=L;try{a=L.stateNode,T?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=L.stateNode,w=L.memoizedProps.style,h=w!=null&&w.hasOwnProperty("display")?w.display:null,y.style.display=gl("display",h))}catch(V){Ie(e,e.return,V)}}}else if(L.tag===6){if(N===null)try{L.stateNode.nodeValue=T?"":L.memoizedProps}catch(V){Ie(e,e.return,V)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;N===L&&(N=null),L=L.return}N===L&&(N=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:Tt(t,e),Lt(e),i&4&&Ic(e);break;case 21:break;default:Tt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ac(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(En(a,""),i.flags&=-33);var d=Rc(e);da(e,d,a);break;case 3:case 4:var h=i.stateNode.containerInfo,y=Rc(e);ca(e,y,h);break;default:throw Error(s(161))}}catch(w){Ie(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mh(e,t,r){M=e,Lc(e)}function Lc(e,t,r){for(var i=(e.mode&1)!==0;M!==null;){var a=M,d=a.child;if(a.tag===22&&i){var h=a.memoizedState!==null||oi;if(!h){var y=a.alternate,w=y!==null&&y.memoizedState!==null||Xe;y=oi;var T=Xe;if(oi=h,(Xe=w)&&!T)for(M=a;M!==null;)h=M,w=h.child,h.tag===22&&h.memoizedState!==null?Dc(a):w!==null?(w.return=h,M=w):Dc(a);for(;d!==null;)M=d,Lc(d),d=d.sibling;M=a,oi=y,Xe=T}$c(e)}else(a.subtreeFlags&8772)!==0&&d!==null?(d.return=a,M=d):$c(e)}}function $c(e){for(;M!==null;){var t=M;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Xe||ai(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Xe)if(r===null)i.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ct(t.type,r.memoizedProps);i.componentDidUpdate(a,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Uu(t,d,i);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uu(t,h,r)}break;case 5:var y=t.stateNode;if(r===null&&t.flags&4){r=y;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&r.focus();break;case"img":w.src&&(r.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var N=T.memoizedState;if(N!==null){var L=N.dehydrated;L!==null&&Nn(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Xe||t.flags&512&&ua(t)}catch(O){Ie(t,t.return,O)}}if(t===e){M=null;break}if(r=t.sibling,r!==null){r.return=t.return,M=r;break}M=t.return}}function Uc(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var r=t.sibling;if(r!==null){r.return=t.return,M=r;break}M=t.return}}function Dc(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ai(4,t)}catch(w){Ie(t,r,w)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(w){Ie(t,a,w)}}var d=t.return;try{ua(t)}catch(w){Ie(t,d,w)}break;case 5:var h=t.return;try{ua(t)}catch(w){Ie(t,h,w)}}}catch(w){Ie(t,t.return,w)}if(t===e){M=null;break}var y=t.sibling;if(y!==null){y.return=t.return,M=y;break}M=t.return}}var Hh=Math.ceil,li=B.ReactCurrentDispatcher,fa=B.ReactCurrentOwner,wt=B.ReactCurrentBatchConfig,de=0,We=null,Ue=null,Je=0,pt=0,sn=er(0),ze=0,ns=null,Cr=0,ui=0,ha=0,ss=null,at=null,pa=0,on=1/0,Wt=null,ci=!1,ga=null,or=null,di=!1,ar=null,fi=0,is=0,ma=null,hi=-1,pi=0;function tt(){return(de&6)!==0?Ne():hi!==-1?hi:hi=Ne()}function lr(e){return(e.mode&1)===0?1:(de&2)!==0&&Je!==0?Je&-Je:Ph.transition!==null?(pi===0&&(pi=Rl()),pi):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Bl(e.type)),e)}function bt(e,t,r,i){if(50<is)throw is=0,ma=null,Error(s(185));jn(e,r,i),((de&2)===0||e!==We)&&(e===We&&((de&2)===0&&(ui|=r),ze===4&&ur(e,Je)),lt(e,i),r===1&&de===0&&(t.mode&1)===0&&(on=Ne()+500,Ms&&rr()))}function lt(e,t){var r=e.callbackNode;Pf(e,t);var i=Es(e,e===We?Je:0);if(i===0)r!==null&&bl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&bl(r),t===1)e.tag===0?Ch(Bc.bind(null,e)):Cu(Bc.bind(null,e)),Sh(function(){(de&6)===0&&rr()}),r=null;else{switch(Ol(i)){case 1:r=Ji;break;case 4:r=jl;break;case 16:r=ws;break;case 536870912:r=Al;break;default:r=ws}r=Jc(r,zc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zc(e,t){if(hi=-1,pi=0,(de&6)!==0)throw Error(s(327));var r=e.callbackNode;if(an()&&e.callbackNode!==r)return null;var i=Es(e,e===We?Je:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=gi(e,i);else{t=i;var a=de;de|=2;var d=Mc();(We!==e||Je!==t)&&(Wt=null,on=Ne()+500,Tr(e,t));do try{qh();break}catch(y){Fc(e,y)}while(!0);No(),li.current=d,de=a,Ue!==null?t=0:(We=null,Je=0,t=ze)}if(t!==0){if(t===2&&(a=Gi(e),a!==0&&(i=a,t=ya(e,a))),t===1)throw r=ns,Tr(e,0),ur(e,i),lt(e,Ne()),r;if(t===6)ur(e,i);else{if(a=e.current.alternate,(i&30)===0&&!Wh(a)&&(t=gi(e,i),t===2&&(d=Gi(e),d!==0&&(i=d,t=ya(e,d))),t===1))throw r=ns,Tr(e,0),ur(e,i),lt(e,Ne()),r;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:br(e,at,Wt);break;case 3:if(ur(e,i),(i&130023424)===i&&(t=pa+500-Ne(),10<t)){if(Es(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Eo(br.bind(null,e,at,Wt),t);break}br(e,at,Wt);break;case 4:if(ur(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var h=31-kt(i);d=1<<h,h=t[h],h>a&&(a=h),i&=~d}if(i=a,i=Ne()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Hh(i/1960))-i,10<i){e.timeoutHandle=Eo(br.bind(null,e,at,Wt),i);break}br(e,at,Wt);break;case 5:br(e,at,Wt);break;default:throw Error(s(329))}}}return lt(e,Ne()),e.callbackNode===r?zc.bind(null,e):null}function ya(e,t){var r=ss;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=gi(e,t),e!==2&&(t=at,at=r,t!==null&&va(t)),e}function va(e){at===null?at=e:at.push.apply(at,e)}function Wh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var a=r[i],d=a.getSnapshot;a=a.value;try{if(!Et(d(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~ha,t&=~ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kt(t),i=1<<r;e[r]=-1,t&=~i}}function Bc(e){if((de&6)!==0)throw Error(s(327));an();var t=Es(e,0);if((t&1)===0)return lt(e,Ne()),null;var r=gi(e,t);if(e.tag!==0&&r===2){var i=Gi(e);i!==0&&(t=i,r=ya(e,i))}if(r===1)throw r=ns,Tr(e,0),ur(e,t),lt(e,Ne()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,at,Wt),lt(e,Ne()),null}function wa(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(on=Ne()+500,Ms&&rr())}}function Pr(e){ar!==null&&ar.tag===0&&(de&6)===0&&an();var t=de;de|=1;var r=wt.transition,i=Se;try{if(wt.transition=null,Se=1,e)return e()}finally{Se=i,wt.transition=r,de=t,(de&6)===0&&rr()}}function _a(){pt=sn.current,be(sn)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_h(r)),Ue!==null)for(r=Ue.return;r!==null;){var i=r;switch(jo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Bs();break;case 3:tn(),be(st),be(Ge),Mo();break;case 5:Bo(i);break;case 4:tn();break;case 13:be(Re);break;case 19:be(Re);break;case 10:Lo(i.type._context);break;case 22:case 23:_a()}r=r.return}if(We=e,Ue=e=cr(e.current,null),Je=pt=t,ze=0,ns=null,ha=ui=Cr=0,at=ss=null,kr!==null){for(t=0;t<kr.length;t++)if(r=kr[t],i=r.interleaved,i!==null){r.interleaved=null;var a=i.next,d=r.pending;if(d!==null){var h=d.next;d.next=a,i.next=h}r.pending=i}kr=null}return e}function Fc(e,t){do{var r=Ue;try{if(No(),Xs.current=ri,Zs){for(var i=Oe.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Zs=!1}if(xr=0,He=De=Oe=null,Yn=!1,Xn=0,fa.current=null,r===null||r.return===null){ze=1,ns=t,Ue=null;break}e:{var d=e,h=r.return,y=r,w=t;if(t=Je,y.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var T=w,N=y,L=N.tag;if((N.mode&1)===0&&(L===0||L===11||L===15)){var O=N.alternate;O?(N.updateQueue=O.updateQueue,N.memoizedState=O.memoizedState,N.lanes=O.lanes):(N.updateQueue=null,N.memoizedState=null)}var z=fc(h);if(z!==null){z.flags&=-257,hc(z,h,y,d,t),z.mode&1&&dc(d,T,t),t=z,w=T;var W=t.updateQueue;if(W===null){var V=new Set;V.add(w),t.updateQueue=V}else W.add(w);break e}else{if((t&1)===0){dc(d,T,t),Sa();break e}w=Error(s(426))}}else if(Ae&&y.mode&1){var Le=fc(h);if(Le!==null){(Le.flags&65536)===0&&(Le.flags|=256),hc(Le,h,y,d,t),Oo(rn(w,y));break e}}d=w=rn(w,y),ze!==4&&(ze=2),ss===null?ss=[d]:ss.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var x=uc(d,w,t);$u(d,x);break e;case 1:y=w;var S=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(or===null||!or.has(C)))){d.flags|=65536,t&=-t,d.lanes|=t;var $=cc(d,y,t);$u(d,$);break e}}d=d.return}while(d!==null)}Wc(r)}catch(q){t=q,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function Mc(){var e=li.current;return li.current=ri,e===null?ri:e}function Sa(){(ze===0||ze===3||ze===2)&&(ze=4),We===null||(Cr&268435455)===0&&(ui&268435455)===0||ur(We,Je)}function gi(e,t){var r=de;de|=2;var i=Mc();(We!==e||Je!==t)&&(Wt=null,Tr(e,t));do try{Vh();break}catch(a){Fc(e,a)}while(!0);if(No(),de=r,li.current=i,Ue!==null)throw Error(s(261));return We=null,Je=0,ze}function Vh(){for(;Ue!==null;)Hc(Ue)}function qh(){for(;Ue!==null&&!yf();)Hc(Ue)}function Hc(e){var t=Kc(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Wc(e):Ue=t,fa.current=null}function Wc(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Dh(r,t,pt),r!==null){Ue=r;return}}else{if(r=zh(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ue=null;return}}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);ze===0&&(ze=5)}function br(e,t,r){var i=Se,a=wt.transition;try{wt.transition=null,Se=1,Kh(e,t,r,i)}finally{wt.transition=a,Se=i}return null}function Kh(e,t,r,i){do an();while(ar!==null);if((de&6)!==0)throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(Tf(e,d),e===We&&(Ue=We=null,Je=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||di||(di=!0,Jc(ws,function(){return an(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=wt.transition,wt.transition=null;var h=Se;Se=1;var y=de;de|=4,fa.current=null,Fh(e,r),Nc(r,e),hh(So),Ps=!!_o,So=_o=null,e.current=r,Mh(r),vf(),de=y,Se=h,wt.transition=d}else e.current=r;if(di&&(di=!1,ar=e,fi=a),d=e.pendingLanes,d===0&&(or=null),Sf(r.stateNode),lt(e,Ne()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],i(a.value,{componentStack:a.stack,digest:a.digest});if(ci)throw ci=!1,e=ga,ga=null,e;return(fi&1)!==0&&e.tag!==0&&an(),d=e.pendingLanes,(d&1)!==0?e===ma?is++:(is=0,ma=e):is=0,rr(),null}function an(){if(ar!==null){var e=Ol(fi),t=wt.transition,r=Se;try{if(wt.transition=null,Se=16>e?16:e,ar===null)var i=!1;else{if(e=ar,ar=null,fi=0,(de&6)!==0)throw Error(s(331));var a=de;for(de|=4,M=e.current;M!==null;){var d=M,h=d.child;if((M.flags&16)!==0){var y=d.deletions;if(y!==null){for(var w=0;w<y.length;w++){var T=y[w];for(M=T;M!==null;){var N=M;switch(N.tag){case 0:case 11:case 15:rs(8,N,d)}var L=N.child;if(L!==null)L.return=N,M=L;else for(;M!==null;){N=M;var O=N.sibling,z=N.return;if(jc(N),N===T){M=null;break}if(O!==null){O.return=z,M=O;break}M=z}}}var W=d.alternate;if(W!==null){var V=W.child;if(V!==null){W.child=null;do{var Le=V.sibling;V.sibling=null,V=Le}while(V!==null)}}M=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,M=h;else e:for(;M!==null;){if(d=M,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:rs(9,d,d.return)}var x=d.sibling;if(x!==null){x.return=d.return,M=x;break e}M=d.return}}var S=e.current;for(M=S;M!==null;){h=M;var C=h.child;if((h.subtreeFlags&2064)!==0&&C!==null)C.return=h,M=C;else e:for(h=S;M!==null;){if(y=M,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:ai(9,y)}}catch(q){Ie(y,y.return,q)}if(y===h){M=null;break e}var $=y.sibling;if($!==null){$.return=y.return,M=$;break e}M=y.return}}if(de=a,rr(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(_s,e)}catch{}i=!0}return i}finally{Se=r,wt.transition=t}}return!1}function Vc(e,t,r){t=rn(r,t),t=uc(e,t,1),e=sr(e,t,1),t=tt(),e!==null&&(jn(e,1,t),lt(e,t))}function Ie(e,t,r){if(e.tag===3)Vc(e,e,r);else for(;t!==null;){if(t.tag===3){Vc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(or===null||!or.has(i))){e=rn(r,e),e=cc(t,e,1),t=sr(t,e,1),e=tt(),t!==null&&(jn(t,1,e),lt(t,e));break}}t=t.return}}function Jh(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&r,We===e&&(Je&r)===r&&(ze===4||ze===3&&(Je&130023424)===Je&&500>Ne()-pa?Tr(e,0):ha|=r),lt(e,t)}function qc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ks,ks<<=1,(ks&130023424)===0&&(ks=4194304)));var r=tt();e=Ft(e,t),e!==null&&(jn(e,t,r),lt(e,r))}function Gh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qc(e,r)}function Qh(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),qc(e,r)}var Kc;Kc=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ot=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return ot=!1,Uh(e,t,r);ot=(e.flags&131072)!==0}else ot=!1,Ae&&(t.flags&1048576)!==0&&Pu(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ii(e,t),e=t.pendingProps;var a=Jr(t,Ge.current);en(t,r),a=Vo(null,t,i,e,a,r);var d=qo();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(i)?(d=!0,Fs(t)):d=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Do(t),a.updater=ni,t.stateNode=a,a._reactInternals=t,Xo(t,i,e,r),t=ra(null,t,i,!0,d,r)):(t.tag=0,Ae&&d&&bo(t),et(null,t,a,r),t=t.child),t;case 16:i=t.elementType;e:{switch(ii(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=Xh(i),e=Ct(i,e),a){case 0:t=ta(null,t,i,e,r);break e;case 1:t=wc(null,t,i,e,r);break e;case 11:t=pc(null,t,i,e,r);break e;case 14:t=gc(null,t,i,Ct(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Ct(i,a),ta(e,t,i,a,r);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Ct(i,a),wc(e,t,i,a,r);case 3:e:{if(_c(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,a=d.element,Lu(e,t),Qs(t,i,null,r);var h=t.memoizedState;if(i=h.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){a=rn(Error(s(423)),t),t=Sc(e,t,i,r,a);break e}else if(i!==a){a=rn(Error(s(424)),t),t=Sc(e,t,i,r,a);break e}else for(ht=Zt(t.stateNode.containerInfo.firstChild),ft=t,Ae=!0,xt=null,r=Iu(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yr(),i===a){t=Ht(e,t,r);break e}et(e,t,i,r)}t=t.child}return t;case 5:return Du(t),e===null&&Ro(t),i=t.type,a=t.pendingProps,d=e!==null?e.memoizedProps:null,h=a.children,ko(i,a)?h=null:d!==null&&ko(i,d)&&(t.flags|=32),vc(e,t),et(e,t,h,r),t.child;case 6:return e===null&&Ro(t),null;case 13:return kc(e,t,r);case 4:return zo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Xr(t,null,i,r):et(e,t,i,r),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Ct(i,a),pc(e,t,i,a,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,d=t.memoizedProps,h=a.value,Ee(Ks,i._currentValue),i._currentValue=h,d!==null)if(Et(d.value,h)){if(d.children===a.children&&!st.current){t=Ht(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){h=d.child;for(var w=y.firstContext;w!==null;){if(w.context===i){if(d.tag===1){w=Mt(-1,r&-r),w.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var N=T.pending;N===null?w.next=w:(w.next=N.next,N.next=w),T.pending=w}}d.lanes|=r,w=d.alternate,w!==null&&(w.lanes|=r),$o(d.return,r,t),y.lanes|=r;break}w=w.next}}else if(d.tag===10)h=d.type===t.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(s(341));h.lanes|=r,y=h.alternate,y!==null&&(y.lanes|=r),$o(h,r,t),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===t){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}et(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,en(t,r),a=yt(a),i=i(a),t.flags|=1,et(e,t,i,r),t.child;case 14:return i=t.type,a=Ct(i,t.pendingProps),a=Ct(i.type,a),gc(e,t,i,a,r);case 15:return mc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Ct(i,a),ii(e,t),t.tag=1,it(i)?(e=!0,Fs(t)):e=!1,en(t,r),ac(t,i,a),Xo(t,i,a,r),ra(null,t,i,!0,e,r);case 19:return xc(e,t,r);case 22:return yc(e,t,r)}throw Error(s(156,t.tag))};function Jc(e,t){return Tl(e,t)}function Yh(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,r,i){return new Yh(e,t,r,i)}function ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xh(e){if(typeof e=="function")return ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===Pe)return 14}return 2}function cr(e,t){var r=e.alternate;return r===null?(r=_t(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mi(e,t,r,i,a,d){var h=2;if(i=e,typeof e=="function")ka(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ee:return jr(r.children,a,d,t);case ce:h=8,a|=8;break;case ie:return e=_t(12,r,t,a|2),e.elementType=ie,e.lanes=d,e;case X:return e=_t(13,r,t,a),e.elementType=X,e.lanes=d,e;case fe:return e=_t(19,r,t,a),e.elementType=fe,e.lanes=d,e;case ye:return yi(r,a,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ne:h=10;break e;case Me:h=9;break e;case me:h=11;break e;case Pe:h=14;break e;case we:h=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=_t(h,r,t,a),t.elementType=e,t.type=i,t.lanes=d,t}function jr(e,t,r,i){return e=_t(7,e,i,t),e.lanes=r,e}function yi(e,t,r,i){return e=_t(22,e,i,t),e.elementType=ye,e.lanes=r,e.stateNode={isHidden:!1},e}function Ea(e,t,r){return e=_t(6,e,null,t),e.lanes=r,e}function xa(e,t,r){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zh(e,t,r,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ca(e,t,r,i,a,d,h,y,w){return e=new Zh(e,t,r,y,w),t===1?(t=1,d===!0&&(t|=8)):t=0,d=_t(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(d),e}function ep(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Gc(e){if(!e)return tr;e=e._reactInternals;e:{if(yr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(it(r))return Eu(e,r,t)}return t}function Qc(e,t,r,i,a,d,h,y,w){return e=Ca(r,i,!0,e,a,d,h,y,w),e.context=Gc(null),r=e.current,i=tt(),a=lr(r),d=Mt(i,a),d.callback=t??null,sr(r,d,a),e.current.lanes=a,jn(e,a,i),lt(e,i),e}function vi(e,t,r,i){var a=t.current,d=tt(),h=lr(a);return r=Gc(r),t.context===null?t.context=r:t.pendingContext=r,t=Mt(d,h),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=sr(a,t,h),e!==null&&(bt(e,a,h,d),Gs(e,a,h)),h}function wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Pa(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function tp(){return null}var Xc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ta(e){this._internalRoot=e}_i.prototype.render=Ta.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));vi(e,t,null,null)},_i.prototype.unmount=Ta.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){vi(null,e,null,null)}),t[Ut]=null}};function _i(e){this._internalRoot=e}_i.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ll();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qt.length&&t!==0&&t<Qt[r].priority;r++);Qt.splice(r,0,e),r===0&&Dl(e)}};function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zc(){}function rp(e,t,r,i,a){if(a){if(typeof i=="function"){var d=i;i=function(){var T=wi(h);d.call(T)}}var h=Qc(t,i,e,0,null,!1,!1,"",Zc);return e._reactRootContainer=h,e[Ut]=h.current,Hn(e.nodeType===8?e.parentNode:e),Pr(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var y=i;i=function(){var T=wi(w);y.call(T)}}var w=Ca(e,0,!1,null,null,!1,!1,"",Zc);return e._reactRootContainer=w,e[Ut]=w.current,Hn(e.nodeType===8?e.parentNode:e),Pr(function(){vi(t,w,r,i)}),w}function ki(e,t,r,i,a){var d=r._reactRootContainer;if(d){var h=d;if(typeof a=="function"){var y=a;a=function(){var w=wi(h);y.call(w)}}vi(t,h,e,a)}else h=rp(r,t,e,a,i);return wi(h)}Il=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bn(t.pendingLanes);r!==0&&(Yi(t,r|1),lt(t,Ne()),(de&6)===0&&(on=Ne()+500,rr()))}break;case 13:Pr(function(){var i=Ft(e,1);if(i!==null){var a=tt();bt(i,e,1,a)}}),Pa(e,1)}},Xi=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var r=tt();bt(t,e,134217728,r)}Pa(e,134217728)}},Nl=function(e){if(e.tag===13){var t=lr(e),r=Ft(e,t);if(r!==null){var i=tt();bt(r,e,t,i)}Pa(e,t)}},Ll=function(){return Se},$l=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}},Wi=function(e,t,r){switch(t){case"input":if($i(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var a=zs(i);if(!a)throw Error(s(90));ol(i),$i(i,a)}}}break;case"textarea":dl(e,r);break;case"select":t=r.value,t!=null&&$r(e,!!r.multiple,t,!1)}},_l=wa,Sl=Pr;var np={usingClientEntryPoint:!1,Events:[qn,qr,zs,vl,wl,wa]},os={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sp={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cl(e),e===null?null:e.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||tp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ei.isDisabled&&Ei.supportsFiber)try{_s=Ei.inject(sp),Rt=Ei}catch{}}return ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np,ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ba(t))throw Error(s(200));return ep(e,t,null,r)},ut.createRoot=function(e,t){if(!ba(e))throw Error(s(299));var r=!1,i="",a=Xc;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ca(e,1,!1,null,null,r,!1,i,a),e[Ut]=t.current,Hn(e.nodeType===8?e.parentNode:e),new Ta(t)},ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Cl(t),e=e===null?null:e.stateNode,e},ut.flushSync=function(e){return Pr(e)},ut.hydrate=function(e,t,r){if(!Si(t))throw Error(s(200));return ki(null,e,t,!0,r)},ut.hydrateRoot=function(e,t,r){if(!ba(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,a=!1,d="",h=Xc;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=Qc(t,null,e,1,r??null,a,!1,d,h),e[Ut]=t.current,Hn(e),i)for(e=0;e<i.length;e++)r=i[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new _i(t)},ut.render=function(e,t,r){if(!Si(t))throw Error(s(200));return ki(null,e,t,!1,r)},ut.unmountComponentAtNode=function(e){if(!Si(e))throw Error(s(40));return e._reactRootContainer?(Pr(function(){ki(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1},ut.unstable_batchedUpdates=wa,ut.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Si(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ki(e,t,r,!1,i)},ut.version="18.3.1-next-f1338f8080-20240426",ut}var ad;function hp(){if(ad)return Ra.exports;ad=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(n){console.error(n)}}return c(),Ra.exports=fp(),Ra.exports}var ld;function pp(){if(ld)return xi;ld=1;var c=hp();return xi.createRoot=c.createRoot,xi.hydrateRoot=c.hydrateRoot,xi}var gp=pp(),G=Za();const gr=Nd(G),mp="modulepreload",yp=function(c){return"/"+c},ud={},Ce=function(n,s,o){let l=Promise.resolve();if(s&&s.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=f(s.map(m=>{if(m=yp(m),m in ud)return;ud[m]=!0;const v=m.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":mp,v||(k.as="script"),k.crossOrigin="",k.href=m,g&&k.setAttribute("nonce",g),document.head.appendChild(k),v)return new Promise((R,j)=>{k.addEventListener("load",R),k.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return l.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return n().catch(u)})},vp=c=>{let n;return c?n=c:typeof fetch>"u"?n=(...s)=>Ce(async()=>{const{default:o}=await Promise.resolve().then(()=>Sn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class el extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class wp extends el{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class cd extends el{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class dd extends el{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ma;(function(c){c.Any="any",c.ApNortheast1="ap-northeast-1",c.ApNortheast2="ap-northeast-2",c.ApSouth1="ap-south-1",c.ApSoutheast1="ap-southeast-1",c.ApSoutheast2="ap-southeast-2",c.CaCentral1="ca-central-1",c.EuCentral1="eu-central-1",c.EuWest1="eu-west-1",c.EuWest2="eu-west-2",c.EuWest3="eu-west-3",c.SaEast1="sa-east-1",c.UsEast1="us-east-1",c.UsWest1="us-west-1",c.UsWest2="us-west-2"})(Ma||(Ma={}));var _p=function(c,n,s,o){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(_){f(_)}}function g(v){try{m(o.throw(v))}catch(_){f(_)}}function m(v){v.done?u(v.value):l(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};class Sp{constructor(n,{headers:s={},customFetch:o,region:l=Ma.Any}={}){this.url=n,this.headers=s,this.region=l,this.fetch=vp(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return _p(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:f}=s;let p={},{region:g}=s;g||(g=this.region);const m=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let v;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(p["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(p["Content-Type"]="application/json",v=JSON.stringify(f)));const _=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:v}).catch(A=>{throw new wp(A)}),k=_.headers.get("x-relay-error");if(k&&k==="true")throw new cd(_);if(!_.ok)throw new dd(_);let R=((o=_.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return R==="application/json"?j=yield _.json():R==="application/octet-stream"?j=yield _.blob():R==="text/event-stream"?j=_:R==="multipart/form-data"?j=yield _.formData():j=yield _.text(),{data:j,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof dd||l instanceof cd?l.context:void 0}}})}}var qe={},ln={},un={},cn={},dn={},fn={},kp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_n=kp();const Ep=_n.fetch,Ld=_n.fetch.bind(_n),$d=_n.Headers,xp=_n.Request,Cp=_n.Response,Sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:$d,Request:xp,Response:Cp,default:Ld,fetch:Ep},Symbol.toStringTag,{value:"Module"})),Pp=op(Sn);var Ci={},fd;function Ud(){if(fd)return Ci;fd=1,Object.defineProperty(Ci,"__esModule",{value:!0});class c extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ci.default=c,Ci}var hd;function Dd(){if(hd)return fn;hd=1;var c=fn&&fn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(fn,"__esModule",{value:!0});const n=c(Pp),s=c(Ud());class o{constructor(u){var f,p;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(f=u.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=u.signal,this.isMaybeSingle=(p=u.isMaybeSingle)!==null&&p!==void 0?p:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,f){return this.headers=new Headers(this.headers),this.headers.set(u,f),this}then(u,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,_,k,R;let j=null,A=null,b=null,F=m.status,Z=m.statusText;if(m.ok){if(this.method!=="HEAD"){const K=await m.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?A=K:A=JSON.parse(K))}const B=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),J=(k=m.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");B&&J&&J.length>1&&(b=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(j={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,b=null,F=406,Z="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const B=await m.text();try{j=JSON.parse(B),Array.isArray(j)&&m.status===404&&(A=[],j=null,F=200,Z="OK")}catch{m.status===404&&B===""?(F=204,Z="No Content"):j={message:B}}if(j&&this.isMaybeSingle&&(!((R=j?.details)===null||R===void 0)&&R.includes("0 rows"))&&(j=null,F=200,Z="OK"),j&&this.shouldThrowOnError)throw new s.default(j)}return{error:j,data:A,count:b,status:F,statusText:Z}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,_,k;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(_=m?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(k=m?.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),g.then(u,f)}returns(){return this}overrideTypes(){return this}}return fn.default=o,fn}var pd;function zd(){if(pd)return dn;pd=1;var c=dn&&dn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(dn,"__esModule",{value:!0});const n=c(Dd());class s extends n.default{select(l){let u=!1;const f=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${l}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:f=u}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(m,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var v;const _=[l?"analyze":null,u?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),k=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${k}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return dn.default=s,dn}var gd;function tl(){if(gd)return cn;gd=1;var c=cn&&cn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(cn,"__esModule",{value:!0});const n=c(zd());class s extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const f=Array.from(new Set(u)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${g}fts${m}.${u}`),this}match(l){return Object.entries(l).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(l,u,f){return this.url.searchParams.append(l,`not.${u}.${f}`),this}or(l,{foreignTable:u,referencedTable:f=u}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,u,f){return this.url.searchParams.append(l,`${u}.${f}`),this}}return cn.default=s,cn}var md;function Bd(){if(md)return un;md=1;var c=un&&un.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(un,"__esModule",{value:!0});const n=c(tl());class s{constructor(l,{headers:u={},schema:f,fetch:p}){this.url=l,this.headers=new Headers(u),this.schema=f,this.fetch=p}select(l,{head:u=!1,count:f}={}){const p=u?"HEAD":"GET";let g=!1;const m=(l??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:f=!0}={}){var p;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const _=l.reduce((k,R)=>k.concat(Object.keys(R)),[]);if(_.length>0){const k=[...new Set(_)].map(R=>`"${R}"`);this.url.searchParams.set("columns",k.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:u}={}){var f;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:l}={}){var u;const f="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return un.default=s,un}var yd;function Tp(){if(yd)return ln;yd=1;var c=ln&&ln.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ln,"__esModule",{value:!0});const n=c(Bd()),s=c(tl());class o{constructor(u,{headers:f={},schema:p,fetch:g}={}){this.url=u,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(u){const f=new URL(`${this.url}/${u}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:p=!1,get:g=!1,count:m}={}){var v;let _;const k=new URL(`${this.url}/rpc/${u}`);let R;p||g?(_=p?"HEAD":"GET",Object.entries(f).filter(([A,b])=>b!==void 0).map(([A,b])=>[A,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([A,b])=>{k.searchParams.append(A,b)})):(_="POST",R=f);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new s.default({method:_,url:k,headers:j,schema:this.schemaName,body:R,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return ln.default=o,ln}var vd;function bp(){if(vd)return qe;vd=1;var c=qe&&qe.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const n=c(Tp());qe.PostgrestClient=n.default;const s=c(Bd());qe.PostgrestQueryBuilder=s.default;const o=c(tl());qe.PostgrestFilterBuilder=o.default;const l=c(zd());qe.PostgrestTransformBuilder=l.default;const u=c(Dd());qe.PostgrestBuilder=u.default;const f=c(Ud());return qe.PostgrestError=f.default,qe.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:f.default},qe}var jp=bp();const Ap=Nd(jp),{PostgrestClient:Rp,PostgrestQueryBuilder:ay,PostgrestFilterBuilder:ly,PostgrestTransformBuilder:uy,PostgrestBuilder:cy,PostgrestError:dy}=Ap;class Op{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const o=this.getWebSocketConstructor();return new o(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ip="2.15.4",Np=`realtime-js/${Ip}`,Lp="1.0.0",Ha=1e4,$p=1e3,Up=100;var us;(function(c){c[c.connecting=0]="connecting",c[c.open=1]="open",c[c.closing=2]="closing",c[c.closed=3]="closed"})(us||(us={}));var Be;(function(c){c.closed="closed",c.errored="errored",c.joined="joined",c.joining="joining",c.leaving="leaving"})(Be||(Be={}));var At;(function(c){c.close="phx_close",c.error="phx_error",c.join="phx_join",c.reply="phx_reply",c.leave="phx_leave",c.access_token="access_token"})(At||(At={}));var Wa;(function(c){c.websocket="websocket"})(Wa||(Wa={}));var Nr;(function(c){c.Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed"})(Nr||(Nr={}));class Dp{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const l=s.getUint8(1),u=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(n.slice(f,f+l));f=f+l;const g=o.decode(n.slice(f,f+u));f=f+u;const m=JSON.parse(o.decode(n.slice(f,n.byteLength)));return{ref:null,topic:p,event:g,payload:m}}}class Fd{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(c){c.abstime="abstime",c.bool="bool",c.date="date",c.daterange="daterange",c.float4="float4",c.float8="float8",c.int2="int2",c.int4="int4",c.int4range="int4range",c.int8="int8",c.int8range="int8range",c.json="json",c.jsonb="jsonb",c.money="money",c.numeric="numeric",c.oid="oid",c.reltime="reltime",c.text="text",c.time="time",c.timestamp="timestamp",c.timestamptz="timestamptz",c.timetz="timetz",c.tsrange="tsrange",c.tstzrange="tstzrange"})(xe||(xe={}));const wd=(c,n,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((u,f)=>(u[f]=zp(f,c,n,l),u),{})},zp=(c,n,s,o)=>{const l=n.find(p=>p.name===c),u=l?.type,f=s[c];return u&&!o.includes(u)?Md(u,f):Va(f)},Md=(c,n)=>{if(c.charAt(0)==="_"){const s=c.slice(1,c.length);return Hp(n,s)}switch(c){case xe.bool:return Bp(n);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return Fp(n);case xe.json:case xe.jsonb:return Mp(n);case xe.timestamp:return Wp(n);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return Va(n);default:return Va(n)}},Va=c=>c,Bp=c=>{switch(c){case"t":return!0;case"f":return!1;default:return c}},Fp=c=>{if(typeof c=="string"){const n=parseFloat(c);if(!Number.isNaN(n))return n}return c},Mp=c=>{if(typeof c=="string")try{return JSON.parse(c)}catch(n){return console.log(`JSON parse error: ${n}`),c}return c},Hp=(c,n)=>{if(typeof c!="string")return c;const s=c.length-1,o=c[s];if(c[0]==="{"&&o==="}"){let u;const f=c.slice(1,s);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(p=>Md(n,p))}return c},Wp=c=>typeof c=="string"?c.replace(" ","T"):c,Hd=c=>{let n=c;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Na{constructor(n,s,o={},l=Ha){this.channel=n,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var _d;(function(c){c.SYNC="sync",c.JOIN="join",c.LEAVE="leave"})(_d||(_d={}));class cs{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cs.syncState(this.state,l,u,f),this.pendingDiffs.forEach(g=>{this.state=cs.syncDiff(this.state,g,u,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=cs.syncDiff(this.state,l,u,f),p())}),this.onJoin((l,u,f)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:f})}),this.onLeave((l,u,f)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,l){const u=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(u,(m,v)=>{f[m]||(g[m]=v)}),this.map(f,(m,v)=>{const _=u[m];if(_){const k=v.map(b=>b.presence_ref),R=_.map(b=>b.presence_ref),j=v.filter(b=>R.indexOf(b.presence_ref)<0),A=_.filter(b=>k.indexOf(b.presence_ref)<0);j.length>0&&(p[m]=j),A.length>0&&(g[m]=A)}else p[m]=v}),this.syncDiff(u,{joins:p,leaves:g},o,l)}static syncDiff(n,s,o,l){const{joins:u,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(p,g)=>{var m;const v=(m=n[p])!==null&&m!==void 0?m:[];if(n[p]=this.cloneDeep(g),v.length>0){const _=n[p].map(R=>R.presence_ref),k=v.filter(R=>_.indexOf(R.presence_ref)<0);n[p].unshift(...k)}o(p,v,g)}),this.map(f,(p,g)=>{let m=n[p];if(!m)return;const v=g.map(_=>_.presence_ref);m=m.filter(_=>v.indexOf(_.presence_ref)<0),n[p]=m,l(p,m,g),m.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const l=n[o];return"metas"in l?s[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[o]=l,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sd;(function(c){c.ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE"})(Sd||(Sd={}));var ds;(function(c){c.BROADCAST="broadcast",c.PRESENCE="presence",c.POSTGRES_CHANGES="postgres_changes",c.SYSTEM="system"})(ds||(ds={}));var qt;(function(c){c.SUBSCRIBED="SUBSCRIBED",c.TIMED_OUT="TIMED_OUT",c.CLOSED="CLOSED",c.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class rl{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Na(this,At.join,this.params,this.timeout),this.rejoinTimer=new Fd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new cs(this),this.broadcastEndpointURL=Hd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,m=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(R=>R.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[ds.PRESENCE]&&this.bindings[ds.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,_={},k={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(R=>n?.(qt.CHANNEL_ERROR,R)),this._onClose(()=>n?.(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:k},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:R})=>{var j;if(this.socket.setAuth(),R===void 0){n?.(qt.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,b=(j=A?.length)!==null&&j!==void 0?j:0,F=[];for(let Z=0;Z<b;Z++){const U=A[Z],{filter:{event:B,schema:J,table:K,filter:ee}}=U,ce=R&&R[Z];if(ce&&ce.event===B&&ce.schema===J&&ce.table===K&&ce.filter===ee)F.push(Object.assign(Object.assign({},U),{id:ce.id}));else{this.unsubscribe(),this.state=Be.errored,n?.(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=F,n&&n(qt.SUBSCRIBED);return}}).receive("error",R=>{this.state=Be.errored,n?.(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{n?.(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this.state===Be.joined&&n===ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,o)}async send(n,s={}){var o,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,p,g;const m=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Be.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Na(this,At.leave,{},n),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(n,s,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),f}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Na(this,n,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Up){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var l,u;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:m,join:v}=At;if(o&&[p,g,m,v].indexOf(f)>=0&&o!==this._joinRef())return;let k=this._onMessage(f,s,o);if(s&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(R=>{var j,A,b;return((j=R.filter)===null||j===void 0?void 0:j.event)==="*"||((b=(A=R.filter)===null||A===void 0?void 0:A.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===f}).map(R=>R.callback(k,o)):(u=this.bindings[f])===null||u===void 0||u.filter(R=>{var j,A,b,F,Z,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in R){const B=R.id,J=(j=R.filter)===null||j===void 0?void 0:j.event;return B&&((A=s.ids)===null||A===void 0?void 0:A.includes(B))&&(J==="*"||J?.toLocaleLowerCase()===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const B=(Z=(F=R?.filter)===null||F===void 0?void 0:F.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return B==="*"||B===((U=s?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===f}).map(R=>{if(typeof k=="object"&&"ids"in k){const j=k.data,{schema:A,table:b,commit_timestamp:F,type:Z,errors:U}=j;k=Object.assign(Object.assign({},{schema:A,table:b,commit_timestamp:F,eventType:Z,new:{},old:{},errors:U}),this._getPayloadRecords(j))}R.callback(k,o)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const l=n.toLocaleLowerCase(),u={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&rl.isEqual(l.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(At.close,{},n)}_onError(n){this._on(At.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=wd(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=wd(n.columns,n.old_record)),s}}const La=()=>{},Pi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vp=[1e3,2e3,5e3,1e4],qp=1e4,Kp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jp{constructor(n,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ha,this.transport=null,this.heartbeatIntervalMs=Pi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=La,this.ref=0,this.reconnectTimer=null,this.logger=La,this.conn=null,this.sendBuffer=[],this.serializer=new Dp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...f)=>Ce(async()=>{const{default:p}=await Promise.resolve().then(()=>Sn);return{default:p}},void 0).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...f)=>u(...f)},!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Wa.websocket}`,this.httpEndpoint=Hd(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Op.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Lp}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return Nr.Connecting;case us.open:return Nr.Open;case us.closing:return Nr.Closing;default:return Nr.Closed}}isConnected(){return this.connectionState()===Nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const o=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new rl(`realtime:${n}`,s,this);return this.channels.push(u),u}}push(n){const{topic:s,event:o,payload:l,ref:u}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${o} (${u})`,l),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close($p,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Pi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:f}=s,p=f?`(${f})`:"",g=u.status||"";this.log("receive",`${g} ${o} ${l} ${p}`.trim(),u),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(l,u,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(At.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${n}${o}${l}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([Kp],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const l={access_token:s,version:Np};s&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(At.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Fd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,o,l,u,f,p,g,m,v;if(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=n?.timeout)!==null&&o!==void 0?o:Ha,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:Pi.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:La,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>Vp[_-1]||qp),this.encode=(m=n?.encode)!==null&&m!==void 0?m:((_,k)=>k(JSON.stringify(_))),this.decode=(v=n?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class nl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Fe(c){return typeof c=="object"&&c!==null&&"__isStorageError"in c}class Gp extends nl{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qa extends nl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Qp=function(c,n,s,o){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(_){f(_)}}function g(v){try{m(o.throw(v))}catch(_){f(_)}}function m(v){v.done?u(v.value):l(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};const Wd=c=>{let n;return c?n=c:typeof fetch>"u"?n=(...s)=>Ce(async()=>{const{default:o}=await Promise.resolve().then(()=>Sn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Yp=()=>Qp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ce(()=>Promise.resolve().then(()=>Sn),void 0)).Response:Response}),Ka=c=>{if(Array.isArray(c))return c.map(s=>Ka(s));if(typeof c=="function"||c!==Object(c))return c;const n={};return Object.entries(c).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Ka(o)}),n},Xp=c=>{if(typeof c!="object"||c===null)return!1;const n=Object.getPrototypeOf(c);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in c)&&!(Symbol.iterator in c)};var Lr=function(c,n,s,o){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(_){f(_)}}function g(v){try{m(o.throw(v))}catch(_){f(_)}}function m(v){v.done?u(v.value):l(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};const $a=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),Zp=(c,n,s)=>Lr(void 0,void 0,void 0,function*(){const o=yield Yp();c instanceof o&&!s?.noResolveJson?c.json().then(l=>{const u=c.status||500,f=l?.statusCode||u+"";n(new Gp($a(l),u,f))}).catch(l=>{n(new qa($a(l),l))}):n(new qa($a(c),c))}),eg=(c,n,s,o)=>{const l={method:c,headers:n?.headers||{}};return c==="GET"||!o?l:(Xp(o)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(o)):l.body=o,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),s))};function hs(c,n,s,o,l,u){return Lr(this,void 0,void 0,function*(){return new Promise((f,p)=>{c(s,eg(n,o,l,u)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Zp(g,p,o))})})}function Ai(c,n,s,o){return Lr(this,void 0,void 0,function*(){return hs(c,"GET",n,s,o)})}function $t(c,n,s,o,l){return Lr(this,void 0,void 0,function*(){return hs(c,"POST",n,o,l,s)})}function Ja(c,n,s,o,l){return Lr(this,void 0,void 0,function*(){return hs(c,"PUT",n,o,l,s)})}function tg(c,n,s,o){return Lr(this,void 0,void 0,function*(){return hs(c,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function Vd(c,n,s,o,l){return Lr(this,void 0,void 0,function*(){return hs(c,"DELETE",n,o,l,s)})}var rt=function(c,n,s,o){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(_){f(_)}}function g(v){try{m(o.throw(v))}catch(_){f(_)}}function m(v){v.done?u(v.value):l(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};const rg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ng{constructor(n,s={},o,l){this.url=n,this.headers=s,this.bucketId=o,this.fetch=Wd(l)}uploadOrUpdate(n,s,o,l){return rt(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},kd),l);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",this.encodeMetadata(g))):(u=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),l?.headers&&(p=Object.assign(Object.assign({},p),l.headers));const m=this._removeEmptyFolders(s),v=this._getFinalPath(m),_=yield(n=="PUT"?Ja:$t)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(Fe(u))return{data:null,error:u};throw u}})}upload(n,s,o){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,l){return rt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const m=Object.assign({upsert:kd.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",m.cacheControl)):(g=o,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const _=yield Ja(this.fetch,p.toString(),g,{headers:v});return{data:{path:u,fullPath:_.Key},error:null}}catch(g){if(Fe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return rt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const l=Object.assign({},this.headers);s?.upsert&&(l["x-upsert"]="true");const u=yield $t(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),f=new URL(this.url+u.url),p=f.searchParams.get("token");if(!p)throw new nl("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}update(n,s,o){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return rt(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Fe(l))return{data:null,error:l};throw l}})}copy(n,s,o){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrl(n,s,o){return rt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield $t(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(l){if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrls(n,s,o){return rt(this,void 0,void 0,function*(){try{const l=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(l){if(Fe(l))return{data:null,error:l};throw l}})}download(n,s){return rt(this,void 0,void 0,function*(){const l=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),f=u?`?${u}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield Ai(this.fetch,`${this.url}/${l}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Fe(p))return{data:null,error:p};throw p}})}info(n){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Ai(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Ka(o),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}exists(n){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield tg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Fe(o)&&o instanceof qa){const l=o.originalError;if([400,404].includes(l?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),l=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&l.push(u);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&l.push(g);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${m}`)}}}remove(n){return rt(this,void 0,void 0,function*(){try{return{data:yield Vd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}list(n,s,o){return rt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},rg),s),{prefix:n||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(Fe(l))return{data:null,error:l};throw l}})}listV2(n,s){return rt(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const sg="2.11.0",ig={"X-Client-Info":`storage-js/${sg}`};var hn=function(c,n,s,o){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(_){f(_)}}function g(v){try{m(o.throw(v))}catch(_){f(_)}}function m(v){v.done?u(v.value):l(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};class og{constructor(n,s={},o,l){const u=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},ig),s),this.fetch=Wd(o)}listBuckets(){return hn(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}getBucket(n){return hn(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return hn(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return hn(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}emptyBucket(n){return hn(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}deleteBucket(n){return hn(this,void 0,void 0,function*(){try{return{data:yield Vd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}}class ag extends og{constructor(n,s={},o,l){super(n,s,o,l)}from(n){return new ng(this.url,this.headers,n,this.fetch)}}const lg="2.56.1";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const ug={"X-Client-Info":`supabase-js-${ls}/${lg}`},cg={headers:ug},dg={schema:"public"},fg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hg={};var pg=function(c,n,s,o){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(_){f(_)}}function g(v){try{m(o.throw(v))}catch(_){f(_)}}function m(v){v.done?u(v.value):l(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};const gg=c=>{let n;return c?n=c:typeof fetch>"u"?n=Ld:n=fetch,(...s)=>n(...s)},mg=()=>typeof Headers>"u"?$d:Headers,yg=(c,n,s)=>{const o=gg(s),l=mg();return(u,f)=>pg(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:c;let m=new l(f?.headers);return m.has("apikey")||m.set("apikey",c),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(u,Object.assign(Object.assign({},f),{headers:m}))})};var vg=function(c,n,s,o){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(_){f(_)}}function g(v){try{m(o.throw(v))}catch(_){f(_)}}function m(v){v.done?u(v.value):l(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};function wg(c){return c.endsWith("/")?c:c+"/"}function _g(c,n){var s,o;const{db:l,auth:u,realtime:f,global:p}=c,{db:g,auth:m,realtime:v,global:_}=n,k={db:Object.assign(Object.assign({},g),l),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},_),p),{headers:Object.assign(Object.assign({},(s=_?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>vg(this,void 0,void 0,function*(){return""})};return c.accessToken?k.accessToken=c.accessToken:delete k.accessToken,k}const qd="2.71.1",vn=30*1e3,Ga=3,Ua=Ga*vn,Sg="http://localhost:9999",kg="supabase.auth.token",Eg={"X-Client-Info":`gotrue-js/${qd}`},Qa="X-Supabase-Api-Version",Kd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cg=600*1e3;class sl extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function se(c){return typeof c=="object"&&c!==null&&"__isAuthError"in c}class Pg extends sl{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Tg(c){return se(c)&&c.name==="AuthApiError"}class Jd extends sl{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class mr extends sl{constructor(n,s,o,l){super(n,o,l),this.name=s,this.status=o}}class hr extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bg(c){return se(c)&&c.name==="AuthSessionMissingError"}class Ti extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bi extends mr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ji extends mr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jg(c){return se(c)&&c.name==="AuthImplicitGrantRedirectError"}class Ed extends mr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ya extends mr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Da(c){return se(c)&&c.name==="AuthRetryableFetchError"}class xd extends mr{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Xa extends mr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cd=` 	
\r=`.split(""),Ag=(()=>{const c=new Array(128);for(let n=0;n<c.length;n+=1)c[n]=-1;for(let n=0;n<Cd.length;n+=1)c[Cd[n].charCodeAt(0)]=-2;for(let n=0;n<Ri.length;n+=1)c[Ri[n].charCodeAt(0)]=n;return c})();function Pd(c,n,s){if(c!==null)for(n.queue=n.queue<<8|c,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Ri[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Ri[o]),n.queuedBits-=6}}function Gd(c,n,s){const o=Ag[c];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(c)}"`)}}function Td(c){const n=[],s=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=f=>{Ig(f,o,s)};for(let f=0;f<c.length;f+=1)Gd(c.charCodeAt(f),l,u);return n.join("")}function Rg(c,n){if(c<=127){n(c);return}else if(c<=2047){n(192|c>>6),n(128|c&63);return}else if(c<=65535){n(224|c>>12),n(128|c>>6&63),n(128|c&63);return}else if(c<=1114111){n(240|c>>18),n(128|c>>12&63),n(128|c>>6&63),n(128|c&63);return}throw new Error(`Unrecognized Unicode codepoint: ${c.toString(16)}`)}function Og(c,n){for(let s=0;s<c.length;s+=1){let o=c.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(c.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}Rg(o,n)}}function Ig(c,n,s){if(n.utf8seq===0){if(c<=127){s(c);return}for(let o=1;o<6;o+=1)if((c>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=c&31;else if(n.utf8seq===3)n.codepoint=c&15;else if(n.utf8seq===4)n.codepoint=c&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(c<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|c&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Ng(c){const n=[],s={queue:0,queuedBits:0},o=l=>{n.push(l)};for(let l=0;l<c.length;l+=1)Gd(c.charCodeAt(l),s,o);return new Uint8Array(n)}function Lg(c){const n=[];return Og(c,s=>n.push(s)),new Uint8Array(n)}function $g(c){const n=[],s={queue:0,queuedBits:0},o=l=>{n.push(l)};return c.forEach(l=>Pd(l,s,o)),Pd(null,s,o),n.join("")}function Ug(c){return Math.round(Date.now()/1e3)+c}function Dg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const n=Math.random()*16|0;return(c=="x"?n:n&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},Qd=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const c=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(c,c),globalThis.localStorage.removeItem(c),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function zg(c){const n={},s=new URL(c);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return s.searchParams.forEach((o,l)=>{n[l]=o}),n}const Yd=c=>{let n;return c?n=c:typeof fetch>"u"?n=(...s)=>Ce(async()=>{const{default:o}=await Promise.resolve().then(()=>Sn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Bg=c=>typeof c=="object"&&c!==null&&"status"in c&&"ok"in c&&"json"in c&&typeof c.json=="function",wn=async(c,n,s)=>{await c.setItem(n,JSON.stringify(s))},Rr=async(c,n)=>{const s=await c.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},fr=async(c,n)=>{await c.removeItem(n)};class Ii{constructor(){this.promise=new Ii.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Ii.promiseConstructor=Promise;function za(c){const n=c.split(".");if(n.length!==3)throw new Xa("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!xg.test(n[o]))throw new Xa("JWT not in base64url format");return{header:JSON.parse(Td(n[0])),payload:JSON.parse(Td(n[1])),signature:Ng(n[2]),raw:{header:n[0],payload:n[1]}}}async function Fg(c){return await new Promise(n=>{setTimeout(()=>n(null),c)})}function Mg(c,n){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await c(u);if(!n(u,null,f)){o(f);return}}catch(f){if(!n(u,f)){l(f);return}}})()})}function Hg(c){return("0"+c.toString(16)).substr(-2)}function Wg(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(n),Array.from(n,Hg).join("")}async function Vg(c){const s=new TextEncoder().encode(c),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function qg(c){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),c;const s=await Vg(c);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pn(c,n,s=!1){const o=Wg();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await wn(c,`${n}-code-verifier`,l);const u=await qg(o);return[u,o===u?"plain":"s256"]}const Kg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jg(c){const n=c.headers.get(Qa);if(!n||!n.match(Kg))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Gg(c){if(!c)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(c<=n)throw new Error("JWT has expired")}function Qg(c){switch(c){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gn(c){if(!Yg.test(c))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ba(){const c={};return new Proxy(c,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bd(c){return JSON.parse(JSON.stringify(c))}var Xg=function(c,n){var s={};for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&n.indexOf(o)<0&&(s[o]=c[o]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(c);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(c,o[l])&&(s[o[l]]=c[o[l]]);return s};const Or=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),Zg=[502,503,504];async function jd(c){var n;if(!Bg(c))throw new Ya(Or(c),0);if(Zg.includes(c.status))throw new Ya(Or(c),c.status);let s;try{s=await c.json()}catch(u){throw new Jd(Or(u),u)}let o;const l=Jg(c);if(l&&l.getTime()>=Kd["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new xd(Or(s),c.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new hr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new xd(Or(s),c.status,s.weak_password.reasons);throw new Pg(Or(s),c.status||500,o)}const em=(c,n,s,o)=>{const l={method:c,headers:n?.headers||{}};return c==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function ue(c,n,s,o){var l;const u=Object.assign({},o?.headers);u[Qa]||(u[Qa]=Kd["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const f=(l=o?.query)!==null&&l!==void 0?l:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await tm(c,n,s+p,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function tm(c,n,s,o,l,u){const f=em(n,o,l,u);let p;try{p=await c(s,Object.assign({},f))}catch(g){throw console.error(g),new Ya(Or(g),0)}if(p.ok||await jd(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await jd(g)}}function Vt(c){var n;let s=null;im(c)&&(s=Object.assign({},c),c.expires_at||(s.expires_at=Ug(c.expires_in)));const o=(n=c.user)!==null&&n!==void 0?n:c;return{data:{session:s,user:o},error:null}}function Ad(c){const n=Vt(c);return!n.error&&c.weak_password&&typeof c.weak_password=="object"&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.message&&typeof c.weak_password.message=="string"&&c.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=c.weak_password),n}function pr(c){var n;return{data:{user:(n=c.user)!==null&&n!==void 0?n:c},error:null}}function rm(c){return{data:c,error:null}}function nm(c){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u}=c,f=Xg(c,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function sm(c){return c}function im(c){return c.access_token&&c.refresh_token&&c.expires_in}const Fa=["global","local","others"];var om=function(c,n){var s={};for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&n.indexOf(o)<0&&(s[o]=c[o]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(c);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(c,o[l])&&(s[o[l]]=c[o[l]]);return s};class am{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=Yd(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=Fa[0]){if(Fa.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fa.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(se(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pr})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=om(n,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o?.newEmail,delete l.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:nm,redirectTo:s?.redirectTo})}catch(s){if(se(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:pr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,l,u,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:sm});if(v.error)throw v.error;const _=await v.json(),k=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,R=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return R.length>0&&(R.forEach(j=>{const A=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(j.split(";")[1].split("=")[1]);m[`${b}Page`]=A}),m.total=parseInt(k)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(se(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){gn(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:pr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){gn(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:pr})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){gn(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:pr})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){gn(n.userId);try{const{data:s,error:o}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteFactor(n){gn(n.userId),gn(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}}function Rd(c={}){return{getItem:n=>c[n]||null,setItem:(n,s)=>{c[n]=s},removeItem:n=>{delete c[n]}}}function lm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mn={debug:!!(globalThis&&Qd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xd extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class um extends Xd{}async function cm(c,n,s){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",c,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",c)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(c,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",c,l.name);try{return await s()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",c,l.name)}}else{if(n===0)throw mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",c),new um(`Acquiring an exclusive Navigator LockManager lock "${c}" immediately failed`);if(mn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}lm();const dm={url:Sg,storageKey:kg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Od(c,n,s){return await s()}const yn={};class fs{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fs.nextInstanceID,fs.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},dm),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new am({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Yd(l.fetch),this.lock=l.lock||Od,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:jt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=cm:this.lock=Od,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Qd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rd(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Rd(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=yn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=yn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qd}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=zg(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),jt()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),jg(u)){const g=(n=u.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return se(s)?{error:s}:{error:new Jd("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,l;try{const u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Vt}),{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(u){if(se(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var s,o,l;try{let u;if("email"in n){const{email:v,password:_,options:k}=n;let R=null,j=null;this.flowType==="pkce"&&([R,j]=await pn(this.storage,this.storageKey)),u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:v,password:_,data:(s=k?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:R,code_challenge_method:j},xform:Vt})}else if("phone"in n){const{phone:v,password:_,options:k}=n;u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(o=k?.data)!==null&&o!==void 0?o:{},channel:(l=k?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Vt})}else throw new bi("You must provide either an email or phone number and a password");const{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(u){if(se(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let s;if("email"in n){const{email:u,password:f,options:p}=n;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ad})}else if("phone"in n){const{phone:u,password:f,options:p}=n;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ad})}else throw new bi("You must provide either an email or phone number and a password");const{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ti}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,l,u,f,p,g,m,v,_,k,R;let j,A;if("message"in n)j=n.message,A=n.signature;else{const{chain:b,wallet:F,statement:Z,options:U}=n;let B;if(jt())if(typeof F=="object")B=F;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))B=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=F}const J=new URL((s=U?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in B&&B.signIn){const K=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),Z?{statement:Z}:null));let ee;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")ee=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)ee=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)j=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),A=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${J.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...Z?["",Z,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(l=(o=U?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(v=U?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const K=await B.signMessage(new TextEncoder().encode(j),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=K}}try{const{data:b,error:F}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:$g(A)},!((k=n.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(R=n.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:Vt});if(F)throw F;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ti}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:F})}catch(b){if(se(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(n){const s=await Rr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{const{data:u,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Vt});if(await fr(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ti}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:f})}catch(u){if(se(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:s,provider:o,token:l,access_token:u,nonce:f}=n,p=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Vt}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ti}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,l,u,f;try{if("email"in n){const{email:p,options:g}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await pn(this.storage,this.storageKey));const{error:_}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:p,options:g}=n,{data:m,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new bi("You must provide either an email or phone number.")}catch(p){if(se(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,o;try{let l,u;"options"in n&&(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo,u=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Vt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var s,o,l;try{let u=null,f=null;return this.flowType==="pkce"&&([u,f]=await pn(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:rm})}catch(u){if(se(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new hr;const{error:l}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:l,options:u}=n,{error:f}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:o,type:l,options:u}=n,{data:f,error:p}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new bi("You must provide either an email or phone number and a type")}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Ua:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await Rr(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Ba()}if(this.storage.isServer&&n.user){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,m,v)=>(!f&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:pr}):await this._useSession(async s=>{var o,l,u;const{data:f,error:p}=s;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hr}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:pr})})}catch(s){if(se(s))return bg(s)&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new hr;const f=l.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await pn(this.storage,this.storageKey));const{data:m,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:pr});if(v)throw v;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new hr;const s=Date.now()/1e3;let o=s,l=!0,u=null;const{payload:f}=za(n.access_token);if(f.exp&&(o=f.exp,l=o<=s),l){const{session:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;u={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(se(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new hr;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!jt())throw new ji("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ji(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ji("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ed("No code detected.");const{data:Z,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:Z.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:f,expires_in:p,expires_at:g,token_type:m}=n;if(!u||!p||!f||!m)throw new ji("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(p);let k=v+_;g&&(k=parseInt(g));const R=k-v;R*1e3<=vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${_}s`);const j=k-_;v-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,k,v):v-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,k,v);const{data:A,error:b}=await this._getUser(u);if(b)throw b;const F={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:_,expires_at:k,refresh_token:f,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:n.type},error:null}}catch(o){if(se(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Rr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return{error:u};const f=(o=l.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Tg(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=Dg(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,l;try{const{data:{session:u},error:f}=s;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await pn(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(se(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:l}=await this._useSession(async u=>{var f,p,g,m,v;const{data:_,error:k}=u;if(k)throw k;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",R,{headers:this.headers,jwt:(v=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return jt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(se(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,l;const{data:u,error:f}=s;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Mg(async l=>(l>0&&await Fg(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Vt})),(l,u)=>{const f=200*Math.pow(2,l);return u&&Da(u)&&Date.now()+f-o<vn})}catch(o){if(this._debug(s,"error",o),se(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),jt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Rr(this.storage,this.storageKey);if(l&&this.userStorage){let f=await Rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:l.user},await wn(this.userStorage,this.storageKey+"-user",f)),l.user=(n=f?.user)!==null&&n!==void 0?n:Ba()}else if(l&&!l.user&&!l.user){const f=await Rr(this.storage,this.storageKey+"-user");f&&f?.user?(l.user=f.user,await fr(this.storage,this.storageKey+"-user"),await wn(this.storage,this.storageKey,l)):l.user=Ba()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ua;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Ua}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),Da(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(l.access_token);!p&&f?.user?(l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ii;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new hr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={session:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),se(u)){const f={session:null,error:u};return Da(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,s,o=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){u.push(g)}});if(await Promise.all(f),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await wn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=bd(l);await wn(this.storage,this.storageKey,u)}else{const l=bd(s);await wn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await fr(this.storage,this.storageKey),await fr(this.storage,this.storageKey+"-code-verifier"),await fr(this.storage,this.storageKey+"-user"),this.userStorage&&await fr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),vn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-n)/vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${vn}ms, refresh threshold is ${Ga} ticks`),l<=Ga&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Xd)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,f]=await pn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});l.push(p.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o?.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?{data:null,error:u}:await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,l;const{data:u,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:g,error:m}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((l=g?.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return{data:null,error:u};const{data:f,error:p}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(se(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?{data:null,error:u}:await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(se(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=n?.factors||[],l=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),u=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=za(l.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(p=>p.kid===n);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===n),o&&this.jwks_cached_at+Cg>l)return o;const{data:u,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(p=>p.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:R,error:j}=await this.getSession();if(j||!R.session)return{data:null,error:j};o=R.session.access_token}const{header:l,payload:u,signature:f,raw:{header:p,payload:g}}=za(o);s?.allowExpired||Gg(u.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:R}=await this.getUser(o);if(R)throw R;return{data:{claims:u,header:l,signature:f},error:null}}const v=Qg(l.alg),_=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,f,Lg(`${p}.${g}`)))throw new Xa("Invalid JWT signature");return{data:{claims:u,header:l,signature:f},error:null}}catch(o){if(se(o))return{data:null,error:o};throw o}}}fs.nextInstanceID=0;const fm=fs;class hm extends fm{constructor(n){super(n)}}var pm=function(c,n,s,o){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(_){f(_)}}function g(v){try{m(o.throw(v))}catch(_){f(_)}}function m(v){v.done?u(v.value):l(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};class gm{constructor(n,s,o){var l,u,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=wg(n),g=new URL(p);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const m=`sb-${g.hostname.split(".")[0]}-auth-token`,v={db:dg,realtime:hg,auth:Object.assign(Object.assign({},fg),{storageKey:m}),global:cg},_=_g(o??{},v);this.storageKey=(l=_.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=_.global.headers)!==null&&u!==void 0?u:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(k,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=_.auth)!==null&&f!==void 0?f:{},this.headers,_.global.fetch),this.fetch=yg(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new Rp(new URL("rest/v1",g).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new ag(this.storageUrl.href,this.headers,this.fetch,o?.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new Sp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return pm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:l,storageKey:u,flowType:f,lock:p,debug:g},m,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hm({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:u,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:l,flowType:f,lock:p,debug:g,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Jp(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mm=(c,n,s)=>new gm(c,n,s);function ym(){if(typeof window<"u"||typeof process>"u")return!1;const c=process.version;if(c==null)return!1;const n=c.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}ym()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ze="djsjlwgtyfzhcnbvoubo",nt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc2psd2d0eWZ6aGNuYnZvdWJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MzgyMzksImV4cCI6MjA3MDQxNDIzOX0.v2FKOZ20K3jpxAIT8hMRxeb6jnMLVdJtH0-VSTAOHZ8",Ir=mm(`https://${Ze}.supabase.co`,nt,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1}});class vm{sessionId;isEnabled=!0;constructor(){this.sessionId=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async trackAuthError(n,s,o,l,u){if(this.isEnabled)try{await this.trackError({error_type:`auth_${n}`,error_message:s,screen:o,user_id:l,additional_context:{...u,category:"authentication"}})}catch(f){console.warn("Failed to track auth error:",f)}}async trackNetworkError(n,s,o,l,u){if(!(!this.isEnabled||["Server is currently unavailable","Failed to fetch","Network request failed","Request timeout","signal is aborted"].some(g=>o.toLowerCase().includes(g.toLowerCase()))))try{await this.trackError({error_type:"network_error",error_code:s.toString(),error_message:o,screen:l,user_id:u,additional_context:{endpoint:n,status_code:s,category:"network"}})}catch{}}async trackValidationError(n,s,o,l){if(this.isEnabled)try{await this.trackError({error_type:"validation_error",error_message:s,screen:o,additional_context:{field:n,form_data:l?Object.keys(l):void 0,category:"validation"}})}catch(u){console.warn("Failed to track validation error:",u)}}async trackUIError(n,s,o,l,u){if(this.isEnabled)try{await this.trackError({error_type:"ui_error",error_message:s,screen:o,user_id:l,additional_context:{component:n,...u,category:"ui_ux"}})}catch(f){console.warn("Failed to track UI error:",f)}}async trackServerError(n,s,o,l,u){if(this.isEnabled)try{await this.trackError({error_type:"server_error",error_code:l?.toString(),error_message:s,screen:o,user_id:u,additional_context:{endpoint:n,status_code:l,category:"server"}})}catch(f){console.warn("Failed to track server error:",f)}}async trackError(n){if(!this.isEnabled)return;const s={id:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),user_agent:navigator.userAgent,session_id:this.sessionId,...n};try{(await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/analytics/error`,{method:"POST",headers:{Authorization:`Bearer ${nt}`,"Content-Type":"application/json"},body:JSON.stringify(s)})).ok||this.storeErrorLocally(s)}catch{this.storeErrorLocally(s)}}storeErrorLocally(n){try{const s=JSON.parse(localStorage.getItem("magdee_error_analytics")||"[]");s.push(n),s.length>50&&s.splice(0,s.length-50),localStorage.setItem("magdee_error_analytics",JSON.stringify(s))}catch(s){console.warn("Failed to store error locally:",s)}}async getErrorSummary(n=7){try{const s=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/analytics/error-summary?days=${n}`,{headers:{Authorization:`Bearer ${nt}`,"Content-Type":"application/json"}});if(s.ok)return await s.json()}catch(s){console.warn("Failed to fetch error summary:",s)}return this.getLocalErrorSummary(n)}getLocalErrorSummary(n=7){try{const s=JSON.parse(localStorage.getItem("magdee_error_analytics")||"[]"),o=new Date;o.setDate(o.getDate()-n);const l=s.filter(f=>new Date(f.timestamp)>o),u={};return l.forEach(f=>{u[f.error_type]||(u[f.error_type]={error_type:f.error_type,count:0,latest_occurrence:f.timestamp,common_messages:[]});const p=u[f.error_type];p.count++,new Date(f.timestamp)>new Date(p.latest_occurrence)&&(p.latest_occurrence=f.timestamp),!p.common_messages.includes(f.error_message)&&p.common_messages.length<5&&p.common_messages.push(f.error_message)}),Object.values(u).sort((f,p)=>p.count-f.count)}catch(s){return console.warn("Failed to get local error summary:",s),[]}}async syncLocalErrors(){try{const n=JSON.parse(localStorage.getItem("magdee_error_analytics")||"[]");if(n.length===0)return;(await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/analytics/error-batch`,{method:"POST",headers:{Authorization:`Bearer ${nt}`,"Content-Type":"application/json"},body:JSON.stringify({errors:n})})).ok&&localStorage.removeItem("magdee_error_analytics")}catch{}}async getUserErrorPatterns(n){try{const s=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/analytics/user-errors/${n}`,{headers:{Authorization:`Bearer ${nt}`,"Content-Type":"application/json"}});if(s.ok)return await s.json()}catch(s){console.warn("Failed to fetch user error patterns:",s)}return[]}setEnabled(n){this.isEnabled=n}isAnalyticsEnabled(){return this.isEnabled}}const ve=new vm;function fy(){return{trackAuthError:ve.trackAuthError.bind(ve),trackNetworkError:ve.trackNetworkError.bind(ve),trackValidationError:ve.trackValidationError.bind(ve),trackUIError:ve.trackUIError.bind(ve),trackServerError:ve.trackServerError.bind(ve),getErrorSummary:ve.getErrorSummary.bind(ve),getUserErrorPatterns:ve.getUserErrorPatterns.bind(ve),syncLocalErrors:ve.syncLocalErrors.bind(ve),setEnabled:ve.setEnabled.bind(ve),isAnalyticsEnabled:ve.isAnalyticsEnabled.bind(ve)}}const Zd=G.createContext(void 0);function wm({children:c}){const[n,s]=G.useState(null),[o,l]=G.useState(null),[u,f]=G.useState(!0),[p,g]=G.useState(!0),[m,v]=G.useState(new Map),[_,k]=G.useState(!1),[R,j]=G.useState(new Map);G.useEffect(()=>{let J=!0,K;(async()=>{if(_){console.log(" Session initialization already in progress - skipping");return}k(!0);try{console.log(" Starting initial session check..."),K=setTimeout(()=>{J&&p&&(console.log(" Session check timeout - proceeding without auth"),f(!1),g(!1),k(!1))},8e3);let ie,ne=0;const Me=2;let me=new AbortController,X=setTimeout(()=>{console.warn(" Session request timeout after 6 seconds - aborting"),me.abort()},6e3);for(;ne<Me;)try{ne++,console.log(` Session attempt ${ne}/${Me}`),ie=await Promise.race([Ir.auth.getSession(),new Promise((we,ye)=>{me.signal.addEventListener("abort",()=>{ye(new Error("Session request timeout"))})})]),clearTimeout(X);break}catch(we){if(clearTimeout(X),we.message.includes("timeout")||we.name==="AbortError")if(ne>=Me){console.log(" Session request timeout after retries - proceeding without session (this is normal for slower connections)"),J&&(clearTimeout(K),f(!1),g(!1),k(!1));return}else{console.log(` Session attempt ${ne} timed out, retrying in 1 second...`),await new Promise(ye=>setTimeout(ye,1e3)),me=new AbortController,X=setTimeout(()=>{console.warn(` Session request timeout after 6 seconds - aborting attempt ${ne+1}`),me.abort()},6e3);continue}throw we}if(!J)return;clearTimeout(K);const{data:{session:fe},error:Pe}=ie;if(Pe){console.error(" Error getting session:",Pe),!Pe.message.includes("timeout")&&!Pe.message.includes("network")&&ve.trackAuthError("session_load",Pe.message,"app_init").catch(we=>{console.warn("Failed to track session error:",we)}),f(!1),g(!1),k(!1);return}if(console.log(" Session check complete:",fe?"Authenticated":"Not authenticated"),l(fe),fe?.user){const we={id:fe.user.id,email:fe.user.email||"",name:fe.user.user_metadata?.name||fe.user.user_metadata?.full_name||"User",username:fe.user.user_metadata?.username||fe.user.email?.split("@")[0]||void 0,avatar_url:fe.user.user_metadata?.avatar_url,created_at:fe.user.created_at||new Date().toISOString()};s(we),console.log(" Set immediate fallback user:",we.name),console.log(" Skipping enhanced profile loading during init - will be handled by useUserProfile hook")}f(!1),g(!1)}catch(ie){console.error(" Error in getInitialSession:",ie),ie instanceof Error&&(ie.name==="AbortError"||ie.message.includes("timeout"))||ve.trackAuthError("session_load",ie instanceof Error?ie.message:"Unknown error","app_init").catch(ne=>{console.warn("Failed to track session init error:",ne)}),J&&(clearTimeout(K),f(!1),g(!1),k(!1))}finally{k(!1)}})();const{data:{subscription:ce}}=Ir.auth.onAuthStateChange(async(ie,ne)=>{if(console.log(" Auth state changed:",ie,ne?.user?.email),console.log(" Session details:",{accessToken:ne?.access_token?"present":"missing",refreshToken:ne?.refresh_token?"present":"missing",expiresAt:ne?.expires_at,userId:ne?.user?.id}),!!J){if(l(ne),ne?.user){console.log(" User authenticated, setting immediate user data...");const Me={id:ne.user.id,email:ne.user.email||"",name:ne.user.user_metadata?.name||ne.user.user_metadata?.full_name||"User",username:ne.user.user_metadata?.username||ne.user.email?.split("@")[0]||void 0,avatar_url:ne.user.user_metadata?.avatar_url,created_at:ne.user.created_at||new Date().toISOString()};s(Me),console.log(" Set immediate user for UI:",Me.name),console.log(" Skipping enhanced profile loading - will be handled by useUserProfile hook")}else console.log(" No user session, clearing user state"),s(null);p||(console.log(" Setting loading to false (not initial load)"),f(!1))}});return()=>{J=!1,clearTimeout(K),ce.unsubscribe(),v(new Map),j(new Map)}},[p]);const B={user:n,session:o,signUp:async(J,K,ee,ce)=>{try{f(!0),console.log(" Starting signup process for:",J);const ie=`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/auth/signup`;console.log(" Calling signup endpoint:",ie);const ne=new AbortController,Me=setTimeout(()=>ne.abort(),15e3),me=await fetch(ie,{method:"POST",headers:{Authorization:`Bearer ${nt}`,"Content-Type":"application/json"},body:JSON.stringify({email:J,password:K,name:ee,username:ce}),signal:ne.signal});clearTimeout(Me),console.log(" Signup response status:",me.status);let X;try{X=await me.json(),console.log(" Signup response data:",X)}catch(we){console.error(" Failed to parse signup response JSON:",we);const ye=await me.text().catch(()=>"Unable to read response");return console.error(" Raw response text:",ye),{success:!1,error:"Server returned invalid response"}}if(!me.ok)return console.log(" Full signup error response:",{status:me.status,statusText:me.statusText,result:X}),(me.status===400||me.status===422)&&X.error&&(X.error.includes("already been registered")||X.error.includes("already exists")||X.error.includes("email address has already been registered")||X.error.includes("a user with this email address has already been registered")||X.error.toLowerCase().includes("already registered")||X.error.toLowerCase().includes("email")&&X.error.toLowerCase().includes("exist"))?(console.log(" User attempted signup with existing email:",J),{success:!1,error:X.error||"A user with this email address has already been registered"}):(console.error(" Signup failed with status:",me.status,"Error:",X.error),await ve.trackAuthError("signup",X.error||`HTTP ${me.status}`,"signup",void 0,{email_provided:!!J,name_provided:!!ee,username_provided:!!ce,status_code:me.status}),X.error&&X.error.includes("username")&&X.error.includes("taken")?{success:!1,error:X.error}:{success:!1,error:X.error||`Server error (${me.status})`});console.log(" User created successfully, now signing in...");const{data:{session:fe},error:Pe}=await Ir.auth.signInWithPassword({email:J,password:K});return Pe?(console.error(" Sign in error after signup:",Pe),await ve.trackAuthError("signin",Pe.message,"post_signup",void 0,{context:"automatic_signin_after_signup"}),{success:!1,error:Pe.message}):(console.log(" Signup and signin completed successfully"),{success:!0})}catch(ie){console.error(" Error in signUp:",ie);let ne="An unexpected error occurred";return ie instanceof Error&&ie.name==="AbortError"?ne="Request timeout - please try again":ie instanceof TypeError&&ie.message.includes("fetch")?ne="Network error - please check your connection":ie instanceof Error&&(ne=ie.message),await ve.trackAuthError("signup",ne,"signup",void 0,{error_type:ie instanceof Error?ie.constructor.name:"UnknownError",is_network_error:ie instanceof TypeError&&ie.message.includes("fetch"),is_timeout:ie instanceof Error&&ie.name==="AbortError"}),{success:!1,error:ne}}finally{f(!1)}},signIn:async(J,K)=>{try{f(!0),console.log(" Starting signin process for:",J),console.log(" Supabase client configured:",!!Ir),console.log(" Project ID:",Ze),console.log(" Public anon key length:",nt?.length);const ee=J.includes("@");console.log(" Input type detected:",ee?"email":"username");let ce=J;if(!ee)try{console.log(" Looking up email for username:",J);const fe=new AbortController,Pe=setTimeout(()=>fe.abort(),8e3),we=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/auth/lookup-email`,{method:"POST",headers:{Authorization:`Bearer ${nt}`,"Content-Type":"application/json"},body:JSON.stringify({username:J}),signal:fe.signal});if(clearTimeout(Pe),we.ok)ce=(await we.json()).email,console.log(" Email found for username");else{const ye=await we.json().catch(()=>({error:"Unknown error"}));return console.error(" Username lookup failed:",ye),{success:!1,error:"Invalid username or password"}}}catch(fe){return console.error(" Error looking up email for username:",fe),{success:!1,error:"Invalid username or password"}}console.log(" Attempting Supabase auth signin with email:",ce);const ie=new AbortController,ne=setTimeout(()=>ie.abort(),12e3),Me=Ir.auth.signInWithPassword({email:ce,password:K});console.log(" Supabase signInWithPassword called, waiting for response...");const{data:{session:me},error:X}=await Promise.race([Me,new Promise((fe,Pe)=>{ie.signal.addEventListener("abort",()=>{Pe(new Error("Request timeout"))})})]);return clearTimeout(ne),console.log(" Supabase auth response received:"),console.log("  - Session:",!!me),console.log("  - User:",me?.user?.email),console.log("  - Error:",X?.message),X?(console.error(" Sign in error:",X),console.error(" Full error object:",JSON.stringify(X,null,2)),await ve.trackAuthError("signin",X.message,"signin",void 0,{error_code:X.status,error_name:X.name,input_type:ee?"email":"username",full_error:JSON.stringify(X)}),X.message.includes("Invalid login")||X.message.includes("Invalid credentials")?{success:!1,error:ee?"Invalid email or password":"Invalid username or password"}:X.message.includes("Email not confirmed")?{success:!1,error:"Please verify your email address before signing in"}:{success:!1,error:X.message}):(console.log(" Sign in successful"),console.log(" Waiting for auth state change..."),await new Promise(fe=>setTimeout(fe,100)),{success:!0})}catch(ee){console.error(" Error in signIn:",ee);let ce="An unexpected error occurred";return ee instanceof Error&&ee.message.includes("timeout")?ce="Request timeout - please try again":ee instanceof Error&&(ce=ee.message),await ve.trackAuthError("signin",ce,"signin",void 0,{error_type:ee instanceof Error?ee.constructor.name:"UnknownError",is_timeout:ee instanceof Error&&ee.message.includes("timeout")}),{success:!1,error:ce}}finally{f(!1)}},signOut:async()=>{try{f(!0),console.log(" Signing out..."),await Ir.auth.signOut(),s(null),l(null),console.log(" Sign out successful")}catch(J){console.error(" Error signing out:",J),await ve.trackAuthError("signout",J instanceof Error?J.message:"Unknown signout error","signout",n?.id)}finally{f(!1)}},updateUserProfile:J=>{s(K=>K?{...K,...J}:null)},updateUser:J=>{console.log(" Updating user in AuthContext:",J.email),s(J)},loading:u};return P.jsx(Zd.Provider,{value:B,children:c})}function Ni(){const c=G.useContext(Zd);if(c===void 0)throw new Error("useAuth must be used within an AuthProvider");return c}class St{static serverHealthy=!0;static lastHealthCheck=0;static healthCheckInterval=3e4;static async getAccessToken(){try{const{data:{session:n}}=await Ir.auth.getSession();return n?.access_token||null}catch(n){return console.error("Error getting access token:",n),null}}static async checkServerHealth(){const n=Date.now();if(n-this.lastHealthCheck<this.healthCheckInterval)return this.serverHealthy;try{console.log(" Checking server health...");const s=new AbortController,o=setTimeout(()=>s.abort(),1500),l=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/health`,{method:"GET",signal:s.signal,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});return clearTimeout(o),this.serverHealthy=l.ok,this.lastHealthCheck=n,this.serverHealthy?console.log(" Server health check: healthy"):console.log(" Server health check: unhealthy (bad response)"),this.serverHealthy}catch(s){return s instanceof Error&&!s.message.includes("fetch")&&!s.message.includes("signal is aborted")&&!s.message.includes("Failed to fetch")?console.warn(" Server health check failed:",s.message):console.log(" Server health check failed: network unavailable"),this.serverHealthy=!1,this.lastHealthCheck=n,!1}}static async apiCall(n,s={},o=2e3){let l=null,u=null;try{if(!await this.checkServerHealth())return{success:!1,error:"Server is currently unavailable"};const p=await this.getAccessToken();if(!p)return{success:!1,error:"No authentication token available"};u=new AbortController;const g=new Promise((k,R)=>{l=setTimeout(()=>{u&&u.abort(),R(new Error(`Request timeout after ${o}ms`))},o)});console.log(` Making API call to ${n}`);const m=fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9${n}`,{...s,headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json","Cache-Control":"no-cache",...s.headers},signal:u.signal}),v=await Promise.race([m,g]);if(l&&clearTimeout(l),!v.ok){const k=await v.json().catch(()=>({error:"Unknown error"}));return this.serverHealthy=!1,{success:!1,error:k.error||`HTTP ${v.status}`}}const _=await v.json();return{success:!0,data:_.data||_}}catch(f){return l&&clearTimeout(l),f instanceof Error?f.name==="AbortError"||f.message.includes("timeout")?(this.serverHealthy=!1,{success:!1,error:"Server is currently unavailable"}):f.message.includes("fetch")||f.message.includes("Failed to fetch")?(this.serverHealthy=!1,{success:!1,error:"Server is currently unavailable"}):{success:!1,error:f.message}:{success:!1,error:"Server is currently unavailable"}}}static async createUser(n){return{success:!1,error:"User creation should be done through signup process"}}static async getUser(n){return this.apiCall(`/user/${n}`,{},2e3)}static async updateUser(n,s){return this.apiCall(`/user/${n}`,{method:"PUT",body:JSON.stringify(s)},3e3)}static async updateUserProfile(n,s){return this.apiCall(`/profile/${n}`,{method:"PUT",body:JSON.stringify(s)},3e3)}static async updateProfilePicture(n,s){return this.apiCall(`/profile/${n}/picture`,{method:"PUT",body:JSON.stringify({imageUrl:s})},3e3)}static async getRecentBooks(n,s){const o=new URLSearchParams;s?.limit&&o.append("limit",s.limit.toString()),s?.offset&&o.append("offset",s.offset.toString()),s?.status&&o.append("status",s.status);const l=o.toString(),u=`/recent-books/${n}${l?`?${l}`:""}`;return this.apiCall(u,{method:"GET"},3e3)}static async getBookById(n){return this.apiCall(`/book/${n}`,{method:"GET"},2e3)}static async seedSampleData(n,s=!1){return this.apiCall("/seed-data",{method:"POST",body:JSON.stringify({userId:n,force:s})},5e3)}static async uploadProfileImage(n,s){try{if(!await this.checkServerHealth())return{success:!1,error:"Server is currently unavailable"};const l=await this.getAccessToken();if(!l)return{success:!1,error:"No authentication token available"};const u=new FormData;u.append("image",s);const f=new AbortController,p=setTimeout(()=>f.abort(),1e4),g=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/profile/${n}/upload`,{method:"POST",headers:{Authorization:`Bearer ${l}`},body:u,signal:f.signal});return clearTimeout(p),g.ok?{success:!0,data:(await g.json()).data}:{success:!1,error:(await g.json().catch(()=>({error:"Unknown error"}))).error||`HTTP ${g.status}`}}catch(o){return console.error("Profile image upload error:",o),o instanceof Error&&(o.name==="AbortError"||o.message.includes("timeout"))?{success:!1,error:"Upload timeout - please try again"}:{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}static async getUserProfile(n){if(!await this.checkServerHealth())return{success:!1,error:"Server is currently unavailable"};try{return await this.apiCall(`/profile/${n}`,{},1500)}catch{return{success:!1,error:"Server is currently unavailable"}}}static async createBook(n){return this.apiCall(`/books/${n.user_id}`,{method:"POST",body:JSON.stringify(n)},5e3)}static async getUserBooks(n,s,o){return this.apiCall(`/books/${n}`,{},3e3)}static async updateBook(n,s){return{success:!1,error:"Direct book updates not implemented. Use updateBookProgress instead."}}static async deleteBook(n,s){return this.apiCall(`/books/${n}/${s}`,{method:"DELETE"},3e3)}static async initializeBookProgress(n,s){return{success:!0,data:null}}static async updateBookProgress(n,s,o){return this.apiCall(`/books/${n}/${s}/progress`,{method:"PUT",body:JSON.stringify(o)},3e3)}static async getBookProgress(n,s){const o=await this.apiCall(`/books/${n}/${s}/progress`,{},2e3);return o.success?o.data:null}static async initializeAudioSettings(n){return{success:!1,error:"Audio settings initialization should be done through user setup"}}static async initializeUserAnalytics(n){return{success:!1,error:"Analytics initialization should be done through server setup"}}static async updateUserAnalytics(n,s){return this.apiCall(`/analytics/${n}`,{method:"PUT",body:JSON.stringify(s)},3e3)}static async getUserAnalytics(n){return this.apiCall(`/analytics/${n}`,{},2e3)}static async getAudioSettings(n){return{success:!1,error:"Audio settings retrieval should be done through API endpoints"}}static async updateUserNotifications(n,s){return{success:!1,error:"Bulk notification updates not implemented. Use individual operations instead."}}static async getReadingSessions(n,s){const o=s?`?limit=${s}`:"";return this.apiCall(`/reading-session/${n}${o}`,{},3e3)}static async updateReadingSessions(n,s){return{success:!1,error:"Bulk session updates not implemented. Use individual operations instead."}}static async getUserStats(n){try{const s=await this.getUserBooks(n),o=await this.getUserAnalytics(n);if(!s.success||!o.success)return{success:!1,error:"Failed to get user data"};const l=s.data||[],u=o.data,f=l.filter(k=>k.progress>=100),p=l.filter(k=>k.progress>0&&k.progress<100),g=l.length>0?l.reduce((k,R)=>k+R.rating,0)/l.length:0,m=l.reduce((k,R)=>(k[R.genre]=(k[R.genre]||0)+1,k),{}),v=Object.entries(m).sort(([,k],[,R])=>R-k)[0]?.[0]||"";return{success:!0,data:{totalBooks:l.length,completedBooks:f.length,inProgressBooks:p.length,totalListeningTime:u?.total_listening_time||0,averageRating:Math.round(g*10)/10,favoriteGenre:v}}}catch(s){return console.error("Error getting user stats:",s),{success:!1,error:"Failed to get user stats"}}}static async endReadingSession(n,s,o){return this.apiCall(`/reading-session/${n}/${s}/end`,{method:"PUT",body:JSON.stringify(o)},3e3)}static async getUserProgress(n){return this.apiCall(`/progress/${n}`,{},3e3)}static async startReadingSession(n,s,o){return this.apiCall(`/reading-session/${n}/start`,{method:"POST",body:JSON.stringify({bookId:s,startPosition:o})},3e3)}static async getUserNotifications(n,s){const o=s?"?unread=true":"";return this.apiCall(`/notifications/${n}${o}`,{},3e3).then(l=>({...l,data:l.data?.notifications||[]}))}static async createNotification(n,s){return this.apiCall(`/notifications/${n}`,{method:"POST",body:JSON.stringify(s)},3e3)}static async markNotificationAsRead(n,s){return this.apiCall(`/notifications/${n}/${s}/read`,{method:"PUT"},2e3)}static async getUserAchievements(n){return this.apiCall(`/achievements/${n}`,{},3e3)}static async createAchievement(n,s){return this.apiCall(`/achievements/${n}`,{method:"POST",body:JSON.stringify(s)},3e3)}static getServerHealthStatus(){return{healthy:this.serverHealthy,lastCheck:this.lastHealthCheck}}static resetServerHealth(){this.serverHealthy=!0,this.lastHealthCheck=0}static async forceHealthCheck(){return this.lastHealthCheck=0,await this.checkServerHealth()}static setServerHealth(n){this.serverHealthy=n,this.lastHealthCheck=Date.now()}static async getUserPreferences(n){return console.log(" Getting user preferences for:",n),this.apiCall(`/preferences/${n}`,{},2e3)}static async updateUserPreferences(n,s){return console.log(" Updating user preferences for:",n,s),this.apiCall(`/preferences/${n}`,{method:"PUT",body:JSON.stringify({preferences:s})},3e3)}static async updateAudioSettings(n,s){return console.log(" Updating audio settings for:",n,s),this.apiCall(`/audio-settings/${n}`,{method:"PUT",body:JSON.stringify(s)},3e3)}}const ef=G.createContext(void 0);function _m(){const c=G.useContext(ef);if(!c)throw new Error("useNotifications must be used within a NotificationProvider");return c}function Sm({children:c}){const{user:n}=Ni(),[s,o]=G.useState([]),[l,u]=G.useState(!1),f=j=>({id:j.id,type:j.type||"info",title:j.title,message:j.message,timestamp:new Date(j.created_at),isRead:j.read||!1,duration:0}),p=G.useCallback(async()=>{if(n?.id){u(!0);try{const j=await St.getUserNotifications(n.id);if(j.success&&j.data){const A=j.data.map(f);o(A)}else j.error!=="Server is currently unavailable"&&console.error("Failed to load notifications:",j.error)}catch(j){j instanceof Error&&!j.message.includes("Server is currently unavailable")&&console.error("Error loading notifications:",j)}finally{u(!1)}}},[n?.id]);G.useEffect(()=>{n?.id?(p(),(async()=>{try{if(!St.getServerHealthStatus().healthy)return;const b=await St.getUserNotifications(n.id);b.success&&b.data&&b.data.length===0&&(await St.createNotification(n.id,{type:"achievement",title:"Welcome to Magdee! ",message:"Your PDF-to-audio journey begins now",data:null,expires_at:null}),await St.createNotification(n.id,{type:"info",title:"Pro Tip",message:"Upload your first PDF to start converting to audio",data:null,expires_at:null}),setTimeout(()=>p(),500))}catch(A){A instanceof Error&&!A.message.includes("Server is currently unavailable")&&console.error("Error creating demo notifications:",A)}})()):o([])},[n?.id,p]);const g=G.useCallback(async j=>{if(!n?.id){const b={...j,id:Date.now().toString(),timestamp:new Date,isRead:!1};o(Z=>[b,...Z]);const F=j.duration!==void 0?j.duration:5e3;F>0&&setTimeout(()=>{m(b.id)},F);return}if(!St.getServerHealthStatus().healthy){const b={...j,id:Date.now().toString(),timestamp:new Date,isRead:!1};o(Z=>[b,...Z]);const F=j.duration!==void 0?j.duration:5e3;F>0&&setTimeout(()=>{m(b.id)},F);return}try{const b=await St.createNotification(n.id,{type:j.type,title:j.title,message:j.message,data:null,expires_at:j.duration&&j.duration>0?new Date(Date.now()+j.duration).toISOString():null});if(b.success)await p();else{b.error!=="Server is currently unavailable"&&console.error("Failed to create notification:",b.error);const F={...j,id:Date.now().toString(),timestamp:new Date,isRead:!1};o(Z=>[F,...Z])}}catch(b){b instanceof Error&&!b.message.includes("Server is currently unavailable")&&console.error("Error creating notification:",b);const F={...j,id:Date.now().toString(),timestamp:new Date,isRead:!1};o(Z=>[F,...Z])}},[n?.id,p]),m=G.useCallback(j=>{o(A=>A.filter(b=>b.id!==j))},[]),v=G.useCallback(async j=>{if(!n?.id){o(A=>A.map(b=>b.id===j?{...b,isRead:!0}:b));return}try{const A=await St.markNotificationAsRead(n.id,j);A.success?o(b=>b.map(F=>F.id===j?{...F,isRead:!0}:F)):console.error("Failed to mark notification as read:",A.error)}catch(A){console.error("Error marking notification as read:",A)}},[n?.id]),_=G.useCallback(async()=>{if(!n?.id){o(j=>j.map(A=>({...A,isRead:!0})));return}try{const j=s.filter(A=>!A.isRead);await Promise.all(j.map(A=>St.markNotificationAsRead(n.id,A.id))),o(A=>A.map(b=>({...b,isRead:!0})))}catch(j){console.error("Error marking all notifications as read:",j)}},[n?.id,s]),k=G.useCallback(()=>{o([])},[]),R=s.filter(j=>!j.isRead).length;return P.jsx(ef.Provider,{value:{notifications:s,addNotification:g,removeNotification:m,markAsRead:v,markAllAsRead:_,clearNotifications:k,unreadCount:R,loading:l,refreshNotifications:p},children:c})}function km({notification:c,onClose:n}){const[s,o]=G.useState(!0),[l,u]=G.useState(!1),f=()=>{u(!0),setTimeout(()=>{n()},300)};G.useEffect(()=>{if(c.duration!==0){const m=setTimeout(f,c.duration||5e3);return()=>clearTimeout(m)}},[c.duration]);const g=(()=>{switch(c.type){case"success":return{backgroundColor:"#10B981",icon:""};case"achievement":return{backgroundColor:"#F59E0B",icon:""};case"warning":return{backgroundColor:"#EF4444",icon:""};case"info":return{backgroundColor:"#4A90E2",icon:""};case"system":return{backgroundColor:"#6B7280",icon:""};default:return{backgroundColor:"#4A90E2",icon:""}}})();return P.jsx("div",{style:{position:"fixed",top:"20px",left:"50%",transform:`translateX(-50%) ${l?"translateY(-100%)":"translateY(0)"}`,backgroundColor:"#ffffff",borderRadius:"12px",padding:"16px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:1e3,minWidth:"320px",maxWidth:"90vw",opacity:l?0:1,transition:"all 0.3s ease",border:`2px solid ${g.backgroundColor}`},children:P.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[P.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:g.backgroundColor,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0},children:c.icon||g.icon}),P.jsxs("div",{style:{flex:1,minWidth:0},children:[P.jsx("div",{style:{fontWeight:"600",color:"#111827",fontSize:"14px",marginBottom:"4px"},children:c.title}),P.jsx("div",{style:{color:"#6B7280",fontSize:"13px",lineHeight:"1.4"},children:c.message}),c.action&&P.jsx("button",{onClick:c.action.handler,style:{marginTop:"8px",padding:"4px 12px",backgroundColor:g.backgroundColor,color:"#ffffff",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},children:c.action.label})]}),P.jsx("button",{onClick:f,style:{background:"none",border:"none",color:"#9CA3AF",cursor:"pointer",fontSize:"18px",padding:"2px",lineHeight:1},children:""})]})})}function Em(){const{notifications:c}=_m(),[n,s]=G.useState([]),o=gr.useRef(new Set);G.useEffect(()=>{const u=c.find(f=>!f.isRead&&!o.current.has(f.id));u&&(o.current.add(u.id),s(f=>[u,...f.slice(0,2)]))},[c]);const l=u=>{s(f=>f.filter(p=>p.id!==u)),o.current.delete(u)};return P.jsx(P.Fragment,{children:n.map((u,f)=>P.jsx("div",{style:{transform:`translateY(${f*80}px)`,zIndex:1e3-f},children:P.jsx(km,{notification:u,onClose:()=>l(u.id)})},u.id))})}class xm{failures=0;lastFailure=0;state="closed";maxFailures=3;resetTimeout=6e4;canExecute(){const n=Date.now();return this.state==="open"?n-this.lastFailure>this.resetTimeout?(this.state="half-open",console.log(" Circuit breaker: half-open, allowing one test request"),!0):!1:!0}onSuccess(){this.failures=0,this.state="closed",console.log(" Circuit breaker: reset to closed")}onFailure(){this.failures++,this.lastFailure=Date.now(),this.failures>=this.maxFailures?(this.state="open",console.log(" Circuit breaker: opened due to repeated failures")):console.log(` Circuit breaker: failure ${this.failures}/${this.maxFailures}`)}isOpen(){return this.state==="open"}getState(){return this.state}}function tf(){const{user:c,updateUser:n}=Ni(),[s,o]=G.useState({profile:null,loading:!1,error:null,lastUpdated:null,connectionStatus:"offline"}),l=G.useRef(new xm),u=G.useRef(!1),f=G.useCallback(async(v,_=!1)=>{if(u.current){console.log(" Profile loading is disabled due to repeated failures");return}if(!l.current.canExecute()){o(k=>({...k,connectionStatus:"disabled",error:null}));return}_||o(k=>({...k,loading:!0,error:null,connectionStatus:"connecting"}));try{console.log(` Attempting profile load for user ${v}`);const k=await St.getUserProfile(v);if(k.success&&k.data)console.log(" Profile loaded successfully"),l.current.onSuccess(),o(R=>({...R,profile:k.data,loading:!1,error:null,lastUpdated:new Date,connectionStatus:"connected"})),n&&n(k.data);else throw new Error(k.error||"Failed to load profile")}catch(k){const R=k instanceof Error?k.message:k;R!=="Server is currently unavailable"&&console.warn(" Profile loading failed:",R),l.current.onFailure(),l.current.isOpen()&&(console.log(" Disabling profile loading due to circuit breaker"),u.current=!0);const j=c||{id:v,email:"user@example.com",name:"User",username:null,avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o(A=>({...A,profile:j,loading:!1,error:null,lastUpdated:null,connectionStatus:l.current.isOpen()?"disabled":"offline"}))}},[c,n]),p=G.useCallback(async()=>{c?.id&&!u.current&&(console.log(" Manual profile refresh requested"),await f(c.id,!1))},[c?.id,f]),g=G.useCallback(async v=>{if(!c?.id)return console.log(" No authenticated user for profile picture update"),!1;if(u.current)return o(_=>({..._,profile:_.profile?{..._.profile,avatar_url:v}:null})),!0;try{console.log(" Updating profile picture...");const _=await St.updateProfilePicture(c.id,v);return _.success&&_.data?(console.log(" Profile picture updated successfully"),o(k=>({...k,profile:_.data,lastUpdated:new Date,error:null,connectionStatus:"connected"})),n&&n(_.data),!0):(console.warn(" Profile picture update failed:",_.error),o(k=>({...k,profile:k.profile?{...k.profile,avatar_url:v}:null})),!0)}catch(_){return console.warn(" Profile picture update error:",_),o(k=>({...k,profile:k.profile?{...k.profile,avatar_url:v}:null})),!0}},[c?.id,n]),m=G.useCallback(()=>{o(v=>({...v,error:null}))},[]);return G.useEffect(()=>{if(c?.id){if(console.log(" User changed, setting up profile for:",c.id),o(v=>({...v,profile:{id:c.id,email:c.email,name:c.name,username:c.username,avatar_url:c.avatar_url,created_at:c.created_at,updated_at:new Date().toISOString()},loading:!1,error:null,connectionStatus:"offline"})),!u.current){const v=setTimeout(()=>{f(c.id,!0)},1e3);return()=>clearTimeout(v)}}else console.log(" User logged out, clearing profile"),o({profile:null,loading:!1,error:null,lastUpdated:null,connectionStatus:"offline"})},[c?.id,f]),{...s,refreshProfile:p,updateProfilePicture:g,clearError:m}}function hy(){const{profile:c,loading:n,refreshProfile:s,connectionStatus:o}=tf(),{user:l}=Ni(),u=l||c,f=gr.useMemo(()=>u&&u.username||null,[u]),p=gr.useMemo(()=>u?u.username&&typeof u.username=="string"?u.username.includes("@")?u.username.split("@")[0]:u.username:u.name&&u.name!=="Guest"?u.name:u.email&&typeof u.email=="string"?u.email.includes("@")?u.email.split("@")[0]:u.email:"Guest":"Guest",[u]),g=gr.useMemo(()=>u?.avatar_url||null,[u]),m=u?.email||"";return{displayName:p,username:f,profilePictureUrl:g,email:m,loading:n,refreshData:s,connectionStatus:o}}function Cm({showDetails:c=!1}){const[n,s]=G.useState({healthy:!0,lastCheck:0}),{connectionStatus:o}=tf();if(G.useEffect(()=>{const f=()=>{const g=St.getServerHealthStatus();s(g)};f();const p=setInterval(f,3e4);return()=>clearInterval(p)},[]),o==="connected"&&n.healthy||!c&&o==="offline")return null;const u=o==="disabled"?{color:"#6B7280",text:"Offline Mode",detail:"Using cached data"}:o==="timeout"||!n.healthy?{color:"#F59E0B",text:"Slow Connection",detail:"Some features may be limited"}:o==="connecting"?{color:"#4A90E2",text:"Connecting",detail:"Please wait..."}:{color:"#6B7280",text:"Offline",detail:"Using cached data"};return c?P.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",backgroundColor:"#ffffff",padding:"8px 12px",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:`1px solid ${u.color}`,zIndex:1e3,fontSize:"12px",fontFamily:"Poppins, sans-serif"},children:P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[P.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:u.color}}),P.jsxs("div",{children:[P.jsx("div",{style:{fontWeight:"500",color:"#374151"},children:u.text}),P.jsx("div",{style:{color:"#6B7280",fontSize:"11px"},children:u.detail})]})]})}):P.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:u.color,zIndex:1e3,opacity:.7}})}function rf({children:c}){const[n,s]=G.useState({isValid:!0,errors:[],warnings:[],checking:!0,configurationNeeded:!1});return G.useEffect(()=>{(async()=>{try{const l=[],u=[],f=!!(Ze&&nt),p=Ze==="djsjlwgtyfzhcnbvoubo",g=nt&&nt.startsWith("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc2psd2d0eWZ6aGNuYnZvdWJvIiwicm9sZSI6ImFub24i"),m=Ze.includes("your-project")||nt.includes("your_")||!Ze||!nt,v=m||p&&g;v&&(m?l.push("Supabase configuration contains placeholder values"):p&&g&&u.push("Using demo Supabase configuration for development"));const _=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(_&&(p||g)&&!m&&(console.log(" Development Mode: Using fallback Supabase configuration"),console.log(" To use your own Supabase project:"),console.log("   1. Create .env file in project root"),console.log("   2. Add your Supabase credentials:"),console.log("      REACT_APP_SUPABASE_URL=https://your-project.supabase.co"),console.log("      REACT_APP_SUPABASE_ANON_KEY=your_anon_key"),console.log("   3. Restart the development server"),console.log(" See ENVIRONMENT_SETUP_GUIDE.md for detailed instructions")),!v&&_&&f)try{const k=new AbortController;setTimeout(()=>k.abort(),2e3);const R=await fetch(`https://${Ze}.supabase.co/rest/v1/`,{method:"GET",headers:{apikey:nt,Authorization:`Bearer ${nt}`},signal:k.signal});!R.ok&&R.status!==404&&u.push(`Supabase connectivity test failed (Status: ${R.status})`)}catch{_&&console.log(" Supabase connectivity test failed (this is normal if offline)")}s({isValid:l.length===0,errors:l,warnings:u,checking:!1,configurationNeeded:v})}catch(l){console.error("Environment validation error:",l),s({isValid:!1,errors:["Environment validation failed"],warnings:[],checking:!1,configurationNeeded:!1})}})()},[]),n.checking?P.jsx(P.Fragment,{children:c}):n.configurationNeeded&&n.errors.some(o=>o.includes("placeholder values")||o.includes("not configured"))?P.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",fontFamily:"Poppins, sans-serif",padding:"2rem"},children:P.jsxs("div",{style:{maxWidth:"600px",backgroundColor:"#ffffff",borderRadius:"1rem",padding:"2rem",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",textAlign:"center"},children:[P.jsx("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:""}),P.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#111827",marginBottom:"1rem"},children:"Setup Required"}),P.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem",lineHeight:"1.6"},children:"To get started with Magdee, you need to configure your Supabase project credentials."}),P.jsxs("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"1.5rem",textAlign:"left"},children:[P.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#0369a1",marginBottom:"1rem"},children:"Quick Setup (5 minutes):"}),P.jsxs("ol",{style:{color:"#075985",fontSize:"0.875rem",paddingLeft:"1rem",lineHeight:"1.6"},children:[P.jsxs("li",{style:{marginBottom:"0.5rem"},children:["Create a free Supabase project at"," ",P.jsx("a",{href:"https://app.supabase.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#4A90E2",textDecoration:"underline"},children:"app.supabase.com"})]}),P.jsx("li",{style:{marginBottom:"0.5rem"},children:"Go to Settings  API and copy your credentials"}),P.jsxs("li",{style:{marginBottom:"0.5rem"},children:["Create a ",P.jsx("code",{style:{backgroundColor:"#e5e7eb",padding:"0.125rem 0.25rem",borderRadius:"0.25rem"},children:".env"})," file in your project root"]}),P.jsx("li",{style:{marginBottom:"0.5rem"},children:"Add your credentials (see example below)"}),P.jsx("li",{children:"Restart your development server"})]})]}),P.jsxs("div",{style:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem",fontFamily:"monospace",fontSize:"0.75rem",textAlign:"left",marginBottom:"1.5rem"},children:[P.jsx("div",{style:{marginBottom:"0.75rem",fontWeight:"600",fontFamily:"Poppins, sans-serif"},children:".env file example:"}),P.jsxs("div",{style:{color:"#374151"},children:["REACT_APP_SUPABASE_URL=https://your-project-id.supabase.co",P.jsx("br",{}),"REACT_APP_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",P.jsx("br",{}),"REACT_APP_SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."]})]}),P.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[P.jsx("a",{href:"https://app.supabase.com",target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontSize:"0.875rem",fontWeight:"500",textDecoration:"none",fontFamily:"Poppins, sans-serif",display:"inline-block"},children:"Create Supabase Project"}),P.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",fontFamily:"Poppins, sans-serif"},children:"I've Added My Credentials"})]}),P.jsxs("p",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"1rem"},children:["Need help? Check ",P.jsx("code",{children:"ENVIRONMENT_SETUP_GUIDE.md"})," for detailed instructions."]})]})}):(n.warnings.length>0&&n.warnings.forEach(o=>{console.log(` ${o}`)}),n.errors.length>0&&n.errors.forEach(o=>{console.warn(` Environment: ${o}`)}),P.jsx(P.Fragment,{children:c}))}rf.displayName="EnvironmentValidator";function il({message:c="Loading your experience...",showProgress:n=!0,timeout:s=5e3}={}){const[o,l]=G.useState(""),[u,f]=G.useState(0),[p,g]=G.useState(!1);return G.useEffect(()=>{const m=setInterval(()=>{l(k=>k.length>=3?"":k+".")},500);let v;n&&(v=setInterval(()=>{f(k=>k>=90?k:k+Math.random()*3)},200));const _=setTimeout(()=>{g(!0)},s);return()=>{clearInterval(m),v&&clearInterval(v),clearTimeout(_)}},[n,s]),P.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff",flexDirection:"column",gap:"2rem",padding:"2rem"},children:[P.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#4A90E2",fontFamily:"Poppins, sans-serif",letterSpacing:"-0.025em",marginBottom:"1rem"},children:"Magdee"}),P.jsxs("div",{style:{position:"relative",width:"48px",height:"48px"},children:[P.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #E5E7EB",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"}}),P.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"24px",height:"24px",backgroundColor:"#4A90E2",borderRadius:"50%",opacity:.3,animation:"pulse 2s infinite"}})]}),n&&P.jsx("div",{style:{width:"200px",height:"4px",backgroundColor:"#E5E7EB",borderRadius:"2px",overflow:"hidden",position:"relative"},children:P.jsx("div",{style:{width:`${u}%`,height:"100%",backgroundColor:"#4A90E2",borderRadius:"2px",transition:"width 0.3s ease",background:"linear-gradient(90deg, #4A90E2, #357ABD, #4A90E2)",backgroundSize:"200% 100%",animation:"gradient-slide 2s linear infinite"}})}),P.jsxs("div",{style:{textAlign:"center",maxWidth:"280px"},children:[P.jsxs("p",{style:{color:"#374151",fontSize:"1rem",fontFamily:"Poppins, sans-serif",fontWeight:"500",marginBottom:"0.5rem"},children:[c,o]}),n&&P.jsxs("p",{style:{color:"#6B7280",fontSize:"0.875rem",fontFamily:"Poppins, sans-serif"},children:[Math.round(u),"% complete"]})]}),p&&P.jsxs("div",{style:{backgroundColor:"#FEF3C7",border:"1px solid #F59E0B",borderRadius:"0.5rem",padding:"1rem",maxWidth:"300px",textAlign:"center",animation:"slideDown 0.3s ease"},children:[P.jsx("p",{style:{color:"#92400E",fontSize:"0.875rem",fontFamily:"Poppins, sans-serif",fontWeight:"500",marginBottom:"0.5rem"},children:"Taking longer than expected"}),P.jsx("p",{style:{color:"#B45309",fontSize:"0.75rem",fontFamily:"Poppins, sans-serif"},children:"Please check your internet connection or try refreshing the page."})]}),P.jsx("div",{style:{position:"absolute",bottom:"2rem",left:"50%",transform:"translateX(-50%)",textAlign:"center",opacity:.7},children:P.jsx("p",{style:{color:"#9CA3AF",fontSize:"0.75rem",fontFamily:"Poppins, sans-serif"},children:" Get ready for an amazing audio experience"})}),P.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
          0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
          50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.1; }
        }
        
        @keyframes gradient-slide {
          0% { background-position: 200% 0; }
          100% { background-position: -200% 0; }
        }
        
        @keyframes slideDown {
          0% { transform: translateY(-100%); opacity: 0; }
          100% { transform: translateY(0); opacity: 1; }
        }
      `})]})}il.displayName="LoadingScreen";function nf(){return P.jsx(il,{message:"Checking your authentication",showProgress:!0,timeout:8e3})}nf.displayName="AuthLoadingScreen";function Oi(){return P.jsx(il,{message:"Initializing your library",showProgress:!0,timeout:4e3})}Oi.displayName="AppInitLoadingScreen";function sf({children:c}){return P.jsx(gr.Fragment,{children:c})}sf.displayName="PerformanceOptimizer";class Pm extends gr.Component{static displayName="PerformanceErrorBoundary";constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){if(console.error(" Performance Error Boundary caught an error:",n),console.error("Error info:",s),this.setState({hasError:!0,error:n,errorInfo:s}),typeof window<"u"&&window.errorAnalytics)try{window.errorAnalytics.logError("performance_boundary_error",{error:n.message,stack:n.stack,componentStack:s.componentStack,errorBoundary:"PerformanceErrorBoundary"})}catch(o){console.warn("Failed to report error to analytics:",o)}}handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};handleReload=()=>{typeof window<"u"&&window.location.reload()};render(){return this.state.hasError?P.jsx("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#ffffff",fontFamily:"Poppins, sans-serif"},children:P.jsxs("div",{style:{maxWidth:"500px",textAlign:"center"},children:[P.jsx("div",{style:{fontSize:"64px",marginBottom:"24px"},children:""}),P.jsx("h1",{style:{fontSize:"24px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Something went wrong"}),P.jsx("p",{style:{fontSize:"16px",color:"#6b7280",marginBottom:"24px",lineHeight:"1.5"},children:"The app encountered an unexpected error. This is usually temporary and can be fixed by trying again."}),typeof window<"u"&&window.location.hostname==="localhost"&&this.state.error&&P.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",padding:"16px",marginBottom:"24px",textAlign:"left"},children:[P.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#dc2626",marginBottom:"8px"},children:"Error Details (Development Only):"}),P.jsxs("div",{style:{fontSize:"11px",color:"#7f1d1d",fontFamily:"monospace",whiteSpace:"pre-wrap",overflow:"auto",maxHeight:"150px"},children:[this.state.error.message,this.state.error.stack&&P.jsxs(P.Fragment,{children:[`

Stack Trace:
`,this.state.error.stack]})]})]}),P.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[P.jsx("button",{onClick:this.handleRetry,style:{padding:"12px 24px",backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:n=>{n.currentTarget.style.backgroundColor="#357ABD"},onMouseOut:n=>{n.currentTarget.style.backgroundColor="#4A90E2"},children:"Try Again"}),P.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:n=>{n.currentTarget.style.backgroundColor="#e5e7eb"},onMouseOut:n=>{n.currentTarget.style.backgroundColor="#f3f4f6"},children:"Reload App"})]}),P.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"24px"},children:"If this problem persists, please check your internet connection or try refreshing the page."})]})}):this.props.children}}const Tm=sf,bm=Pm;var jm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Am=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rm=(c,n)=>{const s=G.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:f,children:p,...g},m)=>G.createElement("svg",{ref:m,...jm,width:l,height:l,stroke:o,strokeWidth:f?Number(u)*24/Number(l):u,className:`lucide lucide-${Am(c)}`,...g},[...n.map(([v,_])=>G.createElement(v,_)),...(Array.isArray(p)?p:[p])||[]]));return s.displayName=`${c}`,s};var Om=Rm;const Im=Om("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Nm=Im;function Lm({onClick:c,disabled:n=!1,size:s="medium",variant:o="default",className:l="",style:u={},title:f="Go back","aria-label":p="Go back to previous screen",...g}){const m={small:{width:"28px",height:"28px",iconSize:16,fontSize:"14px"},medium:{width:"32px",height:"32px",iconSize:18,fontSize:"16px"},large:{width:"40px",height:"40px",iconSize:20,fontSize:"18px"}},v={default:{backgroundColor:"#F8FAFC",border:"1px solid #E2E8F0",color:"#4A90E2",hoverBackgroundColor:"#4A90E2",hoverColor:"#ffffff"},minimal:{backgroundColor:"transparent",border:"none",color:"#4A90E2",hoverBackgroundColor:"rgba(74, 144, 226, 0.1)",hoverColor:"#357ABD"},filled:{backgroundColor:"#4A90E2",border:"1px solid #4A90E2",color:"#ffffff",hoverBackgroundColor:"#357ABD",hoverColor:"#ffffff"}},_=m[s],k=v[o],R={width:_.width,height:_.height,backgroundColor:n?"#E5E7EB":k.backgroundColor,border:k.border,borderRadius:"10px",color:n?"#9CA3AF":k.color,cursor:n?"not-allowed":"pointer",fontSize:_.fontSize,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",fontFamily:"Poppins, sans-serif",opacity:n?.6:1,outline:"none",transform:"translateZ(0)",backfaceVisibility:"hidden",touchAction:"manipulation",WebkitTapHighlightColor:"transparent",...u},j=U=>{if(!n){const B=U.target;B.style.backgroundColor=k.hoverBackgroundColor,B.style.color=k.hoverColor,B.style.transform="translateY(-1px)",B.style.boxShadow="0 4px 8px rgba(74, 144, 226, 0.2)"}},A=U=>{if(!n){const B=U.target;B.style.backgroundColor=k.backgroundColor,B.style.color=k.color,B.style.transform="translateY(0)",B.style.boxShadow="none"}},b=U=>{if(!n){const B=U.target;B.style.outline="none",B.style.boxShadow="0 0 0 3px rgba(74, 144, 226, 0.15)",B.style.borderColor="#4A90E2"}},F=U=>{if(!n){const B=U.target;B.style.boxShadow="none",B.style.borderColor=o==="default"?"#E2E8F0":"transparent"}},Z=U=>{(U.key==="Enter"||U.key===" ")&&!n&&(U.preventDefault(),c())};return P.jsx("button",{type:"button",onClick:n?void 0:c,disabled:n,className:`magdee-back-button ${l}`,style:R,onMouseEnter:j,onMouseLeave:A,onFocus:b,onBlur:F,onKeyDown:Z,title:f,"aria-label":p,"data-testid":"back-button",...g,children:P.jsx(Nm,{size:_.iconSize})})}function of({screenName:c,onNavigate:n}){return P.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#ffffff",fontFamily:"Poppins, sans-serif"},children:[P.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",right:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[P.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827"},children:c}),P.jsx(Lm,{onClick:()=>n("back"),title:"Go back to previous screen","aria-label":"Return to previous screen"})]}),P.jsxs("div",{style:{textAlign:"center",maxWidth:"300px"},children:[P.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),P.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Debug Screen Not Available"}),P.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"1.5",marginBottom:"20px"},children:["The ",c," debug screen is not currently implemented or available in this build."]}),P.jsx("div",{style:{backgroundColor:"#F0F9FF",border:"1px solid #BFDBFE",borderRadius:"8px",padding:"12px",marginBottom:"20px"},children:P.jsx("p",{style:{fontSize:"12px",color:"#1E40AF",margin:0},children:" This is a development feature that may be added in future updates."})}),P.jsx("button",{onClick:()=>n("home"),style:{padding:"12px 20px",backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Go to Home"})]})]})}of.displayName="DebugFallback";function $e(c,n,s){const o=gr.lazy(()=>c().then(l=>{const u=l[n];if(!u)throw new Error(`Export '${n}' not found in module`);return u.displayName||(u.displayName=s),{default:u}}).catch(l=>{console.error(`Failed to load component ${s}:`,l);const u=f=>P.jsxs("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"0.5rem",margin:"1rem"},children:[P.jsxs("h3",{style:{color:"#DC2626",marginBottom:"0.5rem"},children:["Failed to load ",s]}),P.jsx("p",{style:{color:"#7F1D1D",fontSize:"0.875rem"},children:l.message||"Unknown error occurred"})]});return u.displayName=`Fallback(${s})`,{default:u}}));return o.displayName=`Lazy(${s})`,o}const Id=$e(()=>Ce(()=>import("./WelcomeScreen-B2iOJTvK.js"),__vite__mapDeps([0,1])),"WelcomeScreen","WelcomeScreen"),$m=$e(()=>Ce(()=>import("./IntroScreen-C5nVnUL0.js"),[]),"IntroScreen","IntroScreen"),Um=$e(()=>Ce(()=>import("./AuthScreen-BDl_WkbB.js"),[]),"AuthScreen","AuthScreen"),Dm=$e(()=>Ce(()=>import("./LoginScreen-D_z3IB64.js"),__vite__mapDeps([2,3,4,1])),"LoginScreen","LoginScreen"),zm=$e(()=>Ce(()=>import("./SignupScreen-CANoKbzB.js"),__vite__mapDeps([5,3,4,1])),"SignupScreen","SignupScreen"),Bm=$e(()=>Ce(()=>import("./HomeScreen-SjAVyQAV.js"),[]),"HomeScreen","HomeScreen"),Fm=$e(()=>Ce(()=>import("./MyLibraryScreen-DhEbq8vR.js"),__vite__mapDeps([6,1,7,8,4,9])),"MyLibraryScreen","MyLibraryScreen"),Mm=$e(()=>Ce(()=>import("./BookCoverScreen-BJiFd55w.js"),__vite__mapDeps([10,1,11])),"BookCoverScreen","BookCoverScreen"),Hm=$e(()=>Ce(()=>import("./AudioPlayerScreen-Bke1a_X6.js"),__vite__mapDeps([12,13,9])),"AudioPlayerScreen","AudioPlayerScreen"),Wm=$e(()=>Ce(()=>import("./ProfileScreen-Dt4YZP8f.js"),__vite__mapDeps([14,1,9])),"ProfileScreen","ProfileScreen"),Vm=$e(()=>Ce(()=>import("./EditProfileScreen-CKKgA8Ae.js"),__vite__mapDeps([15,7,1,4,16,8,11,17])),"EditProfileScreen","EditProfileScreen"),qm=$e(()=>Ce(()=>import("./NotificationsScreen-hJhMbrmW.js"),[]),"NotificationsScreen","NotificationsScreen"),Km=$e(()=>Ce(()=>import("./LanguageSettingsScreen-ZrPdtGbn.js"),__vite__mapDeps([18,16,4,8])),"LanguageSettingsScreen","LanguageSettingsScreen"),Jm=$e(()=>Ce(()=>import("./UploadPDFScreen-VFr9ycjF.js"),__vite__mapDeps([19,13])),"UploadPDFScreen","UploadPDFScreen"),Gm=$e(()=>Ce(()=>import("./ChatAIScreen-BR2TLeZK.js"),[]),"ChatAIScreen","ChatAIScreen"),Qm=$e(()=>Ce(()=>import("./MoodTrackingScreen-yJE0Qf96.js"),[]),"MoodTrackingScreen","MoodTrackingScreen"),Ym=$e(()=>Ce(()=>import("./ProgressTrackingScreen-C3Vwp-Fv.js"),__vite__mapDeps([20,11,17])),"ProgressTrackingScreen","ProgressTrackingScreen"),Xm=$e(()=>Ce(()=>import("./SelfHelpProgramsScreen-DAbhgaFl.js"),[]),"SelfHelpProgramsScreen","SelfHelpProgramsScreen"),Zm=$e(()=>Ce(()=>import("./SpeakToTherapistScreen-BCbOmcPy.js"),[]),"SpeakToTherapistScreen","SpeakToTherapistScreen"),ey=$e(()=>Ce(()=>import("./TermsOfServiceScreen-6JgoGokr.js"),__vite__mapDeps([21,1])),"TermsOfServiceScreen","TermsOfServiceScreen"),ty=$e(()=>Ce(()=>import("./PrivacyPolicyScreen-CK5ki4a7.js"),__vite__mapDeps([22,1])),"PrivacyPolicyScreen","PrivacyPolicyScreen");class ry extends gr.Component{constructor(n){super(n),this.state={hasError:!1}}static displayName="ScreenErrorBoundary";static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error(`Screen error in ${this.props.screenName}:`,n,s)}render(){return this.state.hasError?P.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#ffffff",fontFamily:"Poppins, sans-serif"},children:[P.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",right:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[P.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827"},children:"Screen Error"}),P.jsx(BackButton,{onClick:()=>this.props.onNavigate("back"),title:"Go back to previous screen","aria-label":"Return to previous screen"})]}),P.jsxs("div",{style:{textAlign:"center",maxWidth:"300px"},children:[P.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),P.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Screen Loading Error"}),P.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"1.5",marginBottom:"20px"},children:["Something went wrong loading the ",this.props.screenName," screen."]}),P.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[P.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:void 0})},style:{padding:"12px 20px",backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Try Again"}),P.jsx("button",{onClick:()=>this.props.onNavigate("home"),style:{padding:"12px 20px",backgroundColor:"#F3F4F6",color:"#374151",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Go Home"})]})]})]}):this.props.children}}function af({currentScreen:c,user:n,onNavigate:s,books:o,selectedBook:l,onSelectBook:u,onPlayBook:f,audioPlayerHandlers:p}){const g={onNavigate:s,user:n,books:o,selectedBook:l,onSelectBook:u,onPlayBook:f,audioPlayerHandlers:p},m=()=>{if(["auth-debug","connection-debug","login-debug","login-test","error-analytics"].includes(c))return P.jsx(of,{screenName:c,onNavigate:s});switch(c){case"welcome":return P.jsx(Id,{...g});case"intro":return P.jsx($m,{...g});case"auth":return P.jsx(Um,{...g});case"login":return P.jsx(Dm,{...g});case"signup":return P.jsx(zm,{...g});case"home":return P.jsx(Bm,{...g});case"library":case"my-library":return P.jsx(Fm,{...g});case"book-cover":return P.jsx(Mm,{...g});case"audio-player":return P.jsx(Hm,{...g});case"profile":return P.jsx(Wm,{...g});case"edit-profile":return P.jsx(Vm,{...g});case"notifications":return P.jsx(qm,{...g});case"language-settings":return P.jsx(Km,{...g});case"upload-pdf":return P.jsx(Jm,{...g});case"chat-ai":return P.jsx(Gm,{...g});case"mood-tracking":return P.jsx(Qm,{...g});case"progress-tracking":return P.jsx(Ym,{...g});case"self-help-programs":return P.jsx(Xm,{...g});case"speak-to-therapist":return P.jsx(Zm,{...g});case"terms-of-service":return P.jsx(ey,{...g});case"privacy-policy":return P.jsx(ty,{...g});default:return console.warn(`Unknown screen: ${c}. Redirecting to welcome.`),P.jsx(Id,{...g})}};return P.jsx(G.Suspense,{fallback:P.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff"},children:P.jsx(Oi,{})}),children:P.jsx("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:P.jsx(ry,{screenName:c,onNavigate:s,children:m()})})})}af.displayName="ScreenRouter";function ny(c){const[n,s]=G.useState(null),[o,l]=G.useState(!1),[u,f]=G.useState(!1),p=A=>{s(A)},g=()=>{if(n){if(u){console.log("Repeating current book:",n.title);return}if(o){const A=c.filter(b=>b.id!==n.id);if(A.length>0){const b=Math.floor(Math.random()*A.length),F=A[b];s(F)}}else{const b=(c.findIndex(Z=>Z.id===n.id)+1)%c.length,F=c[b];s(F)}}};return{selectedBook:n,setSelectedBook:s,isShuffleMode:o,isRepeatMode:u,handleSelectBook:p,handlePlayNextBook:g,handlePlayPreviousBook:()=>{if(!n)return;const b=(c.findIndex(Z=>Z.id===n.id)-1+c.length)%c.length,F=c[b];s(F)},handleFastForward:()=>{console.log("Fast-forwarding 15 seconds")},handleRewind:()=>{console.log("Rewinding 15 seconds")},handleToggleShuffle:()=>{l(!o),console.log(`Shuffle mode ${o?"disabled":"enabled"}`)},handleToggleRepeat:()=>{f(!u),console.log(`Repeat mode ${u?"disabled":"enabled"}`)},handleBookEnd:()=>{u?console.log("Book ended - repeating current book:",n?.title):(console.log("Book ended - playing next book"),g())}}}function sy(c,n,s){return o=>{if(c&&["welcome","login","signup"].includes(o)){n("home");return}n(o)}}function iy(c,n){return{handleSelectBook:l=>{c(l),n("book-cover")},handlePlayBook:l=>{c(l),n("audio-player")}}}const oy=[{id:"1",title:"Handling Problems",author:"Nile Williams",cover:"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=300&h=400&fit=crop",duration:"4h 30m",chapters:12,genre:"Self-Help",rating:4.5,progress:45,description:"A practical guide to solving life's challenges with proven strategies and mindful approaches to problem-solving.",dateAdded:"2 days ago",category:"Self-Help"},{id:"2",title:"Laws of Success",author:"Napoleon Hill",cover:"https://images.unsplash.com/photo-1589998059171-988d887df646?w=300&h=400&fit=crop",duration:"12h 15m",chapters:16,genre:"Business",rating:4.7,progress:72,description:"The definitive guide to achieving success through time-tested principles and the psychology of achievement.",dateAdded:"1 week ago",category:"Business"},{id:"3",title:"The Art of War",author:"Sun Tzu",cover:"https://images.unsplash.com/photo-1592496431122-2349e0fbc666?w=300&h=400&fit=crop",duration:"2h 15m",chapters:13,genre:"Philosophy",rating:4.4,progress:25,description:"Ancient Chinese military treatise offering timeless strategies for conflict and leadership.",dateAdded:"2 weeks ago",category:"Philosophy"},{id:"4",title:"Atomic Habits",author:"James Clear",cover:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop",duration:"5h 30m",chapters:20,genre:"Self-Help",rating:4.8,progress:78,description:"An easy and proven way to build good habits and break bad ones with practical strategies.",dateAdded:"3 weeks ago",category:"Self-Help"},{id:"5",title:"Deep Work",author:"Cal Newport",cover:"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=300&h=400&fit=crop",duration:"7h 44m",chapters:15,genre:"Productivity",rating:4.6,progress:23,description:"Rules for focused success in a distracted world, teaching you to master hard things quickly.",dateAdded:"1 month ago",category:"Productivity"},{id:"6",title:"The Lean Startup",author:"Eric Ries",cover:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop",duration:"8h 32m",chapters:12,genre:"Entrepreneurship",rating:4.3,progress:100,description:"A scientific approach to creating and managing successful startups in an age of uncertainty.",dateAdded:"2 months ago",category:"Business"}];function lf(){const{user:c,loading:n}=Ni(),[s,o]=G.useState("welcome"),[l,u]=G.useState(["welcome"]),[f]=G.useState(oy),[p,g]=G.useState(!1),m=ny(f),{selectedBook:v,setSelectedBook:_}=m,k=A=>{if(A==="back")if(l.length>1){const b=[...l];b.pop();const F=b[b.length-1];o(F),u(b)}else o("home"),u(["home"]);else try{sy(c,o,_)(A),u(F=>F[F.length-1]!==A?[...F,A]:F)}catch(b){console.error("Navigation error:",b),o(A),u(F=>[...F,A])}},{handleSelectBook:R,handlePlayBook:j}=iy(_,A=>{o(A),u(b=>b[b.length-1]!==A?[...b,A]:b)});return G.useEffect(()=>{if(!n){const A=setTimeout(async()=>{try{ve&&typeof ve.syncLocalErrors=="function"&&ve.syncLocalErrors().then(()=>console.log(" Local error analytics synced on app start")).catch(b=>console.warn(" Failed to sync local errors on app start:",b))}catch(b){console.warn("Error analytics not available:",b)}c?(o("home"),u(["home"])):(o("welcome"),u(["welcome"])),g(!0)},50);return()=>clearTimeout(A)}},[n,c]),n?P.jsx("div",{className:"auth-loading performance-critical session-loading",children:P.jsx(nf,{})}):p?P.jsx(Sm,{children:P.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"Poppins, sans-serif"},children:P.jsxs("div",{style:{width:"100%",maxWidth:"375px",height:"812px",backgroundColor:"#ffffff",position:"relative",overflow:"hidden",borderRadius:"1.5rem",boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.25), 0 0 0 1px rgb(0 0 0 / 0.05)",transform:"translateZ(0)",backfaceVisibility:"hidden"},children:[P.jsx(G.Suspense,{fallback:P.jsx(Oi,{}),children:P.jsx(af,{currentScreen:s,user:c,onNavigate:k,books:f,selectedBook:v,onSelectBook:R,onPlayBook:j,audioPlayerHandlers:m})}),P.jsx(Em,{}),P.jsx(Cm,{})]})})}):P.jsx("div",{className:"initial-load performance-critical",children:P.jsx(Oi,{})})}lf.displayName="AppContentComponent";function uf(){return P.jsx(bm,{children:P.jsx(rf,{children:P.jsx(wm,{children:P.jsx(Tm,{children:P.jsx(lf,{})})})})})}uf.displayName="AppComponent";gp.createRoot(document.getElementById("root")).render(P.jsx(uf,{}));export{Im as A,Lm as B,St as D,gr as R,fy as a,hy as b,Om as c,_m as d,P as j,G as r,Ni as u};
