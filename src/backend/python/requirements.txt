# Magdee Python Backend - Stable & Fully Compatible for Railway

# ==========================================
# FastAPI and Core Dependencies
# ==========================================
fastapi==0.108.0          # Compatible with Pydantic v1
uvicorn[standard]==0.27.0
python-multipart==0.0.6
aiofiles==23.2.1
pydantic==1.10.13         # Downgraded for supabase/postgrest compatibility
pydantic-settings==1.0.1  # Compatible with pydantic v1

# ==========================================
# Supabase and Database
# ==========================================
supabase==2.3.4
httpx==0.25.0
postgrest==0.13.2
realtime==1.0.5
storage3==0.7.4
gotrue==2.4.1

# ==========================================
# Authentication and Security
# ==========================================
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-dateutil==2.8.2
cryptography==42.0.0

# ==========================================
# PDF Processing
# ==========================================
pypdf==3.17.4
pdfplumber==0.10.4
pdfminer.six==20221105
charset-normalizer==3.3.2

# ==========================================
# Audio Processing and TTS
# ==========================================
pydub==0.25.1
gTTS==2.5.0
# Optional commercial voice support
# elevenlabs==0.2.27

# ==========================================
# Data Processing
# ==========================================
pandas==2.1.4
numpy==1.26.3
python-json-logger==2.0.7

# ==========================================
# Utilities
# ==========================================
Pillow==10.2.0
requests==2.31.0
python-dotenv==1.0.0
email-validator==2.1.0

# ==========================================
# Development and Testing
# ==========================================
pytest==7.4.4
pytest-asyncio==0.23.3
pytest-cov==4.1.0
black==24.1.1
flake8==7.0.0
isort==5.13.2
pytest-mock==3.12.0

# ==========================================
# Security and Type Checking
# ==========================================
bandit==1.7.6
mypy==1.8.0
types-requests==2.31.0.20240125

# ==========================================
# Notes
# ==========================================
# ✅ Pydantic v1 compatibility restored (required by postgrest, gotrue, etc.)
# ✅ Works on Python 3.9 – 3.12
# ✅ Safe for Railway and local deployment
# ⚠ If you upgrade FastAPI to 0.109+ in the future, upgrade Supabase SDK too.