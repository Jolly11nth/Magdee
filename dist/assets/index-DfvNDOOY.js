const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WelcomeScreen-CVFgatVk.js","assets/f82a941c409d8064bd2a0c4bcb7ad4befc1175e2-Cbw4ZlR3.js","assets/LoginScreen-e5Rk_KvO.js","assets/AuthErrorMessage-BbsiU4lg.js","assets/createLucideIcon-L4nsjaS5.js","assets/alert-circle-CIqoi4hF.js","assets/SignupScreen-BQgMeM5n.js","assets/HomeScreen-DOyNLy0E.js","assets/ImageWithFallback-CvuB-JXj.js","assets/NotificationBell-DFDhPd67.js","assets/NotificationHelpers-CDyoKu3h.js","assets/refresh-cw-Bt34ecMn.js","assets/upload-DKO0QpCW.js","assets/clock-DMz58ZZX.js","assets/trending-up-DFf3Cy-t.js","assets/wifi-off-CNFSCs6e.js","assets/play-kHurK7cV.js","assets/user-CJHprqh7.js","assets/MyLibraryScreen-D-WHiEQr.js","assets/BookCoverScreen-OKGHXzT8.js","assets/arrow-left-CCd5D6-I.js","assets/AudioPlayerScreen-COF-ghZH.js","assets/ProfileScreen-Py1sgefz.js","assets/BackButton-Fbepq-Ot.js","assets/EditProfileScreen-CUECVhLV.js","assets/award-D-hkooa3.js","assets/NotificationsScreen-c6qjdGEK.js","assets/LanguageSettingsScreen-BLjzIzTv.js","assets/UploadPDFScreen-BvJNynrq.js","assets/ProgressTrackingScreen-DenNxvTn.js","assets/TermsOfServiceScreen-irCJEC0B.js","assets/PrivacyPolicyScreen-DBizoS1H.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();function Gd(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function Ep(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var n=c.default;if(typeof n=="function"){var s=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(c).forEach(function(o){var a=Object.getOwnPropertyDescriptor(c,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return c[o]}})}),s}var La={exports:{}},fs={},Ua={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd;function xp(){if(fd)return ae;fd=1;var c=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function R(x,I,oe){this.props=x,this.context=I,this.refs=A,this.updater=oe||j}R.prototype.isReactComponent={},R.prototype.setState=function(x,I){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,I,"setState")},R.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function V(){}V.prototype=R.prototype;function K(x,I,oe){this.props=x,this.context=I,this.refs=A,this.updater=oe||j}var U=K.prototype=new V;U.constructor=K,T(U,R.prototype),U.isPureReactComponent=!0;var q=Array.isArray,Q=Object.prototype.hasOwnProperty,G={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function ce(x,I,oe){var le,he={},pe=null,Ee=null;if(I!=null)for(le in I.ref!==void 0&&(Ee=I.ref),I.key!==void 0&&(pe=""+I.key),I)Q.call(I,le)&&!ee.hasOwnProperty(le)&&(he[le]=I[le]);var _e=arguments.length-2;if(_e===1)he.children=oe;else if(1<_e){for(var je=Array(_e),dt=0;dt<_e;dt++)je[dt]=arguments[dt+2];he.children=je}if(x&&x.defaultProps)for(le in _e=x.defaultProps,_e)he[le]===void 0&&(he[le]=_e[le]);return{$$typeof:c,type:x,key:pe,ref:Ee,props:he,_owner:G.current}}function ie(x,I){return{$$typeof:c,type:x.type,key:I,ref:x.ref,props:x.props,_owner:x._owner}}function ne(x){return typeof x=="object"&&x!==null&&x.$$typeof===c}function Me(x){var I={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return I[oe]})}var me=/\/+/g;function Z(x,I){return typeof x=="object"&&x!==null&&x.key!=null?Me(""+x.key):I.toString(36)}function fe(x,I,oe,le,he){var pe=typeof x;(pe==="undefined"||pe==="boolean")&&(x=null);var Ee=!1;if(x===null)Ee=!0;else switch(pe){case"string":case"number":Ee=!0;break;case"object":switch(x.$$typeof){case c:case n:Ee=!0}}if(Ee)return Ee=x,he=he(Ee),x=le===""?"."+Z(Ee,0):le,q(he)?(oe="",x!=null&&(oe=x.replace(me,"$&/")+"/"),fe(he,I,oe,"",function(dt){return dt})):he!=null&&(ne(he)&&(he=ie(he,oe+(!he.key||Ee&&Ee.key===he.key?"":(""+he.key).replace(me,"$&/")+"/")+x)),I.push(he)),1;if(Ee=0,le=le===""?".":le+":",q(x))for(var _e=0;_e<x.length;_e++){pe=x[_e];var je=le+Z(pe,_e);Ee+=fe(pe,I,oe,je,he)}else if(je=S(x),typeof je=="function")for(x=je.call(x),_e=0;!(pe=x.next()).done;)pe=pe.value,je=le+Z(pe,_e++),Ee+=fe(pe,I,oe,je,he);else if(pe==="object")throw I=String(x),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Pe(x,I,oe){if(x==null)return x;var le=[],he=0;return fe(x,le,"","",function(pe){return I.call(oe,pe,he++)}),le}function we(x){if(x._status===-1){var I=x._result;I=I(),I.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=I)}if(x._status===1)return x._result.default;throw x._result}var ye={current:null},D={transition:null},te={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:D,ReactCurrentOwner:G};function F(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:Pe,forEach:function(x,I,oe){Pe(x,function(){I.apply(this,arguments)},oe)},count:function(x){var I=0;return Pe(x,function(){I++}),I},toArray:function(x){return Pe(x,function(I){return I})||[]},only:function(x){if(!ne(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ae.Component=R,ae.Fragment=s,ae.Profiler=a,ae.PureComponent=K,ae.StrictMode=o,ae.Suspense=g,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ae.act=F,ae.cloneElement=function(x,I,oe){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var le=T({},x.props),he=x.key,pe=x.ref,Ee=x._owner;if(I!=null){if(I.ref!==void 0&&(pe=I.ref,Ee=G.current),I.key!==void 0&&(he=""+I.key),x.type&&x.type.defaultProps)var _e=x.type.defaultProps;for(je in I)Q.call(I,je)&&!ee.hasOwnProperty(je)&&(le[je]=I[je]===void 0&&_e!==void 0?_e[je]:I[je])}var je=arguments.length-2;if(je===1)le.children=oe;else if(1<je){_e=Array(je);for(var dt=0;dt<je;dt++)_e[dt]=arguments[dt+2];le.children=_e}return{$$typeof:c,type:x.type,key:he,ref:pe,props:le,_owner:Ee}},ae.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:u,_context:x},x.Consumer=x},ae.createElement=ce,ae.createFactory=function(x){var I=ce.bind(null,x);return I.type=x,I},ae.createRef=function(){return{current:null}},ae.forwardRef=function(x){return{$$typeof:p,render:x}},ae.isValidElement=ne,ae.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:we}},ae.memo=function(x,I){return{$$typeof:m,type:x,compare:I===void 0?null:I}},ae.startTransition=function(x){var I=D.transition;D.transition={};try{x()}finally{D.transition=I}},ae.unstable_act=F,ae.useCallback=function(x,I){return ye.current.useCallback(x,I)},ae.useContext=function(x){return ye.current.useContext(x)},ae.useDebugValue=function(){},ae.useDeferredValue=function(x){return ye.current.useDeferredValue(x)},ae.useEffect=function(x,I){return ye.current.useEffect(x,I)},ae.useId=function(){return ye.current.useId()},ae.useImperativeHandle=function(x,I,oe){return ye.current.useImperativeHandle(x,I,oe)},ae.useInsertionEffect=function(x,I){return ye.current.useInsertionEffect(x,I)},ae.useLayoutEffect=function(x,I){return ye.current.useLayoutEffect(x,I)},ae.useMemo=function(x,I){return ye.current.useMemo(x,I)},ae.useReducer=function(x,I,oe){return ye.current.useReducer(x,I,oe)},ae.useRef=function(x){return ye.current.useRef(x)},ae.useState=function(x){return ye.current.useState(x)},ae.useSyncExternalStore=function(x,I,oe){return ye.current.useSyncExternalStore(x,I,oe)},ae.useTransition=function(){return ye.current.useTransition()},ae.version="18.3.1",ae}var hd;function ul(){return hd||(hd=1,Ua.exports=xp()),Ua.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function Cp(){if(pd)return fs;pd=1;var c=ul(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var v,w={},S=null,j=null;m!==void 0&&(S=""+m),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(j=g.ref);for(v in g)o.call(g,v)&&!u.hasOwnProperty(v)&&(w[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)w[v]===void 0&&(w[v]=g[v]);return{$$typeof:n,type:p,key:S,ref:j,props:w,_owner:a.current}}return fs.Fragment=s,fs.jsx=f,fs.jsxs=f,fs}var gd;function Pp(){return gd||(gd=1,La.exports=Cp()),La.exports}var E=Pp(),Oi={},Da={exports:{}},lt={},za={exports:{}},Ba={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function bp(){return md||(md=1,(function(c){function n(D,te){var F=D.length;D.push(te);e:for(;0<F;){var x=F-1>>>1,I=D[x];if(0<a(I,te))D[x]=te,D[F]=I,F=x;else break e}}function s(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var te=D[0],F=D.pop();if(F!==te){D[0]=F;e:for(var x=0,I=D.length,oe=I>>>1;x<oe;){var le=2*(x+1)-1,he=D[le],pe=le+1,Ee=D[pe];if(0>a(he,F))pe<I&&0>a(Ee,he)?(D[x]=Ee,D[pe]=F,x=pe):(D[x]=he,D[le]=F,x=le);else if(pe<I&&0>a(Ee,F))D[x]=Ee,D[pe]=F,x=pe;else break e}}return te}function a(D,te){var F=D.sortIndex-te.sortIndex;return F!==0?F:D.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;c.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();c.unstable_now=function(){return f.now()-p}}var g=[],m=[],v=1,w=null,S=3,j=!1,T=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(D){for(var te=s(m);te!==null;){if(te.callback===null)o(m);else if(te.startTime<=D)o(m),te.sortIndex=te.expirationTime,n(g,te);else break;te=s(m)}}function q(D){if(A=!1,U(D),!T)if(s(g)!==null)T=!0,we(Q);else{var te=s(m);te!==null&&ye(q,te.startTime-D)}}function Q(D,te){T=!1,A&&(A=!1,V(ce),ce=-1),j=!0;var F=S;try{for(U(te),w=s(g);w!==null&&(!(w.expirationTime>te)||D&&!Me());){var x=w.callback;if(typeof x=="function"){w.callback=null,S=w.priorityLevel;var I=x(w.expirationTime<=te);te=c.unstable_now(),typeof I=="function"?w.callback=I:w===s(g)&&o(g),U(te)}else o(g);w=s(g)}if(w!==null)var oe=!0;else{var le=s(m);le!==null&&ye(q,le.startTime-te),oe=!1}return oe}finally{w=null,S=F,j=!1}}var G=!1,ee=null,ce=-1,ie=5,ne=-1;function Me(){return!(c.unstable_now()-ne<ie)}function me(){if(ee!==null){var D=c.unstable_now();ne=D;var te=!0;try{te=ee(!0,D)}finally{te?Z():(G=!1,ee=null)}}else G=!1}var Z;if(typeof K=="function")Z=function(){K(me)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Pe=fe.port2;fe.port1.onmessage=me,Z=function(){Pe.postMessage(null)}}else Z=function(){R(me,0)};function we(D){ee=D,G||(G=!0,Z())}function ye(D,te){ce=R(function(){D(c.unstable_now())},te)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(D){D.callback=null},c.unstable_continueExecution=function(){T||j||(T=!0,we(Q))},c.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<D?Math.floor(1e3/D):5},c.unstable_getCurrentPriorityLevel=function(){return S},c.unstable_getFirstCallbackNode=function(){return s(g)},c.unstable_next=function(D){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var F=S;S=te;try{return D()}finally{S=F}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(D,te){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=S;S=D;try{return te()}finally{S=F}},c.unstable_scheduleCallback=function(D,te,F){var x=c.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?x+F:x):F=x,D){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=F+I,D={id:v++,callback:te,priorityLevel:D,startTime:F,expirationTime:I,sortIndex:-1},F>x?(D.sortIndex=F,n(m,D),s(g)===null&&D===s(m)&&(A?(V(ce),ce=-1):A=!0,ye(q,F-x))):(D.sortIndex=I,n(g,D),T||j||(T=!0,we(Q))),D},c.unstable_shouldYield=Me,c.unstable_wrapCallback=function(D){var te=S;return function(){var F=S;S=te;try{return D.apply(this,arguments)}finally{S=F}}}})(Ba)),Ba}var yd;function Tp(){return yd||(yd=1,za.exports=bp()),za.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd;function jp(){if(vd)return lt;vd=1;var c=ul(),n=Tp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function S(e){return g.call(w,e)?!0:g.call(v,e)?!1:m.test(e)?w[e]=!0:(v[e]=!0,!1)}function j(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,r,i){if(t===null||typeof t>"u"||j(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function A(e,t,r,i,l,d,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=h}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new A(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new A(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new A(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new A(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new A(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new A(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V,K);R[t]=new A(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V,K);R[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V,K);R[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,r,i){var l=R.hasOwnProperty(t)?R[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,r,l,i)&&(r=null),i||l===null?S(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var q=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),G=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),Me=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),D=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var F=Object.assign,x;function I(e){if(x===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return`
`+x+e}var oe=!1;function le(e,t){if(!e||oe)return"";oe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(b){var i=b}Reflect.construct(e,[],t)}else{try{t.call()}catch(b){i=b}e.call(t.prototype)}else{try{throw Error()}catch(b){i=b}e()}}catch(b){if(b&&i&&typeof b.stack=="string"){for(var l=b.stack.split(`
`),d=i.stack.split(`
`),h=l.length-1,y=d.length-1;1<=h&&0<=y&&l[h]!==d[y];)y--;for(;1<=h&&0<=y;h--,y--)if(l[h]!==d[y]){if(h!==1||y!==1)do if(h--,y--,0>y||l[h]!==d[y]){var _=`
`+l[h].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=h&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function he(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case G:return"Portal";case ie:return"Profiler";case ce:return"StrictMode";case Z:return"Suspense";case fe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Me:return(e.displayName||"Context")+".Consumer";case ne:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pe:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function Ee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _e(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dt(e){var t=je(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){i=""+h,d.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ks(e){e._valueTracker||(e._valueTracker=dt(e))}function vl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=je(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mi(e,t){var r=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wl(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=_e(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _l(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function Wi(e,t){_l(e,t);var r=_e(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hi(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hi(e,t.type,_e(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hi(e,t,r){(t!=="number"||Es(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bn=Array.isArray;function Dr(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+_e(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Vi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(bn(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_e(r)}}function El(e,t){var r=_e(t.value),i=_e(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function xl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,Pl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bf=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(e){bf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jn[t]=jn[e]})});function bl(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jn.hasOwnProperty(e)&&jn[e]?(""+t).trim():t+"px"}function Tl(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=bl(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var Tf=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ki(e,t){if(t){if(Tf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ji(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function Qi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yi=null,zr=null,Br=null;function jl(e){if(e=Yn(e)){if(typeof Yi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Ks(t),Yi(e.stateNode,e.type,t))}}function Al(e){zr?Br?Br.push(e):Br=[e]:zr=e}function Rl(){if(zr){var e=zr,t=Br;if(Br=zr=null,jl(e),t)for(e=0;e<t.length;e++)jl(t[e])}}function Ol(e,t){return e(t)}function Il(){}var Xi=!1;function Nl(e,t,r){if(Xi)return e(t,r);Xi=!0;try{return Ol(e,t,r)}finally{Xi=!1,(zr!==null||Br!==null)&&(Il(),Rl())}}function An(e,t){var r=e.stateNode;if(r===null)return null;var i=Ks(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Zi=!1;if(p)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{Zi=!1}function jf(e,t,r,i,l,d,h,y,_){var b=Array.prototype.slice.call(arguments,3);try{t.apply(r,b)}catch(N){this.onError(N)}}var On=!1,Cs=null,Ps=!1,eo=null,Af={onError:function(e){On=!0,Cs=e}};function Rf(e,t,r,i,l,d,h,y,_){On=!1,Cs=null,jf.apply(Af,arguments)}function Of(e,t,r,i,l,d,h,y,_){if(Rf.apply(this,arguments),On){if(On){var b=Cs;On=!1,Cs=null}else throw Error(s(198));Ps||(Ps=!0,eo=b)}}function vr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $l(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ll(e){if(vr(e)!==e)throw Error(s(188))}function If(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return Ll(l),e;if(d===i)return Ll(l),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=l,i=d;else{for(var h=!1,y=l.child;y;){if(y===r){h=!0,r=l,i=d;break}if(y===i){h=!0,i=l,r=d;break}y=y.sibling}if(!h){for(y=d.child;y;){if(y===r){h=!0,r=d,i=l;break}if(y===i){h=!0,i=d,r=l;break}y=y.sibling}if(!h)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function Ul(e){return e=If(e),e!==null?Dl(e):null}function Dl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dl(e);if(t!==null)return t;e=e.sibling}return null}var zl=n.unstable_scheduleCallback,Bl=n.unstable_cancelCallback,Nf=n.unstable_shouldYield,$f=n.unstable_requestPaint,$e=n.unstable_now,Lf=n.unstable_getCurrentPriorityLevel,to=n.unstable_ImmediatePriority,Fl=n.unstable_UserBlockingPriority,bs=n.unstable_NormalPriority,Uf=n.unstable_LowPriority,Ml=n.unstable_IdlePriority,Ts=null,Rt=null;function Df(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ts,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Ff,zf=Math.log,Bf=Math.LN2;function Ff(e){return e>>>=0,e===0?32:31-(zf(e)/Bf|0)|0}var js=64,As=4194304;function In(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rs(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,d=e.pingedLanes,h=r&268435455;if(h!==0){var y=h&~l;y!==0?i=In(y):(d&=h,d!==0&&(i=In(d)))}else h=r&~l,h!==0?i=In(h):d!==0&&(i=In(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&l)===0&&(l=i&-i,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-kt(t),l=1<<r,i|=e[r],t&=~l;return i}function Mf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-kt(d),y=1<<h,_=l[h];_===-1?((y&r)===0||(y&i)!==0)&&(l[h]=Mf(y,t)):_<=t&&(e.expiredLanes|=y),d&=~y}}function ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wl(){var e=js;return js<<=1,(js&4194240)===0&&(js=64),e}function no(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=r}function Hf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-kt(r),d=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~d}}function so(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-kt(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var Se=0;function Hl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Vl,io,ql,Kl,Jl,oo=!1,Os=[],Jt=null,Gt=null,Qt=null,$n=new Map,Ln=new Map,Yt=[],Vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gl(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function Un(e,t,r,i,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[l]},t!==null&&(t=Yn(t),t!==null&&io(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function qf(e,t,r,i,l){switch(t){case"focusin":return Jt=Un(Jt,e,t,r,i,l),!0;case"dragenter":return Gt=Un(Gt,e,t,r,i,l),!0;case"mouseover":return Qt=Un(Qt,e,t,r,i,l),!0;case"pointerover":var d=l.pointerId;return $n.set(d,Un($n.get(d)||null,e,t,r,i,l)),!0;case"gotpointercapture":return d=l.pointerId,Ln.set(d,Un(Ln.get(d)||null,e,t,r,i,l)),!0}return!1}function Ql(e){var t=wr(e.target);if(t!==null){var r=vr(t);if(r!==null){if(t=r.tag,t===13){if(t=$l(r),t!==null){e.blockedOn=t,Jl(e.priority,function(){ql(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Gi=i,r.target.dispatchEvent(i),Gi=null}else return t=Yn(r),t!==null&&io(t),e.blockedOn=r,!1;t.shift()}return!0}function Yl(e,t,r){Is(e)&&r.delete(t)}function Kf(){oo=!1,Jt!==null&&Is(Jt)&&(Jt=null),Gt!==null&&Is(Gt)&&(Gt=null),Qt!==null&&Is(Qt)&&(Qt=null),$n.forEach(Yl),Ln.forEach(Yl)}function Dn(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Kf)))}function zn(e){function t(l){return Dn(l,e)}if(0<Os.length){Dn(Os[0],e);for(var r=1;r<Os.length;r++){var i=Os[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Jt!==null&&Dn(Jt,e),Gt!==null&&Dn(Gt,e),Qt!==null&&Dn(Qt,e),$n.forEach(t),Ln.forEach(t),r=0;r<Yt.length;r++)i=Yt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Yt.length&&(r=Yt[0],r.blockedOn===null);)Ql(r),r.blockedOn===null&&Yt.shift()}var Fr=q.ReactCurrentBatchConfig,Ns=!0;function Jf(e,t,r,i){var l=Se,d=Fr.transition;Fr.transition=null;try{Se=1,ao(e,t,r,i)}finally{Se=l,Fr.transition=d}}function Gf(e,t,r,i){var l=Se,d=Fr.transition;Fr.transition=null;try{Se=4,ao(e,t,r,i)}finally{Se=l,Fr.transition=d}}function ao(e,t,r,i){if(Ns){var l=lo(e,t,r,i);if(l===null)Po(e,t,i,$s,r),Gl(e,i);else if(qf(l,e,t,r,i))i.stopPropagation();else if(Gl(e,i),t&4&&-1<Vf.indexOf(e)){for(;l!==null;){var d=Yn(l);if(d!==null&&Vl(d),d=lo(e,t,r,i),d===null&&Po(e,t,i,$s,r),d===l)break;l=d}l!==null&&i.stopPropagation()}else Po(e,t,i,null,r)}}var $s=null;function lo(e,t,r,i){if($s=null,e=Qi(i),e=wr(e),e!==null)if(t=vr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$l(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $s=e,null}function Xl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lf()){case to:return 1;case Fl:return 4;case bs:case Uf:return 16;case Ml:return 536870912;default:return 16}default:return 16}}var Xt=null,uo=null,Ls=null;function Zl(){if(Ls)return Ls;var e,t=uo,r=t.length,i,l="value"in Xt?Xt.value:Xt.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var h=r-e;for(i=1;i<=h&&t[r-i]===l[d-i];i++);return Ls=l.slice(e,1<i?1-i:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function eu(){return!1}function ft(e){function t(r,i,l,d,h){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(r=e[y],this[y]=r?r(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ds:eu,this.isPropagationStopped=eu,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=ft(Mr),Bn=F({},Mr,{view:0,detail:0}),Qf=ft(Bn),fo,ho,Fn,zs=F({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(fo=e.screenX-Fn.screenX,ho=e.screenY-Fn.screenY):ho=fo=0,Fn=e),fo)},movementY:function(e){return"movementY"in e?e.movementY:ho}}),tu=ft(zs),Yf=F({},zs,{dataTransfer:0}),Xf=ft(Yf),Zf=F({},Bn,{relatedTarget:0}),po=ft(Zf),eh=F({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),th=ft(eh),rh=F({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nh=ft(rh),sh=F({},Mr,{data:0}),ru=ft(sh),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ah[e])?!!t[e]:!1}function go(){return lh}var uh=F({},Bn,{key:function(e){if(e.key){var t=ih[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ch=ft(uh),dh=F({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=ft(dh),fh=F({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),hh=ft(fh),ph=F({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gh=ft(ph),mh=F({},zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yh=ft(mh),vh=[9,13,27,32],mo=p&&"CompositionEvent"in window,Mn=null;p&&"documentMode"in document&&(Mn=document.documentMode);var wh=p&&"TextEvent"in window&&!Mn,su=p&&(!mo||Mn&&8<Mn&&11>=Mn),iu=" ",ou=!1;function au(e,t){switch(e){case"keyup":return vh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function _h(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(ou=!0,iu);case"textInput":return e=t.data,e===iu&&ou?null:e;default:return null}}function Sh(e,t){if(Wr)return e==="compositionend"||!mo&&au(e,t)?(e=Zl(),Ls=uo=Xt=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return su&&t.locale!=="ko"?null:t.data;default:return null}}var kh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kh[e.type]:t==="textarea"}function cu(e,t,r,i){Al(i),t=Hs(t,"onChange"),0<t.length&&(r=new co("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Wn=null,Hn=null;function Eh(e){Tu(e,0)}function Bs(e){var t=Jr(e);if(vl(t))return e}function xh(e,t){if(e==="change")return t}var du=!1;if(p){var yo;if(p){var vo="oninput"in document;if(!vo){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),vo=typeof fu.oninput=="function"}yo=vo}else yo=!1;du=yo&&(!document.documentMode||9<document.documentMode)}function hu(){Wn&&(Wn.detachEvent("onpropertychange",pu),Hn=Wn=null)}function pu(e){if(e.propertyName==="value"&&Bs(Hn)){var t=[];cu(t,Hn,e,Qi(e)),Nl(Eh,t)}}function Ch(e,t,r){e==="focusin"?(hu(),Wn=t,Hn=r,Wn.attachEvent("onpropertychange",pu)):e==="focusout"&&hu()}function Ph(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bs(Hn)}function bh(e,t){if(e==="click")return Bs(t)}function Th(e,t){if(e==="input"||e==="change")return Bs(t)}function jh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:jh;function Vn(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!g.call(t,l)||!Et(e[l],t[l]))return!1}return!0}function gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mu(e,t){var r=gu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gu(r)}}function yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vu(){for(var e=window,t=Es();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Es(e.document)}return t}function wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ah(e){var t=vu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yu(r.ownerDocument.documentElement,r)){if(i!==null&&wo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,d=Math.min(i.start,l);i=i.end===void 0?d:Math.min(i.end,l),!e.extend&&d>i&&(l=i,i=d,d=l),l=mu(r,d);var h=mu(r,i);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rh=p&&"documentMode"in document&&11>=document.documentMode,Hr=null,_o=null,qn=null,So=!1;function wu(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;So||Hr==null||Hr!==Es(i)||(i=Hr,"selectionStart"in i&&wo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qn&&Vn(qn,i)||(qn=i,i=Hs(_o,"onSelect"),0<i.length&&(t=new co("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Hr)))}function Fs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},ko={},_u={};p&&(_u=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Ms(e){if(ko[e])return ko[e];if(!Vr[e])return e;var t=Vr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _u)return ko[e]=t[r];return e}var Su=Ms("animationend"),ku=Ms("animationiteration"),Eu=Ms("animationstart"),xu=Ms("transitionend"),Cu=new Map,Pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){Cu.set(e,t),u(t,[e])}for(var Eo=0;Eo<Pu.length;Eo++){var xo=Pu[Eo],Oh=xo.toLowerCase(),Ih=xo[0].toUpperCase()+xo.slice(1);Zt(Oh,"on"+Ih)}Zt(Su,"onAnimationEnd"),Zt(ku,"onAnimationIteration"),Zt(Eu,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(xu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function bu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Of(i,t,void 0,e),e.currentTarget=null}function Tu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var h=i.length-1;0<=h;h--){var y=i[h],_=y.instance,b=y.currentTarget;if(y=y.listener,_!==d&&l.isPropagationStopped())break e;bu(l,y,b),d=_}else for(h=0;h<i.length;h++){if(y=i[h],_=y.instance,b=y.currentTarget,y=y.listener,_!==d&&l.isPropagationStopped())break e;bu(l,y,b),d=_}}}if(Ps)throw e=eo,Ps=!1,eo=null,e}function be(e,t){var r=t[Oo];r===void 0&&(r=t[Oo]=new Set);var i=e+"__bubble";r.has(i)||(ju(t,e,2,!1),r.add(i))}function Co(e,t,r){var i=0;t&&(i|=4),ju(r,e,i,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function Jn(e){if(!e[Ws]){e[Ws]=!0,o.forEach(function(r){r!=="selectionchange"&&(Nh.has(r)||Co(r,!1,e),Co(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,Co("selectionchange",!1,t))}}function ju(e,t,r,i){switch(Xl(t)){case 1:var l=Jf;break;case 4:l=Gf;break;default:l=ao}r=l.bind(null,t,r,e),l=void 0,!Zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Po(e,t,r,i,l){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var y=i.stateNode.containerInfo;if(y===l||y.nodeType===8&&y.parentNode===l)break;if(h===4)for(h=i.return;h!==null;){var _=h.tag;if((_===3||_===4)&&(_=h.stateNode.containerInfo,_===l||_.nodeType===8&&_.parentNode===l))return;h=h.return}for(;y!==null;){if(h=wr(y),h===null)return;if(_=h.tag,_===5||_===6){i=d=h;continue e}y=y.parentNode}}i=i.return}Nl(function(){var b=d,N=Qi(r),$=[];e:{var O=Cu.get(e);if(O!==void 0){var z=co,M=e;switch(e){case"keypress":if(Us(r)===0)break e;case"keydown":case"keyup":z=ch;break;case"focusin":M="focus",z=po;break;case"focusout":M="blur",z=po;break;case"beforeblur":case"afterblur":z=po;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=hh;break;case Su:case ku:case Eu:z=th;break;case xu:z=gh;break;case"scroll":z=Qf;break;case"wheel":z=yh;break;case"copy":case"cut":case"paste":z=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=nu}var H=(t&4)!==0,Le=!H&&e==="scroll",C=H?O!==null?O+"Capture":null:O;H=[];for(var k=b,P;k!==null;){P=k;var L=P.stateNode;if(P.tag===5&&L!==null&&(P=L,C!==null&&(L=An(k,C),L!=null&&H.push(Gn(k,L,P)))),Le)break;k=k.return}0<H.length&&(O=new z(O,M,null,r,N),$.push({event:O,listeners:H}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",O&&r!==Gi&&(M=r.relatedTarget||r.fromElement)&&(wr(M)||M[Ut]))break e;if((z||O)&&(O=N.window===N?N:(O=N.ownerDocument)?O.defaultView||O.parentWindow:window,z?(M=r.relatedTarget||r.toElement,z=b,M=M?wr(M):null,M!==null&&(Le=vr(M),M!==Le||M.tag!==5&&M.tag!==6)&&(M=null)):(z=null,M=b),z!==M)){if(H=tu,L="onMouseLeave",C="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(H=nu,L="onPointerLeave",C="onPointerEnter",k="pointer"),Le=z==null?O:Jr(z),P=M==null?O:Jr(M),O=new H(L,k+"leave",z,r,N),O.target=Le,O.relatedTarget=P,L=null,wr(N)===b&&(H=new H(C,k+"enter",M,r,N),H.target=P,H.relatedTarget=Le,L=H),Le=L,z&&M)t:{for(H=z,C=M,k=0,P=H;P;P=qr(P))k++;for(P=0,L=C;L;L=qr(L))P++;for(;0<k-P;)H=qr(H),k--;for(;0<P-k;)C=qr(C),P--;for(;k--;){if(H===C||C!==null&&H===C.alternate)break t;H=qr(H),C=qr(C)}H=null}else H=null;z!==null&&Au($,O,z,H,!1),M!==null&&Le!==null&&Au($,Le,M,H,!0)}}e:{if(O=b?Jr(b):window,z=O.nodeName&&O.nodeName.toLowerCase(),z==="select"||z==="input"&&O.type==="file")var J=xh;else if(uu(O))if(du)J=Th;else{J=Ph;var Y=Ch}else(z=O.nodeName)&&z.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(J=bh);if(J&&(J=J(e,b))){cu($,J,r,N);break e}Y&&Y(e,O,b),e==="focusout"&&(Y=O._wrapperState)&&Y.controlled&&O.type==="number"&&Hi(O,"number",O.value)}switch(Y=b?Jr(b):window,e){case"focusin":(uu(Y)||Y.contentEditable==="true")&&(Hr=Y,_o=b,qn=null);break;case"focusout":qn=_o=Hr=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,wu($,r,N);break;case"selectionchange":if(Rh)break;case"keydown":case"keyup":wu($,r,N)}var X;if(mo)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Wr?au(e,r)&&(re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(re="onCompositionStart");re&&(su&&r.locale!=="ko"&&(Wr||re!=="onCompositionStart"?re==="onCompositionEnd"&&Wr&&(X=Zl()):(Xt=N,uo="value"in Xt?Xt.value:Xt.textContent,Wr=!0)),Y=Hs(b,re),0<Y.length&&(re=new ru(re,e,null,r,N),$.push({event:re,listeners:Y}),X?re.data=X:(X=lu(r),X!==null&&(re.data=X)))),(X=wh?_h(e,r):Sh(e,r))&&(b=Hs(b,"onBeforeInput"),0<b.length&&(N=new ru("onBeforeInput","beforeinput",null,r,N),$.push({event:N,listeners:b}),N.data=X))}Tu($,t)})}function Gn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hs(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=An(e,r),d!=null&&i.unshift(Gn(e,d,l)),d=An(e,t),d!=null&&i.push(Gn(e,d,l))),e=e.return}return i}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Au(e,t,r,i,l){for(var d=t._reactName,h=[];r!==null&&r!==i;){var y=r,_=y.alternate,b=y.stateNode;if(_!==null&&_===i)break;y.tag===5&&b!==null&&(y=b,l?(_=An(r,d),_!=null&&h.unshift(Gn(r,_,y))):l||(_=An(r,d),_!=null&&h.push(Gn(r,_,y)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var $h=/\r\n?/g,Lh=/\u0000|\uFFFD/g;function Ru(e){return(typeof e=="string"?e:""+e).replace($h,`
`).replace(Lh,"")}function Vs(e,t,r){if(t=Ru(t),Ru(e)!==t&&r)throw Error(s(425))}function qs(){}var bo=null,To=null;function jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,Uh=typeof clearTimeout=="function"?clearTimeout:void 0,Ou=typeof Promise=="function"?Promise:void 0,Dh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ou<"u"?function(e){return Ou.resolve(null).then(e).catch(zh)}:Ao;function zh(e){setTimeout(function(){throw e})}function Ro(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),zn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);zn(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Kr,Qn="__reactProps$"+Kr,Ut="__reactContainer$"+Kr,Oo="__reactEvents$"+Kr,Bh="__reactListeners$"+Kr,Fh="__reactHandles$"+Kr;function wr(e){var t=e[Ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ut]||r[Ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Iu(e);e!==null;){if(r=e[Ot])return r;e=Iu(e)}return t}e=r,r=e.parentNode}return null}function Yn(e){return e=e[Ot]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ks(e){return e[Qn]||null}var Io=[],Gr=-1;function tr(e){return{current:e}}function Te(e){0>Gr||(e.current=Io[Gr],Io[Gr]=null,Gr--)}function xe(e,t){Gr++,Io[Gr]=e.current,e.current=t}var rr={},Ge=tr(rr),nt=tr(!1),_r=rr;function Qr(e,t){var r=e.type.contextTypes;if(!r)return rr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in r)l[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function st(e){return e=e.childContextTypes,e!=null}function Js(){Te(nt),Te(Ge)}function Nu(e,t,r){if(Ge.current!==rr)throw Error(s(168));xe(Ge,t),xe(nt,r)}function $u(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(s(108,Ee(e)||"Unknown",l));return F({},r,i)}function Gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,_r=Ge.current,xe(Ge,e),xe(nt,nt.current),!0}function Lu(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=$u(e,t,_r),i.__reactInternalMemoizedMergedChildContext=e,Te(nt),Te(Ge),xe(Ge,e)):Te(nt),xe(nt,r)}var Dt=null,Qs=!1,No=!1;function Uu(e){Dt===null?Dt=[e]:Dt.push(e)}function Mh(e){Qs=!0,Uu(e)}function nr(){if(!No&&Dt!==null){No=!0;var e=0,t=Se;try{var r=Dt;for(Se=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Dt=null,Qs=!1}catch(l){throw Dt!==null&&(Dt=Dt.slice(e+1)),zl(to,nr),l}finally{Se=t,No=!1}}return null}var Yr=[],Xr=0,Ys=null,Xs=0,mt=[],yt=0,Sr=null,zt=1,Bt="";function kr(e,t){Yr[Xr++]=Xs,Yr[Xr++]=Ys,Ys=e,Xs=t}function Du(e,t,r){mt[yt++]=zt,mt[yt++]=Bt,mt[yt++]=Sr,Sr=e;var i=zt;e=Bt;var l=32-kt(i)-1;i&=~(1<<l),r+=1;var d=32-kt(t)+l;if(30<d){var h=l-l%5;d=(i&(1<<h)-1).toString(32),i>>=h,l-=h,zt=1<<32-kt(t)+l|r<<l|i,Bt=d+e}else zt=1<<d|r<<l|i,Bt=e}function $o(e){e.return!==null&&(kr(e,1),Du(e,1,0))}function Lo(e){for(;e===Ys;)Ys=Yr[--Xr],Yr[Xr]=null,Xs=Yr[--Xr],Yr[Xr]=null;for(;e===Sr;)Sr=mt[--yt],mt[yt]=null,Bt=mt[--yt],mt[yt]=null,zt=mt[--yt],mt[yt]=null}var ht=null,pt=null,Ae=!1,xt=null;function zu(e,t){var r=St(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,pt=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sr!==null?{id:zt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=St(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ht=e,pt=null,!0):!1;default:return!1}}function Uo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(Ae){var t=pt;if(t){var r=t;if(!Bu(e,t)){if(Uo(e))throw Error(s(418));t=er(r.nextSibling);var i=ht;t&&Bu(e,t)?zu(i,r):(e.flags=e.flags&-4097|2,Ae=!1,ht=e)}}else{if(Uo(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ae=!1,ht=e}}}function Fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function Zs(e){if(e!==ht)return!1;if(!Ae)return Fu(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jo(e.type,e.memoizedProps)),t&&(t=pt)){if(Uo(e))throw Mu(),Error(s(418));for(;t;)zu(e,t),t=er(t.nextSibling)}if(Fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pt=er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=ht?er(e.stateNode.nextSibling):null;return!0}function Mu(){for(var e=pt;e;)e=er(e.nextSibling)}function Zr(){pt=ht=null,Ae=!1}function zo(e){xt===null?xt=[e]:xt.push(e)}var Wh=q.ReactCurrentBatchConfig;function Xn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var l=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(h){var y=l.refs;h===null?delete y[d]:y[d]=h},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function ei(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wu(e){var t=e._init;return t(e._payload)}function Hu(e){function t(C,k){if(e){var P=C.deletions;P===null?(C.deletions=[k],C.flags|=16):P.push(k)}}function r(C,k){if(!e)return null;for(;k!==null;)t(C,k),k=k.sibling;return null}function i(C,k){for(C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function l(C,k){return C=dr(C,k),C.index=0,C.sibling=null,C}function d(C,k,P){return C.index=P,e?(P=C.alternate,P!==null?(P=P.index,P<k?(C.flags|=2,k):P):(C.flags|=2,k)):(C.flags|=1048576,k)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function y(C,k,P,L){return k===null||k.tag!==6?(k=Aa(P,C.mode,L),k.return=C,k):(k=l(k,P),k.return=C,k)}function _(C,k,P,L){var J=P.type;return J===ee?N(C,k,P.props.children,L,P.key):k!==null&&(k.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===we&&Wu(J)===k.type)?(L=l(k,P.props),L.ref=Xn(C,k,P),L.return=C,L):(L=xi(P.type,P.key,P.props,null,C.mode,L),L.ref=Xn(C,k,P),L.return=C,L)}function b(C,k,P,L){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=Ra(P,C.mode,L),k.return=C,k):(k=l(k,P.children||[]),k.return=C,k)}function N(C,k,P,L,J){return k===null||k.tag!==7?(k=Ar(P,C.mode,L,J),k.return=C,k):(k=l(k,P),k.return=C,k)}function $(C,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Aa(""+k,C.mode,P),k.return=C,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:return P=xi(k.type,k.key,k.props,null,C.mode,P),P.ref=Xn(C,null,k),P.return=C,P;case G:return k=Ra(k,C.mode,P),k.return=C,k;case we:var L=k._init;return $(C,L(k._payload),P)}if(bn(k)||te(k))return k=Ar(k,C.mode,P,null),k.return=C,k;ei(C,k)}return null}function O(C,k,P,L){var J=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return J!==null?null:y(C,k,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===J?_(C,k,P,L):null;case G:return P.key===J?b(C,k,P,L):null;case we:return J=P._init,O(C,k,J(P._payload),L)}if(bn(P)||te(P))return J!==null?null:N(C,k,P,L,null);ei(C,P)}return null}function z(C,k,P,L,J){if(typeof L=="string"&&L!==""||typeof L=="number")return C=C.get(P)||null,y(k,C,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return C=C.get(L.key===null?P:L.key)||null,_(k,C,L,J);case G:return C=C.get(L.key===null?P:L.key)||null,b(k,C,L,J);case we:var Y=L._init;return z(C,k,P,Y(L._payload),J)}if(bn(L)||te(L))return C=C.get(P)||null,N(k,C,L,J,null);ei(k,L)}return null}function M(C,k,P,L){for(var J=null,Y=null,X=k,re=k=0,Ve=null;X!==null&&re<P.length;re++){X.index>re?(Ve=X,X=null):Ve=X.sibling;var ge=O(C,X,P[re],L);if(ge===null){X===null&&(X=Ve);break}e&&X&&ge.alternate===null&&t(C,X),k=d(ge,k,re),Y===null?J=ge:Y.sibling=ge,Y=ge,X=Ve}if(re===P.length)return r(C,X),Ae&&kr(C,re),J;if(X===null){for(;re<P.length;re++)X=$(C,P[re],L),X!==null&&(k=d(X,k,re),Y===null?J=X:Y.sibling=X,Y=X);return Ae&&kr(C,re),J}for(X=i(C,X);re<P.length;re++)Ve=z(X,C,re,P[re],L),Ve!==null&&(e&&Ve.alternate!==null&&X.delete(Ve.key===null?re:Ve.key),k=d(Ve,k,re),Y===null?J=Ve:Y.sibling=Ve,Y=Ve);return e&&X.forEach(function(fr){return t(C,fr)}),Ae&&kr(C,re),J}function H(C,k,P,L){var J=te(P);if(typeof J!="function")throw Error(s(150));if(P=J.call(P),P==null)throw Error(s(151));for(var Y=J=null,X=k,re=k=0,Ve=null,ge=P.next();X!==null&&!ge.done;re++,ge=P.next()){X.index>re?(Ve=X,X=null):Ve=X.sibling;var fr=O(C,X,ge.value,L);if(fr===null){X===null&&(X=Ve);break}e&&X&&fr.alternate===null&&t(C,X),k=d(fr,k,re),Y===null?J=fr:Y.sibling=fr,Y=fr,X=Ve}if(ge.done)return r(C,X),Ae&&kr(C,re),J;if(X===null){for(;!ge.done;re++,ge=P.next())ge=$(C,ge.value,L),ge!==null&&(k=d(ge,k,re),Y===null?J=ge:Y.sibling=ge,Y=ge);return Ae&&kr(C,re),J}for(X=i(C,X);!ge.done;re++,ge=P.next())ge=z(X,C,re,ge.value,L),ge!==null&&(e&&ge.alternate!==null&&X.delete(ge.key===null?re:ge.key),k=d(ge,k,re),Y===null?J=ge:Y.sibling=ge,Y=ge);return e&&X.forEach(function(kp){return t(C,kp)}),Ae&&kr(C,re),J}function Le(C,k,P,L){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var J=P.key,Y=k;Y!==null;){if(Y.key===J){if(J=P.type,J===ee){if(Y.tag===7){r(C,Y.sibling),k=l(Y,P.props.children),k.return=C,C=k;break e}}else if(Y.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===we&&Wu(J)===Y.type){r(C,Y.sibling),k=l(Y,P.props),k.ref=Xn(C,Y,P),k.return=C,C=k;break e}r(C,Y);break}else t(C,Y);Y=Y.sibling}P.type===ee?(k=Ar(P.props.children,C.mode,L,P.key),k.return=C,C=k):(L=xi(P.type,P.key,P.props,null,C.mode,L),L.ref=Xn(C,k,P),L.return=C,C=L)}return h(C);case G:e:{for(Y=P.key;k!==null;){if(k.key===Y)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){r(C,k.sibling),k=l(k,P.children||[]),k.return=C,C=k;break e}else{r(C,k);break}else t(C,k);k=k.sibling}k=Ra(P,C.mode,L),k.return=C,C=k}return h(C);case we:return Y=P._init,Le(C,k,Y(P._payload),L)}if(bn(P))return M(C,k,P,L);if(te(P))return H(C,k,P,L);ei(C,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(r(C,k.sibling),k=l(k,P),k.return=C,C=k):(r(C,k),k=Aa(P,C.mode,L),k.return=C,C=k),h(C)):r(C,k)}return Le}var en=Hu(!0),Vu=Hu(!1),ti=tr(null),ri=null,tn=null,Bo=null;function Fo(){Bo=tn=ri=null}function Mo(e){var t=ti.current;Te(ti),e._currentValue=t}function Wo(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function rn(e,t){ri=e,Bo=tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(it=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(Bo!==e)if(e={context:e,memoizedValue:t,next:null},tn===null){if(ri===null)throw Error(s(308));tn=e,ri.dependencies={lanes:0,firstContext:e}}else tn=tn.next=e;return t}var Er=null;function Ho(e){Er===null?Er=[e]:Er.push(e)}function qu(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,Ho(t)):(r.next=l.next,l.next=r),t.interleaved=r,Ft(e,i)}function Ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sr=!1;function Vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ku(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(de&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,Ft(e,r)}return l=i.interleaved,l===null?(t.next=t,Ho(i)):(t.next=l.next,l.next=t),i.interleaved=t,Ft(e,r)}function ni(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,so(e,r)}}function Ju(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?l=d=h:d=d.next=h,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function si(e,t,r,i){var l=e.updateQueue;sr=!1;var d=l.firstBaseUpdate,h=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var _=y,b=_.next;_.next=null,h===null?d=b:h.next=b,h=_;var N=e.alternate;N!==null&&(N=N.updateQueue,y=N.lastBaseUpdate,y!==h&&(y===null?N.firstBaseUpdate=b:y.next=b,N.lastBaseUpdate=_))}if(d!==null){var $=l.baseState;h=0,N=b=_=null,y=d;do{var O=y.lane,z=y.eventTime;if((i&O)===O){N!==null&&(N=N.next={eventTime:z,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var M=e,H=y;switch(O=t,z=r,H.tag){case 1:if(M=H.payload,typeof M=="function"){$=M.call(z,$,O);break e}$=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=H.payload,O=typeof M=="function"?M.call(z,$,O):M,O==null)break e;$=F({},$,O);break e;case 2:sr=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,O=l.effects,O===null?l.effects=[y]:O.push(y))}else z={eventTime:z,lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},N===null?(b=N=z,_=$):N=N.next=z,h|=O;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;O=y,y=O.next,O.next=null,l.lastBaseUpdate=O,l.shared.pending=null}}while(!0);if(N===null&&(_=$),l.baseState=_,l.firstBaseUpdate=b,l.lastBaseUpdate=N,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);Pr|=h,e.lanes=h,e.memoizedState=$}}function Gu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(s(191,l));l.call(i)}}}var Zn={},It=tr(Zn),es=tr(Zn),ts=tr(Zn);function xr(e){if(e===Zn)throw Error(s(174));return e}function qo(e,t){switch(xe(ts,t),xe(es,e),xe(It,Zn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qi(t,e)}Te(It),xe(It,t)}function nn(){Te(It),Te(es),Te(ts)}function Qu(e){xr(ts.current);var t=xr(It.current),r=qi(t,e.type);t!==r&&(xe(es,e),xe(It,r))}function Ko(e){es.current===e&&(Te(It),Te(es))}var Re=tr(0);function ii(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function Go(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var oi=q.ReactCurrentDispatcher,Qo=q.ReactCurrentBatchConfig,Cr=0,Oe=null,De=null,We=null,ai=!1,rs=!1,ns=0,Hh=0;function Qe(){throw Error(s(321))}function Yo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Et(e[r],t[r]))return!1;return!0}function Xo(e,t,r,i,l,d){if(Cr=d,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=e===null||e.memoizedState===null?Jh:Gh,e=r(i,l),rs){d=0;do{if(rs=!1,ns=0,25<=d)throw Error(s(301));d+=1,We=De=null,t.updateQueue=null,oi.current=Qh,e=r(i,l)}while(rs)}if(oi.current=ci,t=De!==null&&De.next!==null,Cr=0,We=De=Oe=null,ai=!1,t)throw Error(s(300));return e}function Zo(){var e=ns!==0;return ns=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Oe.memoizedState=We=e:We=We.next=e,We}function wt(){if(De===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=We===null?Oe.memoizedState:We.next;if(t!==null)We=t,De=e;else{if(e===null)throw Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},We===null?Oe.memoizedState=We=e:We=We.next=e}return We}function ss(e,t){return typeof t=="function"?t(e):t}function ea(e){var t=wt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=De,l=i.baseQueue,d=r.pending;if(d!==null){if(l!==null){var h=l.next;l.next=d.next,d.next=h}i.baseQueue=l=d,r.pending=null}if(l!==null){d=l.next,i=i.baseState;var y=h=null,_=null,b=d;do{var N=b.lane;if((Cr&N)===N)_!==null&&(_=_.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),i=b.hasEagerState?b.eagerState:e(i,b.action);else{var $={lane:N,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};_===null?(y=_=$,h=i):_=_.next=$,Oe.lanes|=N,Pr|=N}b=b.next}while(b!==null&&b!==d);_===null?h=i:_.next=y,Et(i,t.memoizedState)||(it=!0),t.memoizedState=i,t.baseState=h,t.baseQueue=_,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do d=l.lane,Oe.lanes|=d,Pr|=d,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ta(e){var t=wt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var h=l=l.next;do d=e(d,h.action),h=h.next;while(h!==l);Et(d,t.memoizedState)||(it=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function Yu(){}function Xu(e,t){var r=Oe,i=wt(),l=t(),d=!Et(i.memoizedState,l);if(d&&(i.memoizedState=l,it=!0),i=i.queue,ra(tc.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,is(9,ec.bind(null,r,i,l,t),void 0,null),He===null)throw Error(s(349));(Cr&30)!==0||Zu(r,t,l)}return l}function Zu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ec(e,t,r,i){t.value=r,t.getSnapshot=i,rc(t)&&nc(e)}function tc(e,t,r){return r(function(){rc(t)&&nc(e)})}function rc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Et(e,r)}catch{return!0}}function nc(e){var t=Ft(e,1);t!==null&&Tt(t,e,1,-1)}function sc(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=Kh.bind(null,Oe,e),[t.memoizedState,e]}function is(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function ic(){return wt().memoizedState}function li(e,t,r,i){var l=Nt();Oe.flags|=e,l.memoizedState=is(1|t,r,void 0,i===void 0?null:i)}function ui(e,t,r,i){var l=wt();i=i===void 0?null:i;var d=void 0;if(De!==null){var h=De.memoizedState;if(d=h.destroy,i!==null&&Yo(i,h.deps)){l.memoizedState=is(t,r,d,i);return}}Oe.flags|=e,l.memoizedState=is(1|t,r,d,i)}function oc(e,t){return li(8390656,8,e,t)}function ra(e,t){return ui(2048,8,e,t)}function ac(e,t){return ui(4,2,e,t)}function lc(e,t){return ui(4,4,e,t)}function uc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cc(e,t,r){return r=r!=null?r.concat([e]):null,ui(4,4,uc.bind(null,t,e),r)}function na(){}function dc(e,t){var r=wt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Yo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function fc(e,t){var r=wt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Yo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function hc(e,t,r){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=r):(Et(r,t)||(r=Wl(),Oe.lanes|=r,Pr|=r,e.baseState=!0),t)}function Vh(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var i=Qo.transition;Qo.transition={};try{e(!1),t()}finally{Se=r,Qo.transition=i}}function pc(){return wt().memoizedState}function qh(e,t,r){var i=ur(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},gc(e))mc(t,r);else if(r=qu(e,t,r,i),r!==null){var l=tt();Tt(r,e,i,l),yc(r,t,i)}}function Kh(e,t,r){var i=ur(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(gc(e))mc(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var h=t.lastRenderedState,y=d(h,r);if(l.hasEagerState=!0,l.eagerState=y,Et(y,h)){var _=t.interleaved;_===null?(l.next=l,Ho(t)):(l.next=_.next,_.next=l),t.interleaved=l;return}}catch{}finally{}r=qu(e,t,l,i),r!==null&&(l=tt(),Tt(r,e,i,l),yc(r,t,i))}}function gc(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function mc(e,t){rs=ai=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,so(e,r)}}var ci={readContext:vt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Jh={readContext:vt,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:oc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,li(4194308,4,uc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){return li(4,2,e,t)},useMemo:function(e,t){var r=Nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Nt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=qh.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:sc,useDebugValue:na,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=sc(!1),t=e[0];return e=Vh.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Oe,l=Nt();if(Ae){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),He===null)throw Error(s(349));(Cr&30)!==0||Zu(i,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,oc(tc.bind(null,i,d,e),[e]),i.flags|=2048,is(9,ec.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Nt(),t=He.identifierPrefix;if(Ae){var r=Bt,i=zt;r=(i&~(1<<32-kt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=ns++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Hh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gh={readContext:vt,useCallback:dc,useContext:vt,useEffect:ra,useImperativeHandle:cc,useInsertionEffect:ac,useLayoutEffect:lc,useMemo:fc,useReducer:ea,useRef:ic,useState:function(){return ea(ss)},useDebugValue:na,useDeferredValue:function(e){var t=wt();return hc(t,De.memoizedState,e)},useTransition:function(){var e=ea(ss)[0],t=wt().memoizedState;return[e,t]},useMutableSource:Yu,useSyncExternalStore:Xu,useId:pc,unstable_isNewReconciler:!1},Qh={readContext:vt,useCallback:dc,useContext:vt,useEffect:ra,useImperativeHandle:cc,useInsertionEffect:ac,useLayoutEffect:lc,useMemo:fc,useReducer:ta,useRef:ic,useState:function(){return ta(ss)},useDebugValue:na,useDeferredValue:function(e){var t=wt();return De===null?t.memoizedState=e:hc(t,De.memoizedState,e)},useTransition:function(){var e=ta(ss)[0],t=wt().memoizedState;return[e,t]},useMutableSource:Yu,useSyncExternalStore:Xu,useId:pc,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=F({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sa(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:F({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var di={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=tt(),l=ur(e),d=Mt(i,l);d.payload=t,r!=null&&(d.callback=r),t=ir(e,d,l),t!==null&&(Tt(t,e,l,i),ni(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=tt(),l=ur(e),d=Mt(i,l);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=ir(e,d,l),t!==null&&(Tt(t,e,l,i),ni(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tt(),i=ur(e),l=Mt(r,i);l.tag=2,t!=null&&(l.callback=t),t=ir(e,l,i),t!==null&&(Tt(t,e,i,r),ni(t,e,i))}};function vc(e,t,r,i,l,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,h):t.prototype&&t.prototype.isPureReactComponent?!Vn(r,i)||!Vn(l,d):!0}function wc(e,t,r){var i=!1,l=rr,d=t.contextType;return typeof d=="object"&&d!==null?d=vt(d):(l=st(t)?_r:Ge.current,i=t.contextTypes,d=(i=i!=null)?Qr(e,l):rr),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function _c(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function ia(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Vo(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=vt(d):(d=st(t)?_r:Ge.current,l.context=Qr(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(sa(e,t,d,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&di.enqueueReplaceState(l,l.state,null),si(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function sn(e,t){try{var r="",i=t;do r+=he(i),i=i.return;while(i);var l=r}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function oa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function aa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Yh=typeof WeakMap=="function"?WeakMap:Map;function Sc(e,t,r){r=Mt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){vi||(vi=!0,ka=i),aa(e,t)},r}function kc(e,t,r){r=Mt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){aa(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){aa(e,t),typeof i!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function Ec(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Yh;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=dp.bind(null,e,t,r),t.then(e,e))}function xc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cc(e,t,r,i,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mt(-1,1),t.tag=2,ir(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Xh=q.ReactCurrentOwner,it=!1;function et(e,t,r,i){t.child=e===null?Vu(t,null,r,i):en(t,e.child,r,i)}function Pc(e,t,r,i,l){r=r.render;var d=t.ref;return rn(t,l),i=Xo(e,t,r,i,d,l),r=Zo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(Ae&&r&&$o(t),t.flags|=1,et(e,t,i,l),t.child)}function bc(e,t,r,i,l){if(e===null){var d=r.type;return typeof d=="function"&&!ja(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,Tc(e,t,d,i,l)):(e=xi(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var h=d.memoizedProps;if(r=r.compare,r=r!==null?r:Vn,r(h,i)&&e.ref===t.ref)return Wt(e,t,l)}return t.flags|=1,e=dr(d,i),e.ref=t.ref,e.return=t,t.child=e}function Tc(e,t,r,i,l){if(e!==null){var d=e.memoizedProps;if(Vn(d,i)&&e.ref===t.ref)if(it=!1,t.pendingProps=i=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Wt(e,t,l)}return la(e,t,r,i,l)}function jc(e,t,r){var i=t.pendingProps,l=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(an,gt),gt|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(an,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,xe(an,gt),gt|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,xe(an,gt),gt|=i;return et(e,t,l,r),t.child}function Ac(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function la(e,t,r,i,l){var d=st(r)?_r:Ge.current;return d=Qr(t,d),rn(t,l),r=Xo(e,t,r,i,d,l),i=Zo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(Ae&&i&&$o(t),t.flags|=1,et(e,t,r,l),t.child)}function Rc(e,t,r,i,l){if(st(r)){var d=!0;Gs(t)}else d=!1;if(rn(t,l),t.stateNode===null)hi(e,t),wc(t,r,i),ia(t,r,i,l),i=!0;else if(e===null){var h=t.stateNode,y=t.memoizedProps;h.props=y;var _=h.context,b=r.contextType;typeof b=="object"&&b!==null?b=vt(b):(b=st(r)?_r:Ge.current,b=Qr(t,b));var N=r.getDerivedStateFromProps,$=typeof N=="function"||typeof h.getSnapshotBeforeUpdate=="function";$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==i||_!==b)&&_c(t,h,i,b),sr=!1;var O=t.memoizedState;h.state=O,si(t,i,h,l),_=t.memoizedState,y!==i||O!==_||nt.current||sr?(typeof N=="function"&&(sa(t,r,N,i),_=t.memoizedState),(y=sr||vc(t,r,y,i,O,_,b))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=_),h.props=i,h.state=_,h.context=b,i=y):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,Ku(e,t),y=t.memoizedProps,b=t.type===t.elementType?y:Ct(t.type,y),h.props=b,$=t.pendingProps,O=h.context,_=r.contextType,typeof _=="object"&&_!==null?_=vt(_):(_=st(r)?_r:Ge.current,_=Qr(t,_));var z=r.getDerivedStateFromProps;(N=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==$||O!==_)&&_c(t,h,i,_),sr=!1,O=t.memoizedState,h.state=O,si(t,i,h,l);var M=t.memoizedState;y!==$||O!==M||nt.current||sr?(typeof z=="function"&&(sa(t,r,z,i),M=t.memoizedState),(b=sr||vc(t,r,b,i,O,M,_)||!1)?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,M,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,M,_)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=M),h.props=i,h.state=M,h.context=_,i=b):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),i=!1)}return ua(e,t,r,i,d,l)}function ua(e,t,r,i,l,d){Ac(e,t);var h=(t.flags&128)!==0;if(!i&&!h)return l&&Lu(t,r,!1),Wt(e,t,d);i=t.stateNode,Xh.current=t;var y=h&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&h?(t.child=en(t,e.child,null,d),t.child=en(t,null,y,d)):et(e,t,y,d),t.memoizedState=i.state,l&&Lu(t,r,!0),t.child}function Oc(e){var t=e.stateNode;t.pendingContext?Nu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nu(e,t.context,!1),qo(e,t.containerInfo)}function Ic(e,t,r,i,l){return Zr(),zo(l),t.flags|=256,et(e,t,r,i),t.child}var ca={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nc(e,t,r){var i=t.pendingProps,l=Re.current,d=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(l&2)!==0),y?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),xe(Re,l&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=i.children,e=i.fallback,d?(i=t.mode,d=t.child,h={mode:"hidden",children:h},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=Ci(h,i,0,null),e=Ar(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=da(r),t.memoizedState=ca,e):fa(t,h));if(l=e.memoizedState,l!==null&&(y=l.dehydrated,y!==null))return Zh(e,t,h,i,y,l,r);if(d){d=i.fallback,h=t.mode,l=e.child,y=l.sibling;var _={mode:"hidden",children:i.children};return(h&1)===0&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=_,t.deletions=null):(i=dr(l,_),i.subtreeFlags=l.subtreeFlags&14680064),y!==null?d=dr(y,d):(d=Ar(d,h,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,h=e.child.memoizedState,h=h===null?da(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~r,t.memoizedState=ca,i}return d=e.child,e=d.sibling,i=dr(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function fa(e,t){return t=Ci({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fi(e,t,r,i){return i!==null&&zo(i),en(t,e.child,null,r),e=fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zh(e,t,r,i,l,d,h){if(r)return t.flags&256?(t.flags&=-257,i=oa(Error(s(422))),fi(e,t,h,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,l=t.mode,i=Ci({mode:"visible",children:i.children},l,0,null),d=Ar(d,l,h,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&en(t,e.child,null,h),t.child.memoizedState=da(h),t.memoizedState=ca,d);if((t.mode&1)===0)return fi(e,t,h,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var y=i.dgst;return i=y,d=Error(s(419)),i=oa(d,i,void 0),fi(e,t,h,i)}if(y=(h&e.childLanes)!==0,it||y){if(i=He,i!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(i.suspendedLanes|h))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,Ft(e,l),Tt(i,e,l,-1))}return Ta(),i=oa(Error(s(421))),fi(e,t,h,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=fp.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,pt=er(l.nextSibling),ht=t,Ae=!0,xt=null,e!==null&&(mt[yt++]=zt,mt[yt++]=Bt,mt[yt++]=Sr,zt=e.id,Bt=e.overflow,Sr=t),t=fa(t,i.children),t.flags|=4096,t)}function $c(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Wo(e.return,t,r)}function ha(e,t,r,i,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=l)}function Lc(e,t,r){var i=t.pendingProps,l=i.revealOrder,d=i.tail;if(et(e,t,i.children,r),i=Re.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$c(e,r,t);else if(e.tag===19)$c(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(xe(Re,i),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&ii(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),ha(t,!1,l,r,d);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ii(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}ha(t,!0,r,null,d);break;case"together":ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=dr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=dr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ep(e,t,r){switch(t.tag){case 3:Oc(t),Zr();break;case 5:Qu(t);break;case 1:st(t.type)&&Gs(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;xe(ti,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(xe(Re,Re.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Nc(e,t,r):(xe(Re,Re.current&1),e=Wt(e,t,r),e!==null?e.sibling:null);xe(Re,Re.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Lc(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),xe(Re,Re.current),i)break;return null;case 22:case 23:return t.lanes=0,jc(e,t,r)}return Wt(e,t,r)}var Uc,pa,Dc,zc;Uc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},pa=function(){},Dc=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,xr(It.current);var d=null;switch(r){case"input":l=Mi(e,l),i=Mi(e,i),d=[];break;case"select":l=F({},l,{value:void 0}),i=F({},i,{value:void 0}),d=[];break;case"textarea":l=Vi(e,l),i=Vi(e,i),d=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=qs)}Ki(r,i);var h;r=null;for(b in l)if(!i.hasOwnProperty(b)&&l.hasOwnProperty(b)&&l[b]!=null)if(b==="style"){var y=l[b];for(h in y)y.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?d||(d=[]):(d=d||[]).push(b,null));for(b in i){var _=i[b];if(y=l?.[b],i.hasOwnProperty(b)&&_!==y&&(_!=null||y!=null))if(b==="style")if(y){for(h in y)!y.hasOwnProperty(h)||_&&_.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in _)_.hasOwnProperty(h)&&y[h]!==_[h]&&(r||(r={}),r[h]=_[h])}else r||(d||(d=[]),d.push(b,r)),r=_;else b==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,y=y?y.__html:void 0,_!=null&&y!==_&&(d=d||[]).push(b,_)):b==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(b,""+_):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(_!=null&&b==="onScroll"&&be("scroll",e),d||y===_||(d=[])):(d=d||[]).push(b,_))}r&&(d=d||[]).push("style",r);var b=d;(t.updateQueue=b)&&(t.flags|=4)}},zc=function(e,t,r,i){r!==i&&(t.flags|=4)};function os(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function tp(e,t,r){var i=t.pendingProps;switch(Lo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return st(t.type)&&Js(),Ye(t),null;case 3:return i=t.stateNode,nn(),Te(nt),Te(Ge),Go(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xt!==null&&(Ca(xt),xt=null))),pa(e,t),Ye(t),null;case 5:Ko(t);var l=xr(ts.current);if(r=t.type,e!==null&&t.stateNode!=null)Dc(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}if(e=xr(It.current),Zs(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[Ot]=t,i[Qn]=d,e=(t.mode&1)!==0,r){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(l=0;l<Kn.length;l++)be(Kn[l],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":wl(i,d),be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},be("invalid",i);break;case"textarea":kl(i,d),be("invalid",i)}Ki(r,d),l=null;for(var h in d)if(d.hasOwnProperty(h)){var y=d[h];h==="children"?typeof y=="string"?i.textContent!==y&&(d.suppressHydrationWarning!==!0&&Vs(i.textContent,y,e),l=["children",y]):typeof y=="number"&&i.textContent!==""+y&&(d.suppressHydrationWarning!==!0&&Vs(i.textContent,y,e),l=["children",""+y]):a.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&be("scroll",i)}switch(r){case"input":ks(i),Sl(i,d,!0);break;case"textarea":ks(i),xl(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=qs)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cl(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=h.createElement(r,{is:i.is}):(e=h.createElement(r),r==="select"&&(h=e,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):e=h.createElementNS(e,r),e[Ot]=t,e[Qn]=i,Uc(e,t,!1,!1),t.stateNode=e;e:{switch(h=Ji(r,i),r){case"dialog":be("cancel",e),be("close",e),l=i;break;case"iframe":case"object":case"embed":be("load",e),l=i;break;case"video":case"audio":for(l=0;l<Kn.length;l++)be(Kn[l],e);l=i;break;case"source":be("error",e),l=i;break;case"img":case"image":case"link":be("error",e),be("load",e),l=i;break;case"details":be("toggle",e),l=i;break;case"input":wl(e,i),l=Mi(e,i),be("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=F({},i,{value:void 0}),be("invalid",e);break;case"textarea":kl(e,i),l=Vi(e,i),be("invalid",e);break;default:l=i}Ki(r,l),y=l;for(d in y)if(y.hasOwnProperty(d)){var _=y[d];d==="style"?Tl(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Pl(e,_)):d==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&Tn(e,_):typeof _=="number"&&Tn(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?_!=null&&d==="onScroll"&&be("scroll",e):_!=null&&U(e,d,_,h))}switch(r){case"input":ks(e),Sl(e,i,!1);break;case"textarea":ks(e),xl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+_e(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Dr(e,!!i.multiple,d,!1):i.defaultValue!=null&&Dr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=qs)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)zc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=xr(ts.current),xr(It.current),Zs(t)){if(i=t.stateNode,r=t.memoizedProps,i[Ot]=t,(d=i.nodeValue!==r)&&(e=ht,e!==null))switch(e.tag){case 3:Vs(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ot]=t,t.stateNode=i}return Ye(t),null;case 13:if(Te(Re),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&pt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Mu(),Zr(),t.flags|=98560,d=!1;else if(d=Zs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ot]=t}else Zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),d=!1}else xt!==null&&(Ca(xt),xt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?ze===0&&(ze=3):Ta())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return nn(),pa(e,t),e===null&&Jn(t.stateNode.containerInfo),Ye(t),null;case 10:return Mo(t.type._context),Ye(t),null;case 17:return st(t.type)&&Js(),Ye(t),null;case 19:if(Te(Re),d=t.memoizedState,d===null)return Ye(t),null;if(i=(t.flags&128)!==0,h=d.rendering,h===null)if(i)os(d,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=ii(e),h!==null){for(t.flags|=128,os(d,!1),i=h.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xe(Re,Re.current&1|2),t.child}e=e.sibling}d.tail!==null&&$e()>ln&&(t.flags|=128,i=!0,os(d,!1),t.lanes=4194304)}else{if(!i)if(e=ii(h),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),os(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ae)return Ye(t),null}else 2*$e()-d.renderingStartTime>ln&&r!==1073741824&&(t.flags|=128,i=!0,os(d,!1),t.lanes=4194304);d.isBackwards?(h.sibling=t.child,t.child=h):(r=d.last,r!==null?r.sibling=h:t.child=h,d.last=h)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=$e(),t.sibling=null,r=Re.current,xe(Re,i?r&1|2:r&1),t):(Ye(t),null);case 22:case 23:return ba(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(gt&1073741824)!==0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function rp(e,t){switch(Lo(t),t.tag){case 1:return st(t.type)&&Js(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(),Te(nt),Te(Ge),Go(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ko(t),null;case 13:if(Te(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Re),null;case 4:return nn(),null;case 10:return Mo(t.type._context),null;case 22:case 23:return ba(),null;case 24:return null;default:return null}}var pi=!1,Xe=!1,np=typeof WeakSet=="function"?WeakSet:Set,B=null;function on(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Ie(e,t,i)}else r.current=null}function ga(e,t,r){try{r()}catch(i){Ie(e,t,i)}}var Bc=!1;function sp(e,t){if(bo=Ns,e=vu(),wo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var h=0,y=-1,_=-1,b=0,N=0,$=e,O=null;t:for(;;){for(var z;$!==r||l!==0&&$.nodeType!==3||(y=h+l),$!==d||i!==0&&$.nodeType!==3||(_=h+i),$.nodeType===3&&(h+=$.nodeValue.length),(z=$.firstChild)!==null;)O=$,$=z;for(;;){if($===e)break t;if(O===r&&++b===l&&(y=h),O===d&&++N===i&&(_=h),(z=$.nextSibling)!==null)break;$=O,O=$.parentNode}$=z}r=y===-1||_===-1?null:{start:y,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(To={focusedElem:e,selectionRange:r},Ns=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var M=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var H=M.memoizedProps,Le=M.memoizedState,C=t.stateNode,k=C.getSnapshotBeforeUpdate(t.elementType===t.type?H:Ct(t.type,H),Le);C.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(L){Ie(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return M=Bc,Bc=!1,M}function as(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&ga(t,r,d)}l=l.next}while(l!==i)}}function gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function ma(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Fc(e){var t=e.alternate;t!==null&&(e.alternate=null,Fc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[Qn],delete t[Oo],delete t[Bh],delete t[Fh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mc(e){return e.tag===5||e.tag===3||e.tag===4}function Wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ya(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qs));else if(i!==4&&(e=e.child,e!==null))for(ya(e,t,r),e=e.sibling;e!==null;)ya(e,t,r),e=e.sibling}function va(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(va(e,t,r),e=e.sibling;e!==null;)va(e,t,r),e=e.sibling}var Ke=null,Pt=!1;function or(e,t,r){for(r=r.child;r!==null;)Hc(e,t,r),r=r.sibling}function Hc(e,t,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ts,r)}catch{}switch(r.tag){case 5:Xe||on(r,t);case 6:var i=Ke,l=Pt;Ke=null,or(e,t,r),Ke=i,Pt=l,Ke!==null&&(Pt?(e=Ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ke.removeChild(r.stateNode));break;case 18:Ke!==null&&(Pt?(e=Ke,r=r.stateNode,e.nodeType===8?Ro(e.parentNode,r):e.nodeType===1&&Ro(e,r),zn(e)):Ro(Ke,r.stateNode));break;case 4:i=Ke,l=Pt,Ke=r.stateNode.containerInfo,Pt=!0,or(e,t,r),Ke=i,Pt=l;break;case 0:case 11:case 14:case 15:if(!Xe&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var d=l,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&ga(r,t,h),l=l.next}while(l!==i)}or(e,t,r);break;case 1:if(!Xe&&(on(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(y){Ie(r,t,y)}or(e,t,r);break;case 21:or(e,t,r);break;case 22:r.mode&1?(Xe=(i=Xe)||r.memoizedState!==null,or(e,t,r),Xe=i):or(e,t,r);break;default:or(e,t,r)}}function Vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new np),t.forEach(function(i){var l=hp.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function bt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var d=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 5:Ke=y.stateNode,Pt=!1;break e;case 3:Ke=y.stateNode.containerInfo,Pt=!0;break e;case 4:Ke=y.stateNode.containerInfo,Pt=!0;break e}y=y.return}if(Ke===null)throw Error(s(160));Hc(d,h,l),Ke=null,Pt=!1;var _=l.alternate;_!==null&&(_.return=null),l.return=null}catch(b){Ie(l,t,b)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qc(t,e),t=t.sibling}function qc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),$t(e),i&4){try{as(3,e,e.return),gi(3,e)}catch(H){Ie(e,e.return,H)}try{as(5,e,e.return)}catch(H){Ie(e,e.return,H)}}break;case 1:bt(t,e),$t(e),i&512&&r!==null&&on(r,r.return);break;case 5:if(bt(t,e),$t(e),i&512&&r!==null&&on(r,r.return),e.flags&32){var l=e.stateNode;try{Tn(l,"")}catch(H){Ie(e,e.return,H)}}if(i&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,h=r!==null?r.memoizedProps:d,y=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{y==="input"&&d.type==="radio"&&d.name!=null&&_l(l,d),Ji(y,h);var b=Ji(y,d);for(h=0;h<_.length;h+=2){var N=_[h],$=_[h+1];N==="style"?Tl(l,$):N==="dangerouslySetInnerHTML"?Pl(l,$):N==="children"?Tn(l,$):U(l,N,$,b)}switch(y){case"input":Wi(l,d);break;case"textarea":El(l,d);break;case"select":var O=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var z=d.value;z!=null?Dr(l,!!d.multiple,z,!1):O!==!!d.multiple&&(d.defaultValue!=null?Dr(l,!!d.multiple,d.defaultValue,!0):Dr(l,!!d.multiple,d.multiple?[]:"",!1))}l[Qn]=d}catch(H){Ie(e,e.return,H)}}break;case 6:if(bt(t,e),$t(e),i&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(H){Ie(e,e.return,H)}}break;case 3:if(bt(t,e),$t(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{zn(t.containerInfo)}catch(H){Ie(e,e.return,H)}break;case 4:bt(t,e),$t(e);break;case 13:bt(t,e),$t(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(Sa=$e())),i&4&&Vc(e);break;case 22:if(N=r!==null&&r.memoizedState!==null,e.mode&1?(Xe=(b=Xe)||N,bt(t,e),Xe=b):bt(t,e),$t(e),i&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!N&&(e.mode&1)!==0)for(B=e,N=e.child;N!==null;){for($=B=N;B!==null;){switch(O=B,z=O.child,O.tag){case 0:case 11:case 14:case 15:as(4,O,O.return);break;case 1:on(O,O.return);var M=O.stateNode;if(typeof M.componentWillUnmount=="function"){i=O,r=O.return;try{t=i,M.props=t.memoizedProps,M.state=t.memoizedState,M.componentWillUnmount()}catch(H){Ie(i,r,H)}}break;case 5:on(O,O.return);break;case 22:if(O.memoizedState!==null){Gc($);continue}}z!==null?(z.return=O,B=z):Gc($)}N=N.sibling}e:for(N=null,$=e;;){if($.tag===5){if(N===null){N=$;try{l=$.stateNode,b?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(y=$.stateNode,_=$.memoizedProps.style,h=_!=null&&_.hasOwnProperty("display")?_.display:null,y.style.display=bl("display",h))}catch(H){Ie(e,e.return,H)}}}else if($.tag===6){if(N===null)try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(H){Ie(e,e.return,H)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;N===$&&(N=null),$=$.return}N===$&&(N=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:bt(t,e),$t(e),i&4&&Vc(e);break;case 21:break;default:bt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mc(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(Tn(l,""),i.flags&=-33);var d=Wc(e);va(e,d,l);break;case 3:case 4:var h=i.stateNode.containerInfo,y=Wc(e);ya(e,y,h);break;default:throw Error(s(161))}}catch(_){Ie(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ip(e,t,r){B=e,Kc(e)}function Kc(e,t,r){for(var i=(e.mode&1)!==0;B!==null;){var l=B,d=l.child;if(l.tag===22&&i){var h=l.memoizedState!==null||pi;if(!h){var y=l.alternate,_=y!==null&&y.memoizedState!==null||Xe;y=pi;var b=Xe;if(pi=h,(Xe=_)&&!b)for(B=l;B!==null;)h=B,_=h.child,h.tag===22&&h.memoizedState!==null?Qc(l):_!==null?(_.return=h,B=_):Qc(l);for(;d!==null;)B=d,Kc(d),d=d.sibling;B=l,pi=y,Xe=b}Jc(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,B=d):Jc(e)}}function Jc(e){for(;B!==null;){var t=B;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Xe||gi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Xe)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Ct(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Gu(t,d,i);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gu(t,h,r)}break;case 5:var y=t.stateNode;if(r===null&&t.flags&4){r=y;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var b=t.alternate;if(b!==null){var N=b.memoizedState;if(N!==null){var $=N.dehydrated;$!==null&&zn($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Xe||t.flags&512&&ma(t)}catch(O){Ie(t,t.return,O)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function Gc(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function Qc(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gi(4,t)}catch(_){Ie(t,r,_)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(_){Ie(t,l,_)}}var d=t.return;try{ma(t)}catch(_){Ie(t,d,_)}break;case 5:var h=t.return;try{ma(t)}catch(_){Ie(t,h,_)}}}catch(_){Ie(t,t.return,_)}if(t===e){B=null;break}var y=t.sibling;if(y!==null){y.return=t.return,B=y;break}B=t.return}}var op=Math.ceil,mi=q.ReactCurrentDispatcher,wa=q.ReactCurrentOwner,_t=q.ReactCurrentBatchConfig,de=0,He=null,Ue=null,Je=0,gt=0,an=tr(0),ze=0,ls=null,Pr=0,yi=0,_a=0,us=null,ot=null,Sa=0,ln=1/0,Ht=null,vi=!1,ka=null,ar=null,wi=!1,lr=null,_i=0,cs=0,Ea=null,Si=-1,ki=0;function tt(){return(de&6)!==0?$e():Si!==-1?Si:Si=$e()}function ur(e){return(e.mode&1)===0?1:(de&2)!==0&&Je!==0?Je&-Je:Wh.transition!==null?(ki===0&&(ki=Wl()),ki):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Xl(e.type)),e)}function Tt(e,t,r,i){if(50<cs)throw cs=0,Ea=null,Error(s(185));Nn(e,r,i),((de&2)===0||e!==He)&&(e===He&&((de&2)===0&&(yi|=r),ze===4&&cr(e,Je)),at(e,i),r===1&&de===0&&(t.mode&1)===0&&(ln=$e()+500,Qs&&nr()))}function at(e,t){var r=e.callbackNode;Wf(e,t);var i=Rs(e,e===He?Je:0);if(i===0)r!==null&&Bl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Bl(r),t===1)e.tag===0?Mh(Xc.bind(null,e)):Uu(Xc.bind(null,e)),Dh(function(){(de&6)===0&&nr()}),r=null;else{switch(Hl(i)){case 1:r=to;break;case 4:r=Fl;break;case 16:r=bs;break;case 536870912:r=Ml;break;default:r=bs}r=od(r,Yc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yc(e,t){if(Si=-1,ki=0,(de&6)!==0)throw Error(s(327));var r=e.callbackNode;if(un()&&e.callbackNode!==r)return null;var i=Rs(e,e===He?Je:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Ei(e,i);else{t=i;var l=de;de|=2;var d=ed();(He!==e||Je!==t)&&(Ht=null,ln=$e()+500,Tr(e,t));do try{up();break}catch(y){Zc(e,y)}while(!0);Fo(),mi.current=d,de=l,Ue!==null?t=0:(He=null,Je=0,t=ze)}if(t!==0){if(t===2&&(l=ro(e),l!==0&&(i=l,t=xa(e,l))),t===1)throw r=ls,Tr(e,0),cr(e,i),at(e,$e()),r;if(t===6)cr(e,i);else{if(l=e.current.alternate,(i&30)===0&&!ap(l)&&(t=Ei(e,i),t===2&&(d=ro(e),d!==0&&(i=d,t=xa(e,d))),t===1))throw r=ls,Tr(e,0),cr(e,i),at(e,$e()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:jr(e,ot,Ht);break;case 3:if(cr(e,i),(i&130023424)===i&&(t=Sa+500-$e(),10<t)){if(Rs(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){tt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ao(jr.bind(null,e,ot,Ht),t);break}jr(e,ot,Ht);break;case 4:if(cr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var h=31-kt(i);d=1<<h,h=t[h],h>l&&(l=h),i&=~d}if(i=l,i=$e()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*op(i/1960))-i,10<i){e.timeoutHandle=Ao(jr.bind(null,e,ot,Ht),i);break}jr(e,ot,Ht);break;case 5:jr(e,ot,Ht);break;default:throw Error(s(329))}}}return at(e,$e()),e.callbackNode===r?Yc.bind(null,e):null}function xa(e,t){var r=us;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=Ei(e,t),e!==2&&(t=ot,ot=r,t!==null&&Ca(t)),e}function Ca(e){ot===null?ot=e:ot.push.apply(ot,e)}function ap(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],d=l.getSnapshot;l=l.value;try{if(!Et(d(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cr(e,t){for(t&=~_a,t&=~yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kt(t),i=1<<r;e[r]=-1,t&=~i}}function Xc(e){if((de&6)!==0)throw Error(s(327));un();var t=Rs(e,0);if((t&1)===0)return at(e,$e()),null;var r=Ei(e,t);if(e.tag!==0&&r===2){var i=ro(e);i!==0&&(t=i,r=xa(e,i))}if(r===1)throw r=ls,Tr(e,0),cr(e,t),at(e,$e()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,ot,Ht),at(e,$e()),null}function Pa(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(ln=$e()+500,Qs&&nr())}}function br(e){lr!==null&&lr.tag===0&&(de&6)===0&&un();var t=de;de|=1;var r=_t.transition,i=Se;try{if(_t.transition=null,Se=1,e)return e()}finally{Se=i,_t.transition=r,de=t,(de&6)===0&&nr()}}function ba(){gt=an.current,Te(an)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Uh(r)),Ue!==null)for(r=Ue.return;r!==null;){var i=r;switch(Lo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Js();break;case 3:nn(),Te(nt),Te(Ge),Go();break;case 5:Ko(i);break;case 4:nn();break;case 13:Te(Re);break;case 19:Te(Re);break;case 10:Mo(i.type._context);break;case 22:case 23:ba()}r=r.return}if(He=e,Ue=e=dr(e.current,null),Je=gt=t,ze=0,ls=null,_a=yi=Pr=0,ot=us=null,Er!==null){for(t=0;t<Er.length;t++)if(r=Er[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,d=r.pending;if(d!==null){var h=d.next;d.next=l,i.next=h}r.pending=i}Er=null}return e}function Zc(e,t){do{var r=Ue;try{if(Fo(),oi.current=ci,ai){for(var i=Oe.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}ai=!1}if(Cr=0,We=De=Oe=null,rs=!1,ns=0,wa.current=null,r===null||r.return===null){ze=1,ls=t,Ue=null;break}e:{var d=e,h=r.return,y=r,_=t;if(t=Je,y.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var b=_,N=y,$=N.tag;if((N.mode&1)===0&&($===0||$===11||$===15)){var O=N.alternate;O?(N.updateQueue=O.updateQueue,N.memoizedState=O.memoizedState,N.lanes=O.lanes):(N.updateQueue=null,N.memoizedState=null)}var z=xc(h);if(z!==null){z.flags&=-257,Cc(z,h,y,d,t),z.mode&1&&Ec(d,b,t),t=z,_=b;var M=t.updateQueue;if(M===null){var H=new Set;H.add(_),t.updateQueue=H}else M.add(_);break e}else{if((t&1)===0){Ec(d,b,t),Ta();break e}_=Error(s(426))}}else if(Ae&&y.mode&1){var Le=xc(h);if(Le!==null){(Le.flags&65536)===0&&(Le.flags|=256),Cc(Le,h,y,d,t),zo(sn(_,y));break e}}d=_=sn(_,y),ze!==4&&(ze=2),us===null?us=[d]:us.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var C=Sc(d,_,t);Ju(d,C);break e;case 1:y=_;var k=d.type,P=d.stateNode;if((d.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ar===null||!ar.has(P)))){d.flags|=65536,t&=-t,d.lanes|=t;var L=kc(d,y,t);Ju(d,L);break e}}d=d.return}while(d!==null)}rd(r)}catch(J){t=J,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function ed(){var e=mi.current;return mi.current=ci,e===null?ci:e}function Ta(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||(Pr&268435455)===0&&(yi&268435455)===0||cr(He,Je)}function Ei(e,t){var r=de;de|=2;var i=ed();(He!==e||Je!==t)&&(Ht=null,Tr(e,t));do try{lp();break}catch(l){Zc(e,l)}while(!0);if(Fo(),de=r,mi.current=i,Ue!==null)throw Error(s(261));return He=null,Je=0,ze}function lp(){for(;Ue!==null;)td(Ue)}function up(){for(;Ue!==null&&!Nf();)td(Ue)}function td(e){var t=id(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?rd(e):Ue=t,wa.current=null}function rd(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=tp(r,t,gt),r!==null){Ue=r;return}}else{if(r=rp(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ue=null;return}}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);ze===0&&(ze=5)}function jr(e,t,r){var i=Se,l=_t.transition;try{_t.transition=null,Se=1,cp(e,t,r,i)}finally{_t.transition=l,Se=i}return null}function cp(e,t,r,i){do un();while(lr!==null);if((de&6)!==0)throw Error(s(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(Hf(e,d),e===He&&(Ue=He=null,Je=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||wi||(wi=!0,od(bs,function(){return un(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=_t.transition,_t.transition=null;var h=Se;Se=1;var y=de;de|=4,wa.current=null,sp(e,r),qc(r,e),Ah(To),Ns=!!bo,To=bo=null,e.current=r,ip(r),$f(),de=y,Se=h,_t.transition=d}else e.current=r;if(wi&&(wi=!1,lr=e,_i=l),d=e.pendingLanes,d===0&&(ar=null),Df(r.stateNode),at(e,$e()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(vi)throw vi=!1,e=ka,ka=null,e;return(_i&1)!==0&&e.tag!==0&&un(),d=e.pendingLanes,(d&1)!==0?e===Ea?cs++:(cs=0,Ea=e):cs=0,nr(),null}function un(){if(lr!==null){var e=Hl(_i),t=_t.transition,r=Se;try{if(_t.transition=null,Se=16>e?16:e,lr===null)var i=!1;else{if(e=lr,lr=null,_i=0,(de&6)!==0)throw Error(s(331));var l=de;for(de|=4,B=e.current;B!==null;){var d=B,h=d.child;if((B.flags&16)!==0){var y=d.deletions;if(y!==null){for(var _=0;_<y.length;_++){var b=y[_];for(B=b;B!==null;){var N=B;switch(N.tag){case 0:case 11:case 15:as(8,N,d)}var $=N.child;if($!==null)$.return=N,B=$;else for(;B!==null;){N=B;var O=N.sibling,z=N.return;if(Fc(N),N===b){B=null;break}if(O!==null){O.return=z,B=O;break}B=z}}}var M=d.alternate;if(M!==null){var H=M.child;if(H!==null){M.child=null;do{var Le=H.sibling;H.sibling=null,H=Le}while(H!==null)}}B=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,B=h;else e:for(;B!==null;){if(d=B,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:as(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,B=C;break e}B=d.return}}var k=e.current;for(B=k;B!==null;){h=B;var P=h.child;if((h.subtreeFlags&2064)!==0&&P!==null)P.return=h,B=P;else e:for(h=k;B!==null;){if(y=B,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:gi(9,y)}}catch(J){Ie(y,y.return,J)}if(y===h){B=null;break e}var L=y.sibling;if(L!==null){L.return=y.return,B=L;break e}B=y.return}}if(de=l,nr(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ts,e)}catch{}i=!0}return i}finally{Se=r,_t.transition=t}}return!1}function nd(e,t,r){t=sn(r,t),t=Sc(e,t,1),e=ir(e,t,1),t=tt(),e!==null&&(Nn(e,1,t),at(e,t))}function Ie(e,t,r){if(e.tag===3)nd(e,e,r);else for(;t!==null;){if(t.tag===3){nd(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ar===null||!ar.has(i))){e=sn(r,e),e=kc(t,e,1),t=ir(t,e,1),e=tt(),t!==null&&(Nn(t,1,e),at(t,e));break}}t=t.return}}function dp(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&r,He===e&&(Je&r)===r&&(ze===4||ze===3&&(Je&130023424)===Je&&500>$e()-Sa?Tr(e,0):_a|=r),at(e,t)}function sd(e,t){t===0&&((e.mode&1)===0?t=1:(t=As,As<<=1,(As&130023424)===0&&(As=4194304)));var r=tt();e=Ft(e,t),e!==null&&(Nn(e,t,r),at(e,r))}function fp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sd(e,r)}function hp(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),sd(e,r)}var id;id=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)it=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return it=!1,ep(e,t,r);it=(e.flags&131072)!==0}else it=!1,Ae&&(t.flags&1048576)!==0&&Du(t,Xs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;hi(e,t),e=t.pendingProps;var l=Qr(t,Ge.current);rn(t,r),l=Xo(null,t,i,e,l,r);var d=Zo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(i)?(d=!0,Gs(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Vo(t),l.updater=di,t.stateNode=l,l._reactInternals=t,ia(t,i,e,r),t=ua(null,t,i,!0,d,r)):(t.tag=0,Ae&&d&&$o(t),et(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=gp(i),e=Ct(i,e),l){case 0:t=la(null,t,i,e,r);break e;case 1:t=Rc(null,t,i,e,r);break e;case 11:t=Pc(null,t,i,e,r);break e;case 14:t=bc(null,t,i,Ct(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ct(i,l),la(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ct(i,l),Rc(e,t,i,l,r);case 3:e:{if(Oc(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,l=d.element,Ku(e,t),si(t,i,null,r);var h=t.memoizedState;if(i=h.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=sn(Error(s(423)),t),t=Ic(e,t,i,r,l);break e}else if(i!==l){l=sn(Error(s(424)),t),t=Ic(e,t,i,r,l);break e}else for(pt=er(t.stateNode.containerInfo.firstChild),ht=t,Ae=!0,xt=null,r=Vu(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),i===l){t=Wt(e,t,r);break e}et(e,t,i,r)}t=t.child}return t;case 5:return Qu(t),e===null&&Do(t),i=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,h=l.children,jo(i,l)?h=null:d!==null&&jo(i,d)&&(t.flags|=32),Ac(e,t),et(e,t,h,r),t.child;case 6:return e===null&&Do(t),null;case 13:return Nc(e,t,r);case 4:return qo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=en(t,null,i,r):et(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ct(i,l),Pc(e,t,i,l,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,d=t.memoizedProps,h=l.value,xe(ti,i._currentValue),i._currentValue=h,d!==null)if(Et(d.value,h)){if(d.children===l.children&&!nt.current){t=Wt(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){h=d.child;for(var _=y.firstContext;_!==null;){if(_.context===i){if(d.tag===1){_=Mt(-1,r&-r),_.tag=2;var b=d.updateQueue;if(b!==null){b=b.shared;var N=b.pending;N===null?_.next=_:(_.next=N.next,N.next=_),b.pending=_}}d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),Wo(d.return,r,t),y.lanes|=r;break}_=_.next}}else if(d.tag===10)h=d.type===t.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(s(341));h.lanes|=r,y=h.alternate,y!==null&&(y.lanes|=r),Wo(h,r,t),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===t){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}et(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,rn(t,r),l=vt(l),i=i(l),t.flags|=1,et(e,t,i,r),t.child;case 14:return i=t.type,l=Ct(i,t.pendingProps),l=Ct(i.type,l),bc(e,t,i,l,r);case 15:return Tc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ct(i,l),hi(e,t),t.tag=1,st(i)?(e=!0,Gs(t)):e=!1,rn(t,r),wc(t,i,l),ia(t,i,l,r),ua(null,t,i,!0,e,r);case 19:return Lc(e,t,r);case 22:return jc(e,t,r)}throw Error(s(156,t.tag))};function od(e,t){return zl(e,t)}function pp(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,r,i){return new pp(e,t,r,i)}function ja(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gp(e){if(typeof e=="function")return ja(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===Pe)return 14}return 2}function dr(e,t){var r=e.alternate;return r===null?(r=St(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xi(e,t,r,i,l,d){var h=2;if(i=e,typeof e=="function")ja(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ee:return Ar(r.children,l,d,t);case ce:h=8,l|=8;break;case ie:return e=St(12,r,t,l|2),e.elementType=ie,e.lanes=d,e;case Z:return e=St(13,r,t,l),e.elementType=Z,e.lanes=d,e;case fe:return e=St(19,r,t,l),e.elementType=fe,e.lanes=d,e;case ye:return Ci(r,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ne:h=10;break e;case Me:h=9;break e;case me:h=11;break e;case Pe:h=14;break e;case we:h=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=St(h,r,t,l),t.elementType=e,t.type=i,t.lanes=d,t}function Ar(e,t,r,i){return e=St(7,e,i,t),e.lanes=r,e}function Ci(e,t,r,i){return e=St(22,e,i,t),e.elementType=ye,e.lanes=r,e.stateNode={isHidden:!1},e}function Aa(e,t,r){return e=St(6,e,null,t),e.lanes=r,e}function Ra(e,t,r){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mp(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Oa(e,t,r,i,l,d,h,y,_){return e=new mp(e,t,r,y,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=St(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vo(d),e}function yp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function ad(e){if(!e)return rr;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(st(r))return $u(e,r,t)}return t}function ld(e,t,r,i,l,d,h,y,_){return e=Oa(r,i,!0,e,l,d,h,y,_),e.context=ad(null),r=e.current,i=tt(),l=ur(r),d=Mt(i,l),d.callback=t??null,ir(r,d,l),e.current.lanes=l,Nn(e,l,i),at(e,i),e}function Pi(e,t,r,i){var l=t.current,d=tt(),h=ur(l);return r=ad(r),t.context===null?t.context=r:t.pendingContext=r,t=Mt(d,h),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ir(l,t,h),e!==null&&(Tt(e,l,h,d),ni(e,l,h)),h}function bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ia(e,t){ud(e,t),(e=e.alternate)&&ud(e,t)}function vp(){return null}var cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Na(e){this._internalRoot=e}Ti.prototype.render=Na.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Pi(e,t,null,null)},Ti.prototype.unmount=Na.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){Pi(null,e,null,null)}),t[Ut]=null}};function Ti(e){this._internalRoot=e}Ti.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kl();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yt.length&&t!==0&&t<Yt[r].priority;r++);Yt.splice(r,0,e),r===0&&Ql(e)}};function $a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dd(){}function wp(e,t,r,i,l){if(l){if(typeof i=="function"){var d=i;i=function(){var b=bi(h);d.call(b)}}var h=ld(t,i,e,0,null,!1,!1,"",dd);return e._reactRootContainer=h,e[Ut]=h.current,Jn(e.nodeType===8?e.parentNode:e),br(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var y=i;i=function(){var b=bi(_);y.call(b)}}var _=Oa(e,0,!1,null,null,!1,!1,"",dd);return e._reactRootContainer=_,e[Ut]=_.current,Jn(e.nodeType===8?e.parentNode:e),br(function(){Pi(t,_,r,i)}),_}function Ai(e,t,r,i,l){var d=r._reactRootContainer;if(d){var h=d;if(typeof l=="function"){var y=l;l=function(){var _=bi(h);y.call(_)}}Pi(t,h,e,l)}else h=wp(r,t,e,l,i);return bi(h)}Vl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=In(t.pendingLanes);r!==0&&(so(t,r|1),at(t,$e()),(de&6)===0&&(ln=$e()+500,nr()))}break;case 13:br(function(){var i=Ft(e,1);if(i!==null){var l=tt();Tt(i,e,1,l)}}),Ia(e,1)}},io=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var r=tt();Tt(t,e,134217728,r)}Ia(e,134217728)}},ql=function(e){if(e.tag===13){var t=ur(e),r=Ft(e,t);if(r!==null){var i=tt();Tt(r,e,t,i)}Ia(e,t)}},Kl=function(){return Se},Jl=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}},Yi=function(e,t,r){switch(t){case"input":if(Wi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=Ks(i);if(!l)throw Error(s(90));vl(i),Wi(i,l)}}}break;case"textarea":El(e,r);break;case"select":t=r.value,t!=null&&Dr(e,!!r.multiple,t,!1)}},Ol=Pa,Il=br;var _p={usingClientEntryPoint:!1,Events:[Yn,Jr,Ks,Al,Rl,Pa]},ds={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sp={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ul(e),e===null?null:e.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ri.isDisabled&&Ri.supportsFiber)try{Ts=Ri.inject(Sp),Rt=Ri}catch{}}return lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p,lt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$a(t))throw Error(s(200));return yp(e,t,null,r)},lt.createRoot=function(e,t){if(!$a(e))throw Error(s(299));var r=!1,i="",l=cd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Oa(e,1,!1,null,null,r,!1,i,l),e[Ut]=t.current,Jn(e.nodeType===8?e.parentNode:e),new Na(t)},lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ul(t),e=e===null?null:e.stateNode,e},lt.flushSync=function(e){return br(e)},lt.hydrate=function(e,t,r){if(!ji(t))throw Error(s(200));return Ai(null,e,t,!0,r)},lt.hydrateRoot=function(e,t,r){if(!$a(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,l=!1,d="",h=cd;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=ld(t,null,e,1,r??null,l,!1,d,h),e[Ut]=t.current,Jn(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Ti(t)},lt.render=function(e,t,r){if(!ji(t))throw Error(s(200));return Ai(null,e,t,!1,r)},lt.unmountComponentAtNode=function(e){if(!ji(e))throw Error(s(40));return e._reactRootContainer?(br(function(){Ai(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1},lt.unstable_batchedUpdates=Pa,lt.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!ji(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ai(e,t,r,!1,i)},lt.version="18.3.1-next-f1338f8080-20240426",lt}var wd;function Ap(){if(wd)return Da.exports;wd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(n){console.error(n)}}return c(),Da.exports=jp(),Da.exports}var _d;function Rp(){if(_d)return Oi;_d=1;var c=Ap();return Oi.createRoot=c.createRoot,Oi.hydrateRoot=c.hydrateRoot,Oi}var Op=Rp(),W=ul();const Lr=Gd(W),Ip="modulepreload",Np=function(c){return"/"+c},Sd={},ke=function(n,s,o){let a=Promise.resolve();if(s&&s.length>0){let g=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");a=g(s.map(m=>{if(m=Np(m),m in Sd)return;Sd[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":Ip,v||(S.as="script"),S.crossOrigin="",S.href=m,p&&S.setAttribute("nonce",p),document.head.appendChild(S),v)return new Promise((j,T)=>{S.addEventListener("load",j),S.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return n().catch(u)})},$p=c=>{let n;return c?n=c:typeof fetch>"u"?n=(...s)=>ke(async()=>{const{default:o}=await Promise.resolve().then(()=>Pn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class cl extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class Lp extends cl{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class kd extends cl{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Ed extends cl{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ga;(function(c){c.Any="any",c.ApNortheast1="ap-northeast-1",c.ApNortheast2="ap-northeast-2",c.ApSouth1="ap-south-1",c.ApSoutheast1="ap-southeast-1",c.ApSoutheast2="ap-southeast-2",c.CaCentral1="ca-central-1",c.EuCentral1="eu-central-1",c.EuWest1="eu-west-1",c.EuWest2="eu-west-2",c.EuWest3="eu-west-3",c.SaEast1="sa-east-1",c.UsEast1="us-east-1",c.UsWest1="us-west-1",c.UsWest2="us-west-2"})(Ga||(Ga={}));var Up=function(c,n,s,o){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(w){f(w)}}function g(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):a(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};class Dp{constructor(n,{headers:s={},customFetch:o,region:a=Ga.Any}={}){this.url=n,this.headers=s,this.region=a,this.fetch=$p(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return Up(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:f}=s;let p={},{region:g}=s;g||(g=this.region);const m=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let v;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(p["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(p["Content-Type"]="application/json",v=JSON.stringify(f)));const w=yield this.fetch(m.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v}).catch(A=>{throw new Lp(A)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new kd(w);if(!w.ok)throw new Ed(w);let j=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return j==="application/json"?T=yield w.json():j==="application/octet-stream"?T=yield w.blob():j==="text/event-stream"?T=w:j==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Ed||a instanceof kd?a.context:void 0}}})}}var qe={},cn={},dn={},fn={},hn={},pn={},zp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cn=zp();const Bp=Cn.fetch,Qd=Cn.fetch.bind(Cn),Yd=Cn.Headers,Fp=Cn.Request,Mp=Cn.Response,Pn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yd,Request:Fp,Response:Mp,default:Qd,fetch:Bp},Symbol.toStringTag,{value:"Module"})),Wp=Ep(Pn);var Ii={},xd;function Xd(){if(xd)return Ii;xd=1,Object.defineProperty(Ii,"__esModule",{value:!0});class c extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ii.default=c,Ii}var Cd;function Zd(){if(Cd)return pn;Cd=1;var c=pn&&pn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pn,"__esModule",{value:!0});const n=c(Wp),s=c(Xd());class o{constructor(u){var f,p;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(f=u.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=u.signal,this.isMaybeSingle=(p=u.isMaybeSingle)!==null&&p!==void 0?p:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,f){return this.headers=new Headers(this.headers),this.headers.set(u,f),this}then(u,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,w,S,j;let T=null,A=null,R=null,V=m.status,K=m.statusText;if(m.ok){if(this.method!=="HEAD"){const G=await m.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?A=G:A=JSON.parse(G))}const q=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),Q=(S=m.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");q&&Q&&Q.length>1&&(R=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(T={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,R=null,V=406,K="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const q=await m.text();try{T=JSON.parse(q),Array.isArray(T)&&m.status===404&&(A=[],T=null,V=200,K="OK")}catch{m.status===404&&q===""?(V=204,K="No Content"):T={message:q}}if(T&&this.isMaybeSingle&&(!((j=T?.details)===null||j===void 0)&&j.includes("0 rows"))&&(T=null,V=200,K="OK"),T&&this.shouldThrowOnError)throw new s.default(T)}return{error:T,data:A,count:R,status:V,statusText:K}});return this.shouldThrowOnError||(g=g.catch(m=>{var v,w,S;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(w=m?.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(S=m?.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(u,f)}returns(){return this}overrideTypes(){return this}}return pn.default=o,pn}var Pd;function ef(){if(Pd)return hn;Pd=1;var c=hn&&hn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(hn,"__esModule",{value:!0});const n=c(Zd());class s extends n.default{select(a){let u=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:u=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${a}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:u,referencedTable:f=u}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,u,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(m,`${u-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:u=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var v;const w=[a?"analyze":null,u?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return hn.default=s,hn}var bd;function dl(){if(bd)return fn;bd=1;var c=fn&&fn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(fn,"__esModule",{value:!0});const n=c(ef());class s extends n.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const f=Array.from(new Set(u)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const m=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${m}.${u}`),this}match(a){return Object.entries(a).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(a,u,f){return this.url.searchParams.append(a,`not.${u}.${f}`),this}or(a,{foreignTable:u,referencedTable:f=u}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,u,f){return this.url.searchParams.append(a,`${u}.${f}`),this}}return fn.default=s,fn}var Td;function tf(){if(Td)return dn;Td=1;var c=dn&&dn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(dn,"__esModule",{value:!0});const n=c(dl());class s{constructor(a,{headers:u={},schema:f,fetch:p}){this.url=a,this.headers=new Headers(u),this.schema=f,this.fetch=p}select(a,{head:u=!1,count:f}={}){const p=u?"HEAD":"GET";let g=!1;const m=(a??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:u,defaultToNull:f=!0}={}){var p;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(a,{onConflict:u,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const w=a.reduce((S,j)=>S.concat(Object.keys(j)),[]);if(w.length>0){const S=[...new Set(w)].map(j=>`"${j}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:u}={}){var f;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:a}={}){var u;const f="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return dn.default=s,dn}var jd;function Hp(){if(jd)return cn;jd=1;var c=cn&&cn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cn,"__esModule",{value:!0});const n=c(tf()),s=c(dl());class o{constructor(u,{headers:f={},schema:p,fetch:g}={}){this.url=u,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(u){const f=new URL(`${this.url}/${u}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:p=!1,get:g=!1,count:m}={}){var v;let w;const S=new URL(`${this.url}/rpc/${u}`);let j;p||g?(w=p?"HEAD":"GET",Object.entries(f).filter(([A,R])=>R!==void 0).map(([A,R])=>[A,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([A,R])=>{S.searchParams.append(A,R)})):(w="POST",j=f);const T=new Headers(this.headers);return m&&T.set("Prefer",`count=${m}`),new s.default({method:w,url:S,headers:T,schema:this.schemaName,body:j,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return cn.default=o,cn}var Ad;function Vp(){if(Ad)return qe;Ad=1;var c=qe&&qe.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const n=c(Hp());qe.PostgrestClient=n.default;const s=c(tf());qe.PostgrestQueryBuilder=s.default;const o=c(dl());qe.PostgrestFilterBuilder=o.default;const a=c(ef());qe.PostgrestTransformBuilder=a.default;const u=c(Zd());qe.PostgrestBuilder=u.default;const f=c(Xd());return qe.PostgrestError=f.default,qe.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default,PostgrestError:f.default},qe}var qp=Vp();const Kp=Gd(qp),{PostgrestClient:Jp,PostgrestQueryBuilder:Py,PostgrestFilterBuilder:by,PostgrestTransformBuilder:Ty,PostgrestBuilder:jy,PostgrestError:Ay}=Kp;class Gp{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const o=this.getWebSocketConstructor();return new o(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Qp="2.15.4",Yp=`realtime-js/${Qp}`,Xp="1.0.0",Qa=1e4,Zp=1e3,eg=100;var gs;(function(c){c[c.connecting=0]="connecting",c[c.open=1]="open",c[c.closing=2]="closing",c[c.closed=3]="closed"})(gs||(gs={}));var Be;(function(c){c.closed="closed",c.errored="errored",c.joined="joined",c.joining="joining",c.leaving="leaving"})(Be||(Be={}));var At;(function(c){c.close="phx_close",c.error="phx_error",c.join="phx_join",c.reply="phx_reply",c.leave="phx_leave",c.access_token="access_token"})(At||(At={}));var Ya;(function(c){c.websocket="websocket"})(Ya||(Ya={}));var $r;(function(c){c.Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed"})($r||($r={}));class tg{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const a=s.getUint8(1),u=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(n.slice(f,f+a));f=f+a;const g=o.decode(n.slice(f,f+u));f=f+u;const m=JSON.parse(o.decode(n.slice(f,n.byteLength)));return{ref:null,topic:p,event:g,payload:m}}}class rf{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(c){c.abstime="abstime",c.bool="bool",c.date="date",c.daterange="daterange",c.float4="float4",c.float8="float8",c.int2="int2",c.int4="int4",c.int4range="int4range",c.int8="int8",c.int8range="int8range",c.json="json",c.jsonb="jsonb",c.money="money",c.numeric="numeric",c.oid="oid",c.reltime="reltime",c.text="text",c.time="time",c.timestamp="timestamp",c.timestamptz="timestamptz",c.timetz="timetz",c.tsrange="tsrange",c.tstzrange="tstzrange"})(Ce||(Ce={}));const Rd=(c,n,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((u,f)=>(u[f]=rg(f,c,n,a),u),{})},rg=(c,n,s,o)=>{const a=n.find(p=>p.name===c),u=a?.type,f=s[c];return u&&!o.includes(u)?nf(u,f):Xa(f)},nf=(c,n)=>{if(c.charAt(0)==="_"){const s=c.slice(1,c.length);return og(n,s)}switch(c){case Ce.bool:return ng(n);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return sg(n);case Ce.json:case Ce.jsonb:return ig(n);case Ce.timestamp:return ag(n);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Xa(n);default:return Xa(n)}},Xa=c=>c,ng=c=>{switch(c){case"t":return!0;case"f":return!1;default:return c}},sg=c=>{if(typeof c=="string"){const n=parseFloat(c);if(!Number.isNaN(n))return n}return c},ig=c=>{if(typeof c=="string")try{return JSON.parse(c)}catch(n){return console.log(`JSON parse error: ${n}`),c}return c},og=(c,n)=>{if(typeof c!="string")return c;const s=c.length-1,o=c[s];if(c[0]==="{"&&o==="}"){let u;const f=c.slice(1,s);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(p=>nf(n,p))}return c},ag=c=>typeof c=="string"?c.replace(" ","T"):c,sf=c=>{let n=c;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Fa{constructor(n,s,o={},a=Qa){this.channel=n,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Od;(function(c){c.SYNC="sync",c.JOIN="join",c.LEAVE="leave"})(Od||(Od={}));class ms{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ms.syncState(this.state,a,u,f),this.pendingDiffs.forEach(g=>{this.state=ms.syncDiff(this.state,g,u,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ms.syncDiff(this.state,a,u,f),p())}),this.onJoin((a,u,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:f})}),this.onLeave((a,u,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,a){const u=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(u,(m,v)=>{f[m]||(g[m]=v)}),this.map(f,(m,v)=>{const w=u[m];if(w){const S=v.map(R=>R.presence_ref),j=w.map(R=>R.presence_ref),T=v.filter(R=>j.indexOf(R.presence_ref)<0),A=w.filter(R=>S.indexOf(R.presence_ref)<0);T.length>0&&(p[m]=T),A.length>0&&(g[m]=A)}else p[m]=v}),this.syncDiff(u,{joins:p,leaves:g},o,a)}static syncDiff(n,s,o,a){const{joins:u,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(u,(p,g)=>{var m;const v=(m=n[p])!==null&&m!==void 0?m:[];if(n[p]=this.cloneDeep(g),v.length>0){const w=n[p].map(j=>j.presence_ref),S=v.filter(j=>w.indexOf(j.presence_ref)<0);n[p].unshift(...S)}o(p,v,g)}),this.map(f,(p,g)=>{let m=n[p];if(!m)return;const v=g.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),n[p]=m,a(p,m,g),m.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const a=n[o];return"metas"in a?s[o]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[o]=a,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Id;(function(c){c.ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE"})(Id||(Id={}));var ys;(function(c){c.BROADCAST="broadcast",c.PRESENCE="presence",c.POSTGRES_CHANGES="postgres_changes",c.SYSTEM="system"})(ys||(ys={}));var qt;(function(c){c.SUBSCRIBED="SUBSCRIBED",c.TIMED_OUT="TIMED_OUT",c.CLOSED="CLOSED",c.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class fl{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Fa(this,At.join,this.params,this.timeout),this.rejoinTimer=new rf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new ms(this),this.broadcastEndpointURL=sf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,a,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(j=>j.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[ys.PRESENCE]&&this.bindings[ys.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},S={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(j=>n?.(qt.CHANNEL_ERROR,j)),this._onClose(()=>n?.(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:j})=>{var T;if(this.socket.setAuth(),j===void 0){n?.(qt.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,R=(T=A?.length)!==null&&T!==void 0?T:0,V=[];for(let K=0;K<R;K++){const U=A[K],{filter:{event:q,schema:Q,table:G,filter:ee}}=U,ce=j&&j[K];if(ce&&ce.event===q&&ce.schema===Q&&ce.table===G&&ce.filter===ee)V.push(Object.assign(Object.assign({},U),{id:ce.id}));else{this.unsubscribe(),this.state=Be.errored,n?.(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,n&&n(qt.SUBSCRIBED);return}}).receive("error",j=>{this.state=Be.errored,n?.(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n?.(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this.state===Be.joined&&n===ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,o)}async send(n,s={}){var o,a;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,p,g;const m=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Be.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Fa(this,At.leave,{},n),o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(n,s,o){const a=new AbortController,u=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(u),f}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Fa(this,n,s,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>eg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var a,u;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:m,join:v}=At;if(o&&[p,g,m,v].indexOf(f)>=0&&o!==this._joinRef())return;let S=this._onMessage(f,s,o);if(s&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(j=>{var T,A,R;return((T=j.filter)===null||T===void 0?void 0:T.event)==="*"||((R=(A=j.filter)===null||A===void 0?void 0:A.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(j=>j.callback(S,o)):(u=this.bindings[f])===null||u===void 0||u.filter(j=>{var T,A,R,V,K,U;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const q=j.id,Q=(T=j.filter)===null||T===void 0?void 0:T.event;return q&&((A=s.ids)===null||A===void 0?void 0:A.includes(q))&&(Q==="*"||Q?.toLocaleLowerCase()===((R=s.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const q=(K=(V=j?.filter)===null||V===void 0?void 0:V.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return q==="*"||q===((U=s?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:A,table:R,commit_timestamp:V,type:K,errors:U}=T;S=Object.assign(Object.assign({},{schema:A,table:R,commit_timestamp:V,eventType:K,new:{},old:{},errors:U}),this._getPayloadRecords(T))}j.callback(S,o)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const a=n.toLocaleLowerCase(),u={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&fl.isEqual(a.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(At.close,{},n)}_onError(n){this._on(At.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Rd(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Rd(n.columns,n.old_record)),s}}const Ma=()=>{},Ni={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lg=[1e3,2e3,5e3,1e4],ug=1e4,cg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dg{constructor(n,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qa,this.transport=null,this.heartbeatIntervalMs=Ni.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ma,this.ref=0,this.reconnectTimer=null,this.logger=Ma,this.conn=null,this.sendBuffer=[],this.serializer=new tg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let u;return a?u=a:typeof fetch>"u"?u=(...f)=>ke(async()=>{const{default:p}=await Promise.resolve().then(()=>Pn);return{default:p}},void 0).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...f)=>u(...f)},!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Ya.websocket}`,this.httpEndpoint=sf(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xp}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case gs.connecting:return $r.Connecting;case gs.open:return $r.Open;case gs.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const o=`realtime:${n}`,a=this.getChannels().find(u=>u.topic===o);if(a)return a;{const u=new fl(`realtime:${n}`,s,this);return this.channels.push(u),u}}push(n){const{topic:s,event:o,payload:a,ref:u}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${o} (${u})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Zp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ni.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:u,ref:f}=s,p=f?`(${f})`:"",g=u.status||"";this.log("receive",`${g} ${o} ${a} ${p}`.trim(),u),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,u,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(At.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${n}${o}${a}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([cg],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const a={access_token:s,version:Yp};s&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(At.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(s)}catch(a){this.log("error",`error in ${n} callback`,a)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new rf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ni.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,o,a,u,f,p,g,m,v;if(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=n?.timeout)!==null&&o!==void 0?o:Qa,this.heartbeatIntervalMs=(a=n?.heartbeatIntervalMs)!==null&&a!==void 0?a:Ni.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Ma,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(w=>lg[w-1]||ug),this.encode=(m=n?.encode)!==null&&m!==void 0?m:((w,S)=>S(JSON.stringify(w))),this.decode=(v=n?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class hl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Fe(c){return typeof c=="object"&&c!==null&&"__isStorageError"in c}class fg extends hl{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Za extends hl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var hg=function(c,n,s,o){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(w){f(w)}}function g(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):a(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};const of=c=>{let n;return c?n=c:typeof fetch>"u"?n=(...s)=>ke(async()=>{const{default:o}=await Promise.resolve().then(()=>Pn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},pg=()=>hg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ke(()=>Promise.resolve().then(()=>Pn),void 0)).Response:Response}),el=c=>{if(Array.isArray(c))return c.map(s=>el(s));if(typeof c=="function"||c!==Object(c))return c;const n={};return Object.entries(c).forEach(([s,o])=>{const a=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[a]=el(o)}),n},gg=c=>{if(typeof c!="object"||c===null)return!1;const n=Object.getPrototypeOf(c);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in c)&&!(Symbol.iterator in c)};var Ur=function(c,n,s,o){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(w){f(w)}}function g(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):a(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};const Wa=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),mg=(c,n,s)=>Ur(void 0,void 0,void 0,function*(){const o=yield pg();c instanceof o&&!s?.noResolveJson?c.json().then(a=>{const u=c.status||500,f=a?.statusCode||u+"";n(new fg(Wa(a),u,f))}).catch(a=>{n(new Za(Wa(a),a))}):n(new Za(Wa(c),c))}),yg=(c,n,s,o)=>{const a={method:c,headers:n?.headers||{}};return c==="GET"||!o?a:(gg(o)?(a.headers=Object.assign({"Content-Type":"application/json"},n?.headers),a.body=JSON.stringify(o)):a.body=o,n?.duplex&&(a.duplex=n.duplex),Object.assign(Object.assign({},a),s))};function _s(c,n,s,o,a,u){return Ur(this,void 0,void 0,function*(){return new Promise((f,p)=>{c(s,yg(n,o,a,u)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>mg(g,p,o))})})}function Di(c,n,s,o){return Ur(this,void 0,void 0,function*(){return _s(c,"GET",n,s,o)})}function Lt(c,n,s,o,a){return Ur(this,void 0,void 0,function*(){return _s(c,"POST",n,o,a,s)})}function tl(c,n,s,o,a){return Ur(this,void 0,void 0,function*(){return _s(c,"PUT",n,o,a,s)})}function vg(c,n,s,o){return Ur(this,void 0,void 0,function*(){return _s(c,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function af(c,n,s,o,a){return Ur(this,void 0,void 0,function*(){return _s(c,"DELETE",n,o,a,s)})}var rt=function(c,n,s,o){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(w){f(w)}}function g(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):a(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};const wg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _g{constructor(n,s={},o,a){this.url=n,this.headers=s,this.bucketId=o,this.fetch=of(a)}uploadOrUpdate(n,s,o,a){return rt(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},Nd),a);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",f.cacheControl),g&&u.append("metadata",this.encodeMetadata(g))):(u=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a?.headers&&(p=Object.assign(Object.assign({},p),a.headers));const m=this._removeEmptyFolders(s),v=this._getFinalPath(m),w=yield(n=="PUT"?tl:Lt)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(Fe(u))return{data:null,error:u};throw u}})}upload(n,s,o){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,a){return rt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const m=Object.assign({upsert:Nd.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",m.cacheControl)):(g=o,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield tl(this.fetch,p.toString(),g,{headers:v});return{data:{path:u,fullPath:w.Key},error:null}}catch(g){if(Fe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return rt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const u=yield Lt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+u.url),p=f.searchParams.get("token");if(!p)throw new hl("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}update(n,s,o){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return rt(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}copy(n,s,o){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}createSignedUrl(n,s,o){return rt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),u=yield Lt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}createSignedUrls(n,s,o){return rt(this,void 0,void 0,function*(){try{const a=yield Lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}download(n,s){return rt(this,void 0,void 0,function*(){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),f=u?`?${u}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield Di(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Fe(p))return{data:null,error:p};throw p}})}info(n){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Di(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:el(o),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}exists(n){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield vg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Fe(o)&&o instanceof Za){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),a=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&a.push(u);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&a.push(g);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${m}`)}}}remove(n){return rt(this,void 0,void 0,function*(){try{return{data:yield af(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}list(n,s,o){return rt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},wg),s),{prefix:n||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(Fe(a))return{data:null,error:a};throw a}})}listV2(n,s){return rt(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield Lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Sg="2.11.0",kg={"X-Client-Info":`storage-js/${Sg}`};var gn=function(c,n,s,o){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(w){f(w)}}function g(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):a(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};class Eg{constructor(n,s={},o,a){const u=new URL(n);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},kg),s),this.fetch=of(o)}listBuckets(){return gn(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}})}getBucket(n){return gn(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return gn(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return gn(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Fe(o))return{data:null,error:o};throw o}})}emptyBucket(n){return gn(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}deleteBucket(n){return gn(this,void 0,void 0,function*(){try{return{data:yield af(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(Fe(s))return{data:null,error:s};throw s}})}}class xg extends Eg{constructor(n,s={},o,a){super(n,s,o,a)}from(n){return new _g(this.url,this.headers,n,this.fetch)}}const Cg="2.56.1";let ps="";typeof Deno<"u"?ps="deno":typeof document<"u"?ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ps="react-native":ps="node";const Pg={"X-Client-Info":`supabase-js-${ps}/${Cg}`},bg={headers:Pg},Tg={schema:"public"},jg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ag={};var Rg=function(c,n,s,o){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(w){f(w)}}function g(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):a(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};const Og=c=>{let n;return c?n=c:typeof fetch>"u"?n=Qd:n=fetch,(...s)=>n(...s)},Ig=()=>typeof Headers>"u"?Yd:Headers,Ng=(c,n,s)=>{const o=Og(s),a=Ig();return(u,f)=>Rg(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:c;let m=new a(f?.headers);return m.has("apikey")||m.set("apikey",c),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(u,Object.assign(Object.assign({},f),{headers:m}))})};var $g=function(c,n,s,o){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(w){f(w)}}function g(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):a(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};function Lg(c){return c.endsWith("/")?c:c+"/"}function Ug(c,n){var s,o;const{db:a,auth:u,realtime:f,global:p}=c,{db:g,auth:m,realtime:v,global:w}=n,S={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(s=w?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>$g(this,void 0,void 0,function*(){return""})};return c.accessToken?S.accessToken=c.accessToken:delete S.accessToken,S}const lf="2.71.1",_n=30*1e3,rl=3,Ha=rl*_n,Dg="http://localhost:9999",zg="supabase.auth.token",Bg={"X-Client-Info":`gotrue-js/${lf}`},nl="X-Supabase-Api-Version",uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mg=600*1e3;class pl extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function se(c){return typeof c=="object"&&c!==null&&"__isAuthError"in c}class Wg extends pl{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Hg(c){return se(c)&&c.name==="AuthApiError"}class cf extends pl{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class yr extends pl{constructor(n,s,o,a){super(n,o,a),this.name=s,this.status=o}}class pr extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vg(c){return se(c)&&c.name==="AuthSessionMissingError"}class $i extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Li extends yr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ui extends yr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qg(c){return se(c)&&c.name==="AuthImplicitGrantRedirectError"}class $d extends yr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sl extends yr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Va(c){return se(c)&&c.name==="AuthRetryableFetchError"}class Ld extends yr{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class il extends yr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ud=` 	
\r=`.split(""),Kg=(()=>{const c=new Array(128);for(let n=0;n<c.length;n+=1)c[n]=-1;for(let n=0;n<Ud.length;n+=1)c[Ud[n].charCodeAt(0)]=-2;for(let n=0;n<zi.length;n+=1)c[zi[n].charCodeAt(0)]=n;return c})();function Dd(c,n,s){if(c!==null)for(n.queue=n.queue<<8|c,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(zi[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(zi[o]),n.queuedBits-=6}}function df(c,n,s){const o=Kg[c];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(c)}"`)}}function zd(c){const n=[],s=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},u=f=>{Qg(f,o,s)};for(let f=0;f<c.length;f+=1)df(c.charCodeAt(f),a,u);return n.join("")}function Jg(c,n){if(c<=127){n(c);return}else if(c<=2047){n(192|c>>6),n(128|c&63);return}else if(c<=65535){n(224|c>>12),n(128|c>>6&63),n(128|c&63);return}else if(c<=1114111){n(240|c>>18),n(128|c>>12&63),n(128|c>>6&63),n(128|c&63);return}throw new Error(`Unrecognized Unicode codepoint: ${c.toString(16)}`)}function Gg(c,n){for(let s=0;s<c.length;s+=1){let o=c.charCodeAt(s);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(c.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Jg(o,n)}}function Qg(c,n,s){if(n.utf8seq===0){if(c<=127){s(c);return}for(let o=1;o<6;o+=1)if((c>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=c&31;else if(n.utf8seq===3)n.codepoint=c&15;else if(n.utf8seq===4)n.codepoint=c&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(c<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|c&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Yg(c){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};for(let a=0;a<c.length;a+=1)df(c.charCodeAt(a),s,o);return new Uint8Array(n)}function Xg(c){const n=[];return Gg(c,s=>n.push(s)),new Uint8Array(n)}function Zg(c){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};return c.forEach(a=>Dd(a,s,o)),Dd(null,s,o),n.join("")}function em(c){return Math.round(Date.now()/1e3)+c}function tm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const n=Math.random()*16|0;return(c=="x"?n:n&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",Rr={tested:!1,writable:!1},ff=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rr.tested)return Rr.writable;const c=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(c,c),globalThis.localStorage.removeItem(c),Rr.tested=!0,Rr.writable=!0}catch{Rr.tested=!0,Rr.writable=!1}return Rr.writable};function rm(c){const n={},s=new URL(c);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,u)=>{n[u]=a})}catch{}return s.searchParams.forEach((o,a)=>{n[a]=o}),n}const hf=c=>{let n;return c?n=c:typeof fetch>"u"?n=(...s)=>ke(async()=>{const{default:o}=await Promise.resolve().then(()=>Pn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},nm=c=>typeof c=="object"&&c!==null&&"status"in c&&"ok"in c&&"json"in c&&typeof c.json=="function",Sn=async(c,n,s)=>{await c.setItem(n,JSON.stringify(s))},Or=async(c,n)=>{const s=await c.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},hr=async(c,n)=>{await c.removeItem(n)};class Fi{constructor(){this.promise=new Fi.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Fi.promiseConstructor=Promise;function qa(c){const n=c.split(".");if(n.length!==3)throw new il("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!Fg.test(n[o]))throw new il("JWT not in base64url format");return{header:JSON.parse(zd(n[0])),payload:JSON.parse(zd(n[1])),signature:Yg(n[2]),raw:{header:n[0],payload:n[1]}}}async function sm(c){return await new Promise(n=>{setTimeout(()=>n(null),c)})}function im(c,n){return new Promise((o,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await c(u);if(!n(u,null,f)){o(f);return}}catch(f){if(!n(u,f)){a(f);return}}})()})}function om(c){return("0"+c.toString(16)).substr(-2)}function am(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let u=0;u<56;u++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(n),Array.from(n,om).join("")}async function lm(c){const s=new TextEncoder().encode(c),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}async function um(c){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),c;const s=await lm(c);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mn(c,n,s=!1){const o=am();let a=o;s&&(a+="/PASSWORD_RECOVERY"),await Sn(c,`${n}-code-verifier`,a);const u=await um(o);return[u,o===u?"plain":"s256"]}const cm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dm(c){const n=c.headers.get(nl);if(!n||!n.match(cm))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function fm(c){if(!c)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(c<=n)throw new Error("JWT has expired")}function hm(c){switch(c){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(c){if(!pm.test(c))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ka(){const c={};return new Proxy(c,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bd(c){return JSON.parse(JSON.stringify(c))}var gm=function(c,n){var s={};for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&n.indexOf(o)<0&&(s[o]=c[o]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(c);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(c,o[a])&&(s[o[a]]=c[o[a]]);return s};const Ir=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),mm=[502,503,504];async function Fd(c){var n;if(!nm(c))throw new sl(Ir(c),0);if(mm.includes(c.status))throw new sl(Ir(c),c.status);let s;try{s=await c.json()}catch(u){throw new cf(Ir(u),u)}let o;const a=dm(c);if(a&&a.getTime()>=uf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Ld(Ir(s),c.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new pr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new Ld(Ir(s),c.status,s.weak_password.reasons);throw new Wg(Ir(s),c.status||500,o)}const ym=(c,n,s,o)=>{const a={method:c,headers:n?.headers||{}};return c==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function ue(c,n,s,o){var a;const u=Object.assign({},o?.headers);u[nl]||(u[nl]=uf["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const f=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await vm(c,n,s+p,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function vm(c,n,s,o,a,u){const f=ym(n,o,a,u);let p;try{p=await c(s,Object.assign({},f))}catch(g){throw console.error(g),new sl(Ir(g),0)}if(p.ok||await Fd(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await Fd(g)}}function Vt(c){var n;let s=null;km(c)&&(s=Object.assign({},c),c.expires_at||(s.expires_at=em(c.expires_in)));const o=(n=c.user)!==null&&n!==void 0?n:c;return{data:{session:s,user:o},error:null}}function Md(c){const n=Vt(c);return!n.error&&c.weak_password&&typeof c.weak_password=="object"&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.message&&typeof c.weak_password.message=="string"&&c.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=c.weak_password),n}function gr(c){var n;return{data:{user:(n=c.user)!==null&&n!==void 0?n:c},error:null}}function wm(c){return{data:c,error:null}}function _m(c){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:u}=c,f=gm(c,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:u},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Sm(c){return c}function km(c){return c.access_token&&c.refresh_token&&c.expires_in}const Ja=["global","local","others"];var Em=function(c,n){var s={};for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&n.indexOf(o)<0&&(s[o]=c[o]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(c);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(c,o[a])&&(s[o[a]]=c[o[a]]);return s};class xm{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=hf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=Ja[0]){if(Ja.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ja.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(se(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:gr})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=Em(n,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_m,redirectTo:s?.redirectTo})}catch(s){if(se(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:gr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,a,u,f,p,g;try{const m={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(a=n?.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:Sm});if(v.error)throw v.error;const w=await v.json(),S=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(T=>{const A=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(T.split(";")[1].split("=")[1]);m[`${R}Page`]=A}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(se(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){yn(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:gr})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){yn(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:gr})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){yn(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:gr})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){yn(n.userId);try{const{data:s,error:o}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteFactor(n){yn(n.userId),yn(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}}function Wd(c={}){return{getItem:n=>c[n]||null,setItem:(n,s)=>{c[n]=s},removeItem:n=>{delete c[n]}}}function Cm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vn={debug:!!(globalThis&&ff()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Pm extends pf{}async function bm(c,n,s){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",c,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",c)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(c,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",c,a.name);try{return await s()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",c,a.name)}}else{if(n===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",c),new Pm(`Acquiring an exclusive Navigator LockManager lock "${c}" immediately failed`);if(vn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Cm();const Tm={url:Dg,storageKey:zg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hd(c,n,s){return await s()}const wn={};class ws{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ws.nextInstanceID,ws.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Tm),n);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new xm({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=hf(a.fetch),this.lock=a.lock||Hd,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:jt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=bm:this.lock=Hd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ff()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wd(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Wd(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=wn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=wn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){wn[this.storageKey]=Object.assign(Object.assign({},wn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lf}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=rm(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),jt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:u}=await this._getSessionFromURL(s,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),qg(u)){const g=(n=u.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return se(s)?{error:s}:{error:new cf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,a;try{const u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=n?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Vt}),{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(u){if(se(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var s,o,a;try{let u;if("email"in n){const{email:v,password:w,options:S}=n;let j=null,T=null;this.flowType==="pkce"&&([j,T]=await mn(this.storage,this.storageKey)),u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:w,data:(s=S?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:j,code_challenge_method:T},xform:Vt})}else if("phone"in n){const{phone:v,password:w,options:S}=n;u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(o=S?.data)!==null&&o!==void 0?o:{},channel:(a=S?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Vt})}else throw new Li("You must provide either an email or phone number and a password");const{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(u){if(se(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let s;if("email"in n){const{email:u,password:f,options:p}=n;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Md})}else if("phone"in n){const{phone:u,password:f,options:p}=n;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Md})}else throw new Li("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new $i}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,a,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=n.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,a,u,f,p,g,m,v,w,S,j;let T,A;if("message"in n)T=n.message,A=n.signature;else{const{chain:R,wallet:V,statement:K,options:U}=n;let q;if(jt())if(typeof V=="object")q=V;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))q=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=V}const Q=new URL((s=U?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in q&&q.signIn){const G=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),K?{statement:K}:null));let ee;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")ee=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)ee=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)T=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),A=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${Q.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...K?["",K,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(a=(o=U?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((u=U?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((m=U?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((w=(v=U?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...U.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const G=await q.signMessage(new TextEncoder().encode(T),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=G}}try{const{data:R,error:V}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Zg(A)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Vt});if(V)throw V;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new $i}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:V})}catch(R){if(se(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(n){const s=await Or(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/");try{const{data:u,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Vt});if(await hr(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new $i}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:f})}catch(u){if(se(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:s,provider:o,token:a,access_token:u,nonce:f}=n,p=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Vt}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new $i}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,a,u,f;try{if("email"in n){const{email:p,options:g}=n;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await mn(this.storage,this.storageKey));const{error:w}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in n){const{phone:p,options:g}=n,{data:m,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Li("You must provide either an email or phone number.")}catch(p){if(se(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,o;try{let a,u;"options"in n&&(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo,u=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:Vt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(n){var s,o,a;try{let u=null,f=null;return this.flowType==="pkce"&&([u,f]=await mn(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=n?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:wm})}catch(u){if(se(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new pr;const{error:a}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:a,options:u}=n,{error:f}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:o,type:a,options:u}=n,{data:f,error:p}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new Li("You must provide either an email or phone number and a type")}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Ha:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await Or(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Ka()}if(this.storage.isServer&&n.user){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,m,v)=>(!f&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,v))})}return{data:{session:n},error:null}}const{session:a,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:gr}):await this._useSession(async s=>{var o,a,u;const{data:f,error:p}=s;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:gr})})}catch(s){if(se(s))return Vg(s)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:a,error:u}=o;if(u)throw u;if(!a.session)throw new pr;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await mn(this.storage,this.storageKey));const{data:m,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:gr});if(v)throw v;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(se(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new pr;const s=Date.now()/1e3;let o=s,a=!0,u=null;const{payload:f}=qa(n.access_token);if(f.exp&&(o=f.exp,a=o<=s),a){const{session:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;u={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(se(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new pr;const{session:a,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!jt())throw new Ui("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ui(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new $d("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ui("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new $d("No code detected.");const{data:K,error:U}=await this._exchangeCodeForSession(n.code);if(U)throw U;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:K.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:u,refresh_token:f,expires_in:p,expires_at:g,token_type:m}=n;if(!u||!p||!f||!m)throw new Ui("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(p);let S=v+w;g&&(S=parseInt(g));const j=S-v;j*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${w}s`);const T=S-w;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,v);const{data:A,error:R}=await this._getUser(u);if(R)throw R;const V={provider_token:o,provider_refresh_token:a,access_token:u,expires_in:w,expires_at:S,refresh_token:f,token_type:m,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:n.type},error:null}}catch(o){if(se(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Or(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:u}=s;if(u)return{error:u};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Hg(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=tm(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,a;try{const{data:{session:u},error:f}=s;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,s={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await mn(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(se(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:a}=await this._useSession(async u=>{var f,p,g,m,v;const{data:w,error:S}=u;if(S)throw S;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return jt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(se(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,a;const{data:u,error:f}=s;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await im(async a=>(a>0&&await sm(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Vt})),(a,u)=>{const f=200*Math.pow(2,a);return u&&Va(u)&&Date.now()+f-o<_n})}catch(o){if(this._debug(s,"error",o),se(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),jt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Or(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await Sn(this.userStorage,this.storageKey+"-user",f)),a.user=(n=f?.user)!==null&&n!==void 0?n:Ka()}else if(a&&!a.user&&!a.user){const f=await Or(this.storage,this.storageKey+"-user");f&&f?.user?(a.user=f.user,await hr(this.storage,this.storageKey+"-user"),await Sn(this.storage,this.storageKey,a)):a.user=Ka()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const u=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ha;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Ha}s`),u){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Va(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&f?.user?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Fi;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new pr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={session:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(a,"error",u),se(u)){const f={session:null,error:u};return Va(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(n,s,o=!0){const a=`#_notifyAllSubscribers(${n})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){u.push(g)}});if(await Promise.all(f),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Sn(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const u=Bd(a);await Sn(this.storage,this.storageKey,u)}else{const a=Bd(s);await Sn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-n)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_n}ms, refresh threshold is ${rl} ticks`),a<=rl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof pf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,f]=await mn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);a.push(u.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${a.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:a,error:u}=s;return u?{data:null,error:u}:await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,a;const{data:u,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:g,error:m}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(n.factorType==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:u}=s;if(u)return{data:null,error:u};const{data:f,error:p}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(se(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:u}=s;return u?{data:null,error:u}:await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(se(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=n?.factors||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),u=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:a},error:u}=n;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=qa(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(w=>w.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(p=>p.kid===n);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===n),o&&this.jwks_cached_at+Mg>a)return o;const{data:u,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=a,o=u.keys.find(p=>p.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:j,error:T}=await this.getSession();if(T||!j.session)return{data:null,error:T};o=j.session.access_token}const{header:a,payload:u,signature:f,raw:{header:p,payload:g}}=qa(o);s?.allowExpired||fm(u.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:j}=await this.getUser(o);if(j)throw j;return{data:{claims:u,header:a,signature:f},error:null}}const v=hm(a.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,f,Xg(`${p}.${g}`)))throw new il("Invalid JWT signature");return{data:{claims:u,header:a,signature:f},error:null}}catch(o){if(se(o))return{data:null,error:o};throw o}}}ws.nextInstanceID=0;const jm=ws;class Am extends jm{constructor(n){super(n)}}var Rm=function(c,n,s,o){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(v){try{m(o.next(v))}catch(w){f(w)}}function g(v){try{m(o.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):a(v.value).then(p,g)}m((o=o.apply(c,n||[])).next())})};class Om{constructor(n,s,o){var a,u,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=Lg(n),g=new URL(p);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const m=`sb-${g.hostname.split(".")[0]}-auth-token`,v={db:Tg,realtime:Ag,auth:Object.assign(Object.assign({},jg),{storageKey:m}),global:bg},w=Ug(o??{},v);this.storageKey=(a=w.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=w.global.headers)!==null&&u!==void 0?u:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(S,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=w.auth)!==null&&f!==void 0?f:{},this.headers,w.global.fetch),this.fetch=Ng(s,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new Jp(new URL("rest/v1",g).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new xg(this.storageUrl.href,this.headers,this.fetch,o?.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new Dp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return Rm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,storageKey:u,flowType:f,lock:p,debug:g},m,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Am({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:u,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,flowType:f,lock:p,debug:g,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new dg(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Im=(c,n,s)=>new Om(c,n,s);function Nm(){if(typeof window<"u"||typeof process>"u")return!1;const c=process.version;if(c==null)return!1;const n=c.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Nm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vd={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var qd={};const En=(c,n="")=>{try{if(typeof import.meta<"u"&&Vd){const s=Vd[c];if(s!==void 0)return String(s)}}catch{}try{if(typeof window<"u"&&window.__ENV__){const s=window.__ENV__[c];if(s!==void 0)return String(s)}}catch{}try{if(typeof global<"u"&&global.process&&qd){const s=qd[c];if(s!==void 0)return String(s)}}catch{}try{if(typeof window<"u"&&window.ENV){const s=window.ENV[c];if(s!==void 0)return String(s)}}catch{}return n},$m=c=>{try{const n=c.match(/https:\/\/([^.]+)\.supabase\.co/);return n?n[1]:""}catch{return""}},xn=En("REACT_APP_SUPABASE_URL",En("VITE_SUPABASE_URL",En("SUPABASE_URL","https://djsjlwgtyfzhcnbvoubo.supabase.co"))),mr=En("REACT_APP_SUPABASE_ANON_KEY",En("VITE_SUPABASE_ANON_KEY",En("SUPABASE_ANON_KEY","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc2psd2d0eWZ6aGNuYnZvdWJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MzgyMzksImV4cCI6MjA3MDQxNDIzOX0.v2FKOZ20K3jpxAIT8hMRxeb6jnMLVdJtH0-VSTAOHZ8"))),Lm=$m(xn),Ze=Lm||"djsjlwgtyfzhcnbvoubo",ct=mr;typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(console.log(" Supabase Configuration:",{projectId:Ze,url:xn,hasAnonKey:!!mr,keyPrefix:mr?mr.substring(0,10)+"...":"Not set"}),xn==="https://djsjlwgtyfzhcnbvoubo.supabase.co"&&console.warn(" Using fallback Supabase URL. Set REACT_APP_SUPABASE_URL or SUPABASE_URL environment variable."),mr.startsWith("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc2psd2d0eWZ6aGNuYnZvdWJvIiwicm9sZSI6ImFub24i")&&console.warn(" Using fallback Supabase anon key. Set REACT_APP_SUPABASE_ANON_KEY or SUPABASE_ANON_KEY environment variable."));const Um=()=>{const c=[];return!xn||xn==="your-project-url-here"?c.push("Supabase URL is not configured"):xn.includes(".supabase.co")||c.push("Supabase URL format appears invalid"),!mr||mr==="your-anon-key-here"?c.push("Supabase anon key is not configured"):mr.startsWith("eyJ")||c.push("Supabase anon key format appears invalid (should be a JWT)"),{isValid:c.length===0,errors:c}},Nr=Im(`https://${Ze}.supabase.co`,ct,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1}});class Dm{constructor(){this.isEnabled=!0,this.sessionId=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async trackAuthError(n,s,o,a,u){if(this.isEnabled)try{await this.trackError({error_type:`auth_${n}`,error_message:s,screen:o,user_id:a,additional_context:{...u,category:"authentication"}})}catch(f){console.warn("Failed to track auth error:",f)}}async trackNetworkError(n,s,o,a,u){if(!(!this.isEnabled||["Server is currently unavailable","Failed to fetch","Network request failed","Request timeout","signal is aborted"].some(g=>o.toLowerCase().includes(g.toLowerCase()))))try{await this.trackError({error_type:"network_error",error_code:s.toString(),error_message:o,screen:a,user_id:u,additional_context:{endpoint:n,status_code:s,category:"network"}})}catch{}}async trackValidationError(n,s,o,a){if(this.isEnabled)try{await this.trackError({error_type:"validation_error",error_message:s,screen:o,additional_context:{field:n,form_data:a?Object.keys(a):void 0,category:"validation"}})}catch(u){console.warn("Failed to track validation error:",u)}}async trackUIError(n,s,o,a,u){if(this.isEnabled)try{await this.trackError({error_type:"ui_error",error_message:s,screen:o,user_id:a,additional_context:{component:n,...u,category:"ui_ux"}})}catch(f){console.warn("Failed to track UI error:",f)}}async trackServerError(n,s,o,a,u){if(this.isEnabled)try{await this.trackError({error_type:"server_error",error_code:a?.toString(),error_message:s,screen:o,user_id:u,additional_context:{endpoint:n,status_code:a,category:"server"}})}catch(f){console.warn("Failed to track server error:",f)}}async trackError(n){if(!this.isEnabled)return;const s={id:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),user_agent:navigator.userAgent,session_id:this.sessionId,...n};try{(await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/analytics/error`,{method:"POST",headers:{Authorization:`Bearer ${ct}`,"Content-Type":"application/json"},body:JSON.stringify(s)})).ok||this.storeErrorLocally(s)}catch{this.storeErrorLocally(s)}}storeErrorLocally(n){try{const s=JSON.parse(localStorage.getItem("magdee_error_analytics")||"[]");s.push(n),s.length>50&&s.splice(0,s.length-50),localStorage.setItem("magdee_error_analytics",JSON.stringify(s))}catch(s){console.warn("Failed to store error locally:",s)}}async getErrorSummary(n=7){try{const s=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/analytics/error-summary?days=${n}`,{headers:{Authorization:`Bearer ${ct}`,"Content-Type":"application/json"}});if(s.ok)return await s.json()}catch(s){console.warn("Failed to fetch error summary:",s)}return this.getLocalErrorSummary(n)}getLocalErrorSummary(n=7){try{const s=JSON.parse(localStorage.getItem("magdee_error_analytics")||"[]"),o=new Date;o.setDate(o.getDate()-n);const a=s.filter(f=>new Date(f.timestamp)>o),u={};return a.forEach(f=>{u[f.error_type]||(u[f.error_type]={error_type:f.error_type,count:0,latest_occurrence:f.timestamp,common_messages:[]});const p=u[f.error_type];p.count++,new Date(f.timestamp)>new Date(p.latest_occurrence)&&(p.latest_occurrence=f.timestamp),!p.common_messages.includes(f.error_message)&&p.common_messages.length<5&&p.common_messages.push(f.error_message)}),Object.values(u).sort((f,p)=>p.count-f.count)}catch(s){return console.warn("Failed to get local error summary:",s),[]}}async syncLocalErrors(){try{const n=JSON.parse(localStorage.getItem("magdee_error_analytics")||"[]");if(n.length===0)return;(await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/analytics/error-batch`,{method:"POST",headers:{Authorization:`Bearer ${ct}`,"Content-Type":"application/json"},body:JSON.stringify({errors:n})})).ok&&localStorage.removeItem("magdee_error_analytics")}catch{}}async getUserErrorPatterns(n){try{const s=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/analytics/user-errors/${n}`,{headers:{Authorization:`Bearer ${ct}`,"Content-Type":"application/json"}});if(s.ok)return await s.json()}catch(s){console.warn("Failed to fetch user error patterns:",s)}return[]}setEnabled(n){this.isEnabled=n}isAnalyticsEnabled(){return this.isEnabled}}const ve=new Dm;function Ry(){return{trackAuthError:ve.trackAuthError.bind(ve),trackNetworkError:ve.trackNetworkError.bind(ve),trackValidationError:ve.trackValidationError.bind(ve),trackUIError:ve.trackUIError.bind(ve),trackServerError:ve.trackServerError.bind(ve),getErrorSummary:ve.getErrorSummary.bind(ve),getUserErrorPatterns:ve.getUserErrorPatterns.bind(ve),syncLocalErrors:ve.syncLocalErrors.bind(ve),setEnabled:ve.setEnabled.bind(ve),isAnalyticsEnabled:ve.isAnalyticsEnabled.bind(ve)}}const gf=W.createContext(void 0);function zm({children:c}){const[n,s]=W.useState(null),[o,a]=W.useState(null),[u,f]=W.useState(!0),[p,g]=W.useState(!0),[m,v]=W.useState(new Map),[w,S]=W.useState(!1),[j,T]=W.useState(new Map);W.useEffect(()=>{let Q=!0,G;(async()=>{if(w){console.log(" Session initialization already in progress - skipping");return}S(!0);try{console.log(" Starting initial session check..."),G=setTimeout(()=>{Q&&p&&(console.log(" Session check timeout - proceeding without auth"),f(!1),g(!1),S(!1))},8e3);let ie,ne=0;const Me=2;let me=new AbortController,Z=setTimeout(()=>{console.warn(" Session request timeout after 6 seconds - aborting"),me.abort()},6e3);for(;ne<Me;)try{ne++,console.log(` Session attempt ${ne}/${Me}`),ie=await Promise.race([Nr.auth.getSession(),new Promise((we,ye)=>{me.signal.addEventListener("abort",()=>{ye(new Error("Session request timeout"))})})]),clearTimeout(Z);break}catch(we){if(clearTimeout(Z),we.message.includes("timeout")||we.name==="AbortError")if(ne>=Me){console.log(" Session request timeout after retries - proceeding without session (this is normal for slower connections)"),Q&&(clearTimeout(G),f(!1),g(!1),S(!1));return}else{console.log(` Session attempt ${ne} timed out, retrying in 1 second...`),await new Promise(ye=>setTimeout(ye,1e3)),me=new AbortController,Z=setTimeout(()=>{console.warn(` Session request timeout after 6 seconds - aborting attempt ${ne+1}`),me.abort()},6e3);continue}throw we}if(!Q)return;clearTimeout(G);const{data:{session:fe},error:Pe}=ie;if(Pe){console.error(" Error getting session:",Pe),!Pe.message.includes("timeout")&&!Pe.message.includes("network")&&ve.trackAuthError("session_load",Pe.message,"app_init").catch(we=>{console.warn("Failed to track session error:",we)}),f(!1),g(!1),S(!1);return}if(console.log(" Session check complete:",fe?"Authenticated":"Not authenticated"),a(fe),fe?.user){const we={id:fe.user.id,email:fe.user.email||"",name:fe.user.user_metadata?.name||fe.user.user_metadata?.full_name||"User",username:fe.user.user_metadata?.username||fe.user.email?.split("@")[0]||void 0,avatar_url:fe.user.user_metadata?.avatar_url,created_at:fe.user.created_at||new Date().toISOString()};s(we),console.log(" Set immediate fallback user:",we.name),console.log(" Skipping enhanced profile loading during init - will be handled by useUserProfile hook")}f(!1),g(!1)}catch(ie){console.error(" Error in getInitialSession:",ie),ie instanceof Error&&(ie.name==="AbortError"||ie.message.includes("timeout"))||ve.trackAuthError("session_load",ie instanceof Error?ie.message:"Unknown error","app_init").catch(ne=>{console.warn("Failed to track session init error:",ne)}),Q&&(clearTimeout(G),f(!1),g(!1),S(!1))}finally{S(!1)}})();const{data:{subscription:ce}}=Nr.auth.onAuthStateChange(async(ie,ne)=>{if(console.log(" Auth state changed:",ie,ne?.user?.email),console.log(" Session details:",{accessToken:ne?.access_token?"present":"missing",refreshToken:ne?.refresh_token?"present":"missing",expiresAt:ne?.expires_at,userId:ne?.user?.id}),!!Q){if(a(ne),ne?.user){console.log(" User authenticated, setting immediate user data...");const Me={id:ne.user.id,email:ne.user.email||"",name:ne.user.user_metadata?.name||ne.user.user_metadata?.full_name||"User",username:ne.user.user_metadata?.username||ne.user.email?.split("@")[0]||void 0,avatar_url:ne.user.user_metadata?.avatar_url,created_at:ne.user.created_at||new Date().toISOString()};s(Me),console.log(" Set immediate user for UI:",Me.name),console.log(" Skipping enhanced profile loading - will be handled by useUserProfile hook")}else console.log(" No user session, clearing user state"),s(null);p||(console.log(" Setting loading to false (not initial load)"),f(!1))}});return()=>{Q=!1,clearTimeout(G),ce.unsubscribe(),v(new Map),T(new Map)}},[p]);const q={user:n,session:o,signUp:async(Q,G,ee,ce)=>{try{f(!0),console.log(" Starting signup process for:",Q);const ie=`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/auth/signup`;console.log(" Calling signup endpoint:",ie);const ne=new AbortController,Me=setTimeout(()=>ne.abort(),15e3),me=await fetch(ie,{method:"POST",headers:{Authorization:`Bearer ${ct}`,"Content-Type":"application/json"},body:JSON.stringify({email:Q,password:G,name:ee,username:ce}),signal:ne.signal});clearTimeout(Me),console.log(" Signup response status:",me.status);let Z;try{Z=await me.json(),console.log(" Signup response data:",Z)}catch(we){console.error(" Failed to parse signup response JSON:",we);const ye=await me.text().catch(()=>"Unable to read response");return console.error(" Raw response text:",ye),{success:!1,error:"Server returned invalid response"}}if(!me.ok)return console.log(" Full signup error response:",{status:me.status,statusText:me.statusText,result:Z}),(me.status===400||me.status===422)&&Z.error&&(Z.error.includes("already been registered")||Z.error.includes("already exists")||Z.error.includes("email address has already been registered")||Z.error.includes("a user with this email address has already been registered")||Z.error.toLowerCase().includes("already registered")||Z.error.toLowerCase().includes("email")&&Z.error.toLowerCase().includes("exist"))?(console.log(" User attempted signup with existing email:",Q),{success:!1,error:Z.error||"A user with this email address has already been registered"}):(console.error(" Signup failed with status:",me.status,"Error:",Z.error),await ve.trackAuthError("signup",Z.error||`HTTP ${me.status}`,"signup",void 0,{email_provided:!!Q,name_provided:!!ee,username_provided:!!ce,status_code:me.status}),Z.error&&Z.error.includes("username")&&Z.error.includes("taken")?{success:!1,error:Z.error}:{success:!1,error:Z.error||`Server error (${me.status})`});console.log(" User created successfully, now signing in...");const{data:{session:fe},error:Pe}=await Nr.auth.signInWithPassword({email:Q,password:G});return Pe?(console.error(" Sign in error after signup:",Pe),await ve.trackAuthError("signin",Pe.message,"post_signup",void 0,{context:"automatic_signin_after_signup"}),{success:!1,error:Pe.message}):(console.log(" Signup and signin completed successfully"),{success:!0})}catch(ie){console.error(" Error in signUp:",ie);let ne="An unexpected error occurred";return ie instanceof Error&&ie.name==="AbortError"?ne="Request timeout - please try again":ie instanceof TypeError&&ie.message.includes("fetch")?ne="Network error - please check your connection":ie instanceof Error&&(ne=ie.message),await ve.trackAuthError("signup",ne,"signup",void 0,{error_type:ie instanceof Error?ie.constructor.name:"UnknownError",is_network_error:ie instanceof TypeError&&ie.message.includes("fetch"),is_timeout:ie instanceof Error&&ie.name==="AbortError"}),{success:!1,error:ne}}finally{f(!1)}},signIn:async(Q,G)=>{try{f(!0),console.log(" Starting signin process for:",Q),console.log(" Supabase client configured:",!!Nr),console.log(" Project ID:",Ze),console.log(" Public anon key length:",ct?.length);const ee=Q.includes("@");console.log(" Input type detected:",ee?"email":"username");let ce=Q;if(!ee)try{console.log(" Looking up email for username:",Q);const fe=new AbortController,Pe=setTimeout(()=>fe.abort(),8e3),we=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/auth/lookup-email`,{method:"POST",headers:{Authorization:`Bearer ${ct}`,"Content-Type":"application/json"},body:JSON.stringify({username:Q}),signal:fe.signal});if(clearTimeout(Pe),we.ok)ce=(await we.json()).email,console.log(" Email found for username");else{const ye=await we.json().catch(()=>({error:"Unknown error"}));return console.error(" Username lookup failed:",ye),{success:!1,error:"Invalid username or password"}}}catch(fe){return console.error(" Error looking up email for username:",fe),{success:!1,error:"Invalid username or password"}}console.log(" Attempting Supabase auth signin with email:",ce);const ie=new AbortController,ne=setTimeout(()=>ie.abort(),12e3),Me=Nr.auth.signInWithPassword({email:ce,password:G});console.log(" Supabase signInWithPassword called, waiting for response...");const{data:{session:me},error:Z}=await Promise.race([Me,new Promise((fe,Pe)=>{ie.signal.addEventListener("abort",()=>{Pe(new Error("Request timeout"))})})]);return clearTimeout(ne),console.log(" Supabase auth response received:"),console.log("  - Session:",!!me),console.log("  - User:",me?.user?.email),console.log("  - Error:",Z?.message),Z?(console.error(" Sign in error:",Z),console.error(" Full error object:",JSON.stringify(Z,null,2)),await ve.trackAuthError("signin",Z.message,"signin",void 0,{error_code:Z.status,error_name:Z.name,input_type:ee?"email":"username",full_error:JSON.stringify(Z)}),Z.message.includes("Invalid login")||Z.message.includes("Invalid credentials")?{success:!1,error:ee?"Invalid email or password":"Invalid username or password"}:Z.message.includes("Email not confirmed")?{success:!1,error:"Please verify your email address before signing in"}:{success:!1,error:Z.message}):(console.log(" Sign in successful"),console.log(" Waiting for auth state change..."),await new Promise(fe=>setTimeout(fe,100)),{success:!0})}catch(ee){console.error(" Error in signIn:",ee);let ce="An unexpected error occurred";return ee instanceof Error&&ee.message.includes("timeout")?ce="Request timeout - please try again":ee instanceof Error&&(ce=ee.message),await ve.trackAuthError("signin",ce,"signin",void 0,{error_type:ee instanceof Error?ee.constructor.name:"UnknownError",is_timeout:ee instanceof Error&&ee.message.includes("timeout")}),{success:!1,error:ce}}finally{f(!1)}},signOut:async()=>{try{f(!0),console.log(" Signing out..."),await Nr.auth.signOut(),s(null),a(null),console.log(" Sign out successful")}catch(Q){console.error(" Error signing out:",Q),await ve.trackAuthError("signout",Q instanceof Error?Q.message:"Unknown signout error","signout",n?.id)}finally{f(!1)}},updateUserProfile:Q=>{s(G=>G?{...G,...Q}:null)},updateUser:Q=>{console.log(" Updating user in AuthContext:",Q.email),s(Q)},loading:u};return E.jsx(gf.Provider,{value:q,children:c})}function Ss(){const c=W.useContext(gf);if(c===void 0)throw new Error("useAuth must be used within an AuthProvider");return c}const vs=class vs{static async getAccessToken(){try{const{data:{session:n}}=await Nr.auth.getSession();return n?.access_token||null}catch(n){return console.error("Error getting access token:",n),null}}static async checkServerHealth(){const n=Date.now();if(n-this.lastHealthCheck<this.healthCheckInterval)return this.serverHealthy;try{console.log(" Checking server health...");const s=new AbortController,o=setTimeout(()=>s.abort(),1500),a=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/health`,{method:"GET",signal:s.signal,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});return clearTimeout(o),this.serverHealthy=a.ok,this.lastHealthCheck=n,this.serverHealthy?console.log(" Server health check: healthy"):console.log(" Server health check: unhealthy (bad response)"),this.serverHealthy}catch(s){return s instanceof Error&&!s.message.includes("fetch")&&!s.message.includes("signal is aborted")&&!s.message.includes("Failed to fetch")?console.warn(" Server health check failed:",s.message):console.log(" Server health check failed: network unavailable"),this.serverHealthy=!1,this.lastHealthCheck=n,!1}}static async apiCall(n,s={},o=2e3){let a=null,u=null;try{if(!await this.checkServerHealth())return{success:!1,error:"Server is currently unavailable"};const p=await this.getAccessToken();if(!p)return{success:!1,error:"No authentication token available"};u=new AbortController;const g=new Promise((S,j)=>{a=setTimeout(()=>{u&&u.abort(),j(new Error(`Request timeout after ${o}ms`))},o)});console.log(` Making API call to ${n}`);const m=fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9${n}`,{...s,headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json","Cache-Control":"no-cache",...s.headers},signal:u.signal}),v=await Promise.race([m,g]);if(a&&clearTimeout(a),!v.ok){const S=await v.json().catch(()=>({error:"Unknown error"}));return this.serverHealthy=!1,{success:!1,error:S.error||`HTTP ${v.status}`}}const w=await v.json();return{success:!0,data:w.data||w}}catch(f){return a&&clearTimeout(a),f instanceof Error?f.name==="AbortError"||f.message.includes("timeout")?(this.serverHealthy=!1,{success:!1,error:"Server is currently unavailable"}):f.message.includes("fetch")||f.message.includes("Failed to fetch")?(this.serverHealthy=!1,{success:!1,error:"Server is currently unavailable"}):{success:!1,error:f.message}:{success:!1,error:"Server is currently unavailable"}}}static async createUser(n){return{success:!1,error:"User creation should be done through signup process"}}static async getUser(n){return this.apiCall(`/user/${n}`,{},2e3)}static async updateUser(n,s){return this.apiCall(`/user/${n}`,{method:"PUT",body:JSON.stringify(s)},3e3)}static async updateUserProfile(n,s){return this.apiCall(`/profile/${n}`,{method:"PUT",body:JSON.stringify(s)},3e3)}static async updateProfilePicture(n,s){return this.apiCall(`/profile/${n}/picture`,{method:"PUT",body:JSON.stringify({imageUrl:s})},3e3)}static async getRecentBooks(n,s){const o=new URLSearchParams;s?.limit&&o.append("limit",s.limit.toString()),s?.offset&&o.append("offset",s.offset.toString()),s?.status&&o.append("status",s.status);const a=o.toString(),u=`/recent-books/${n}${a?`?${a}`:""}`;return this.apiCall(u,{method:"GET"},3e3)}static async getBookById(n){return this.apiCall(`/book/${n}`,{method:"GET"},2e3)}static async updateBookProgress(n,s,o,a){return this.apiCall(`/book/${n}/progress`,{method:"PUT",body:JSON.stringify({progress:s,currentTime:o,duration:a})},3e3)}static async seedSampleData(n,s=!1){return this.apiCall("/seed-data",{method:"POST",body:JSON.stringify({userId:n,force:s})},5e3)}static async uploadProfileImage(n,s){try{if(!await this.checkServerHealth())return{success:!1,error:"Server is currently unavailable"};const a=await this.getAccessToken();if(!a)return{success:!1,error:"No authentication token available"};const u=new FormData;u.append("image",s);const f=new AbortController,p=setTimeout(()=>f.abort(),1e4),g=await fetch(`https://${Ze}.supabase.co/functions/v1/make-server-989ff5a9/profile/${n}/upload`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:u,signal:f.signal});return clearTimeout(p),g.ok?{success:!0,data:(await g.json()).data}:{success:!1,error:(await g.json().catch(()=>({error:"Unknown error"}))).error||`HTTP ${g.status}`}}catch(o){return console.error("Profile image upload error:",o),o instanceof Error&&(o.name==="AbortError"||o.message.includes("timeout"))?{success:!1,error:"Upload timeout - please try again"}:{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}static async getUserProfile(n){if(!await this.checkServerHealth())return{success:!1,error:"Server is currently unavailable"};try{return await this.apiCall(`/profile/${n}`,{},1500)}catch{return{success:!1,error:"Server is currently unavailable"}}}static async createBook(n){return this.apiCall(`/books/${n.user_id}`,{method:"POST",body:JSON.stringify(n)},5e3)}static async getUserBooks(n,s,o){return this.apiCall(`/books/${n}`,{},3e3)}static async updateBook(n,s){return{success:!1,error:"Direct book updates not implemented. Use updateBookProgress instead."}}static async deleteBook(n,s){return this.apiCall(`/books/${n}/${s}`,{method:"DELETE"},3e3)}static async initializeBookProgress(n,s){return{success:!0,data:null}}static async updateBookProgress(n,s,o){return this.apiCall(`/books/${n}/${s}/progress`,{method:"PUT",body:JSON.stringify(o)},3e3)}static async getBookProgress(n,s){const o=await this.apiCall(`/books/${n}/${s}/progress`,{},2e3);return o.success?o.data:null}static async initializeAudioSettings(n){return{success:!1,error:"Audio settings initialization should be done through user setup"}}static async updateAudioSettings(n,s){return{success:!1,error:"Audio settings updates should be done through API endpoints"}}static async initializeUserAnalytics(n){return{success:!1,error:"Analytics initialization should be done through server setup"}}static async updateUserAnalytics(n,s){return this.apiCall(`/analytics/${n}`,{method:"PUT",body:JSON.stringify(s)},3e3)}static async getUserAnalytics(n){return this.apiCall(`/analytics/${n}`,{},2e3)}static async getAudioSettings(n){return{success:!1,error:"Audio settings retrieval should be done through API endpoints"}}static async updateUserNotifications(n,s){return{success:!1,error:"Bulk notification updates not implemented. Use individual operations instead."}}static async getReadingSessions(n,s){const o=s?`?limit=${s}`:"";return this.apiCall(`/reading-session/${n}${o}`,{},3e3)}static async updateReadingSessions(n,s){return{success:!1,error:"Bulk session updates not implemented. Use individual operations instead."}}static async getUserStats(n){try{const s=await this.getUserBooks(n),o=await this.getUserAnalytics(n);if(!s.success||!o.success)return{success:!1,error:"Failed to get user data"};const a=s.data||[],u=o.data,f=a.filter(S=>S.progress>=100),p=a.filter(S=>S.progress>0&&S.progress<100),g=a.length>0?a.reduce((S,j)=>S+j.rating,0)/a.length:0,m=a.reduce((S,j)=>(S[j.genre]=(S[j.genre]||0)+1,S),{}),v=Object.entries(m).sort(([,S],[,j])=>j-S)[0]?.[0]||"";return{success:!0,data:{totalBooks:a.length,completedBooks:f.length,inProgressBooks:p.length,totalListeningTime:u?.total_listening_time||0,averageRating:Math.round(g*10)/10,favoriteGenre:v}}}catch(s){return console.error("Error getting user stats:",s),{success:!1,error:"Failed to get user stats"}}}static async endReadingSession(n,s,o){return this.apiCall(`/reading-session/${n}/${s}/end`,{method:"PUT",body:JSON.stringify(o)},3e3)}static async getUserProgress(n){return this.apiCall(`/progress/${n}`,{},3e3)}static async startReadingSession(n,s,o){return this.apiCall(`/reading-session/${n}/start`,{method:"POST",body:JSON.stringify({bookId:s,startPosition:o})},3e3)}static async getUserNotifications(n,s){const o=s?"?unread=true":"";return this.apiCall(`/notifications/${n}${o}`,{},3e3).then(a=>({...a,data:a.data?.notifications||[]}))}static async createNotification(n,s){return this.apiCall(`/notifications/${n}`,{method:"POST",body:JSON.stringify(s)},3e3)}static async markNotificationAsRead(n,s){return this.apiCall(`/notifications/${n}/${s}/read`,{method:"PUT"},2e3)}static async getUserAchievements(n){return this.apiCall(`/achievements/${n}`,{},3e3)}static async createAchievement(n,s){return this.apiCall(`/achievements/${n}`,{method:"POST",body:JSON.stringify(s)},3e3)}static getServerHealthStatus(){return{healthy:this.serverHealthy,lastCheck:this.lastHealthCheck}}static resetServerHealth(){this.serverHealthy=!0,this.lastHealthCheck=0}static async forceHealthCheck(){return this.lastHealthCheck=0,await this.checkServerHealth()}static setServerHealth(n){this.serverHealthy=n,this.lastHealthCheck=Date.now()}static async getUserPreferences(n){return console.log(" Getting user preferences for:",n),this.apiCall(`/preferences/${n}`,{},2e3)}static async updateUserPreferences(n,s){return console.log(" Updating user preferences for:",n,s),this.apiCall(`/preferences/${n}`,{method:"PUT",body:JSON.stringify({preferences:s})},3e3)}static async updateAudioSettings(n,s){return console.log(" Updating audio settings for:",n,s),this.apiCall(`/audio-settings/${n}`,{method:"PUT",body:JSON.stringify(s)},3e3)}};vs.serverHealthy=!0,vs.lastHealthCheck=0,vs.healthCheckInterval=3e4;let ut=vs;const mf=W.createContext(void 0);function Bm(){const c=W.useContext(mf);if(!c)throw new Error("useNotifications must be used within a NotificationProvider");return c}function Fm({children:c}){const{user:n}=Ss(),[s,o]=W.useState([]),[a,u]=W.useState(!1),f=T=>({id:T.id,type:T.type||"info",title:T.title,message:T.message,timestamp:new Date(T.created_at),isRead:T.read||!1,duration:0}),p=W.useCallback(async()=>{if(n?.id){u(!0);try{const T=await ut.getUserNotifications(n.id);if(T.success&&T.data){const A=T.data.map(f);o(A)}else T.error!=="Server is currently unavailable"&&console.error("Failed to load notifications:",T.error)}catch(T){T instanceof Error&&!T.message.includes("Server is currently unavailable")&&console.error("Error loading notifications:",T)}finally{u(!1)}}},[n?.id]);W.useEffect(()=>{n?.id?(p(),(async()=>{try{if(!ut.getServerHealthStatus().healthy)return;const R=await ut.getUserNotifications(n.id);R.success&&R.data&&R.data.length===0&&(await ut.createNotification(n.id,{type:"achievement",title:"Welcome to Magdee! ",message:"Your PDF-to-audio journey begins now",data:null,expires_at:null}),await ut.createNotification(n.id,{type:"info",title:"Pro Tip",message:"Upload your first PDF to start converting to audio",data:null,expires_at:null}),setTimeout(()=>p(),500))}catch(A){A instanceof Error&&!A.message.includes("Server is currently unavailable")&&console.error("Error creating demo notifications:",A)}})()):o([])},[n?.id,p]);const g=W.useCallback(async T=>{if(!n?.id){const R={...T,id:Date.now().toString(),timestamp:new Date,isRead:!1};o(K=>[R,...K]);const V=T.duration!==void 0?T.duration:5e3;V>0&&setTimeout(()=>{m(R.id)},V);return}if(!ut.getServerHealthStatus().healthy){const R={...T,id:Date.now().toString(),timestamp:new Date,isRead:!1};o(K=>[R,...K]);const V=T.duration!==void 0?T.duration:5e3;V>0&&setTimeout(()=>{m(R.id)},V);return}try{const R=await ut.createNotification(n.id,{type:T.type,title:T.title,message:T.message,data:null,expires_at:T.duration&&T.duration>0?new Date(Date.now()+T.duration).toISOString():null});if(R.success)await p();else{R.error!=="Server is currently unavailable"&&console.error("Failed to create notification:",R.error);const V={...T,id:Date.now().toString(),timestamp:new Date,isRead:!1};o(K=>[V,...K])}}catch(R){R instanceof Error&&!R.message.includes("Server is currently unavailable")&&console.error("Error creating notification:",R);const V={...T,id:Date.now().toString(),timestamp:new Date,isRead:!1};o(K=>[V,...K])}},[n?.id,p]),m=W.useCallback(T=>{o(A=>A.filter(R=>R.id!==T))},[]),v=W.useCallback(async T=>{if(!n?.id){o(A=>A.map(R=>R.id===T?{...R,isRead:!0}:R));return}try{const A=await ut.markNotificationAsRead(n.id,T);A.success?o(R=>R.map(V=>V.id===T?{...V,isRead:!0}:V)):console.error("Failed to mark notification as read:",A.error)}catch(A){console.error("Error marking notification as read:",A)}},[n?.id]),w=W.useCallback(async()=>{if(!n?.id){o(T=>T.map(A=>({...A,isRead:!0})));return}try{const T=s.filter(A=>!A.isRead);await Promise.all(T.map(A=>ut.markNotificationAsRead(n.id,A.id))),o(A=>A.map(R=>({...R,isRead:!0})))}catch(T){console.error("Error marking all notifications as read:",T)}},[n?.id,s]),S=W.useCallback(()=>{o([])},[]),j=s.filter(T=>!T.isRead).length;return E.jsx(mf.Provider,{value:{notifications:s,addNotification:g,removeNotification:m,markAsRead:v,markAllAsRead:w,clearNotifications:S,unreadCount:j,loading:a,refreshNotifications:p},children:c})}function Mm({notification:c,onClose:n}){const[s,o]=W.useState(!0),[a,u]=W.useState(!1),f=()=>{u(!0),setTimeout(()=>{n()},300)};W.useEffect(()=>{if(c.duration!==0){const m=setTimeout(f,c.duration||5e3);return()=>clearTimeout(m)}},[c.duration]);const g=(()=>{switch(c.type){case"success":return{backgroundColor:"#10B981",icon:""};case"achievement":return{backgroundColor:"#F59E0B",icon:""};case"warning":return{backgroundColor:"#EF4444",icon:""};case"info":return{backgroundColor:"#4A90E2",icon:""};case"system":return{backgroundColor:"#6B7280",icon:""};default:return{backgroundColor:"#4A90E2",icon:""}}})();return E.jsx("div",{style:{position:"fixed",top:"20px",left:"50%",transform:`translateX(-50%) ${a?"translateY(-100%)":"translateY(0)"}`,backgroundColor:"#ffffff",borderRadius:"12px",padding:"16px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:1e3,minWidth:"320px",maxWidth:"90vw",opacity:a?0:1,transition:"all 0.3s ease",border:`2px solid ${g.backgroundColor}`},children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[E.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:g.backgroundColor,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0},children:c.icon||g.icon}),E.jsxs("div",{style:{flex:1,minWidth:0},children:[E.jsx("div",{style:{fontWeight:"600",color:"#111827",fontSize:"14px",marginBottom:"4px"},children:c.title}),E.jsx("div",{style:{color:"#6B7280",fontSize:"13px",lineHeight:"1.4"},children:c.message}),c.action&&E.jsx("button",{onClick:c.action.handler,style:{marginTop:"8px",padding:"4px 12px",backgroundColor:g.backgroundColor,color:"#ffffff",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},children:c.action.label})]}),E.jsx("button",{onClick:f,style:{background:"none",border:"none",color:"#9CA3AF",cursor:"pointer",fontSize:"18px",padding:"2px",lineHeight:1},children:""})]})})}function Wm(){const{notifications:c}=Bm(),[n,s]=W.useState([]),o=Lr.useRef(new Set);W.useEffect(()=>{const u=c.find(f=>!f.isRead&&!o.current.has(f.id));u&&(o.current.add(u.id),s(f=>[u,...f.slice(0,2)]))},[c]);const a=u=>{s(f=>f.filter(p=>p.id!==u)),o.current.delete(u)};return E.jsx(E.Fragment,{children:n.map((u,f)=>E.jsx("div",{style:{transform:`translateY(${f*80}px)`,zIndex:1e3-f},children:E.jsx(Mm,{notification:u,onClose:()=>a(u.id)})},u.id))})}class Hm{constructor(){this.failures=0,this.lastFailure=0,this.state="closed",this.maxFailures=3,this.resetTimeout=6e4}canExecute(){const n=Date.now();return this.state==="open"?n-this.lastFailure>this.resetTimeout?(this.state="half-open",console.log(" Circuit breaker: half-open, allowing one test request"),!0):!1:!0}onSuccess(){this.failures=0,this.state="closed",console.log(" Circuit breaker: reset to closed")}onFailure(){this.failures++,this.lastFailure=Date.now(),this.failures>=this.maxFailures?(this.state="open",console.log(" Circuit breaker: opened due to repeated failures")):console.log(` Circuit breaker: failure ${this.failures}/${this.maxFailures}`)}isOpen(){return this.state==="open"}getState(){return this.state}}function yf(){const{user:c,updateUser:n}=Ss(),[s,o]=W.useState({profile:null,loading:!1,error:null,lastUpdated:null,connectionStatus:"offline"}),a=W.useRef(new Hm),u=W.useRef(!1),f=W.useCallback(async(v,w=!1)=>{if(u.current){console.log(" Profile loading is disabled due to repeated failures");return}if(!a.current.canExecute()){o(S=>({...S,connectionStatus:"disabled",error:null}));return}w||o(S=>({...S,loading:!0,error:null,connectionStatus:"connecting"}));try{console.log(` Attempting profile load for user ${v}`);const S=await ut.getUserProfile(v);if(S.success&&S.data)console.log(" Profile loaded successfully"),a.current.onSuccess(),o(j=>({...j,profile:S.data,loading:!1,error:null,lastUpdated:new Date,connectionStatus:"connected"})),n&&n(S.data);else throw new Error(S.error||"Failed to load profile")}catch(S){const j=S instanceof Error?S.message:S;j!=="Server is currently unavailable"&&console.warn(" Profile loading failed:",j),a.current.onFailure(),a.current.isOpen()&&(console.log(" Disabling profile loading due to circuit breaker"),u.current=!0);const T=c||{id:v,email:"user@example.com",name:"User",username:null,avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o(A=>({...A,profile:T,loading:!1,error:null,lastUpdated:null,connectionStatus:a.current.isOpen()?"disabled":"offline"}))}},[c,n]),p=W.useCallback(async()=>{c?.id&&!u.current&&(console.log(" Manual profile refresh requested"),await f(c.id,!1))},[c?.id,f]),g=W.useCallback(async v=>{if(!c?.id)return console.log(" No authenticated user for profile picture update"),!1;if(u.current)return o(w=>({...w,profile:w.profile?{...w.profile,avatar_url:v}:null})),!0;try{console.log(" Updating profile picture...");const w=await ut.updateProfilePicture(c.id,v);return w.success&&w.data?(console.log(" Profile picture updated successfully"),o(S=>({...S,profile:w.data,lastUpdated:new Date,error:null,connectionStatus:"connected"})),n&&n(w.data),!0):(console.warn(" Profile picture update failed:",w.error),o(S=>({...S,profile:S.profile?{...S.profile,avatar_url:v}:null})),!0)}catch(w){return console.warn(" Profile picture update error:",w),o(S=>({...S,profile:S.profile?{...S.profile,avatar_url:v}:null})),!0}},[c?.id,n]),m=W.useCallback(()=>{o(v=>({...v,error:null}))},[]);return W.useEffect(()=>{if(c?.id){if(console.log(" User changed, setting up profile for:",c.id),o(v=>({...v,profile:{id:c.id,email:c.email,name:c.name,username:c.username,avatar_url:c.avatar_url,created_at:c.created_at,updated_at:new Date().toISOString()},loading:!1,error:null,connectionStatus:"offline"})),!u.current){const v=setTimeout(()=>{f(c.id,!0)},1e3);return()=>clearTimeout(v)}}else console.log(" User logged out, clearing profile"),o({profile:null,loading:!1,error:null,lastUpdated:null,connectionStatus:"offline"})},[c?.id,f]),{...s,refreshProfile:p,updateProfilePicture:g,clearError:m}}function Oy(){const{profile:c,loading:n,refreshProfile:s,connectionStatus:o}=yf(),{user:a}=Ss(),u=a||c,f=Lr.useMemo(()=>u?u.username&&typeof u.username=="string"?u.username.includes("@")?u.username.split("@")[0]:u.username:u.name&&u.name!=="Guest"?u.name:u.email&&typeof u.email=="string"?u.email.includes("@")?u.email.split("@")[0]:u.email:"Guest":"Guest",[u]),p=Lr.useMemo(()=>u?.avatar_url||null,[u]),g=u?.email||"";return{displayName:f,profilePictureUrl:p,email:g,loading:n,refreshData:s,connectionStatus:o}}function Vm({showDetails:c=!1}){const[n,s]=W.useState({healthy:!0,lastCheck:0}),{connectionStatus:o}=yf();if(W.useEffect(()=>{const f=()=>{const g=ut.getServerHealthStatus();s(g)};f();const p=setInterval(f,3e4);return()=>clearInterval(p)},[]),o==="connected"&&n.healthy||!c&&o==="offline")return null;const u=o==="disabled"?{color:"#6B7280",text:"Offline Mode",detail:"Using cached data"}:o==="timeout"||!n.healthy?{color:"#F59E0B",text:"Slow Connection",detail:"Some features may be limited"}:o==="connecting"?{color:"#4A90E2",text:"Connecting",detail:"Please wait..."}:{color:"#6B7280",text:"Offline",detail:"Using cached data"};return c?E.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",backgroundColor:"#ffffff",padding:"8px 12px",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:`1px solid ${u.color}`,zIndex:1e3,fontSize:"12px",fontFamily:"Poppins, sans-serif"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[E.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:u.color}}),E.jsxs("div",{children:[E.jsx("div",{style:{fontWeight:"500",color:"#374151"},children:u.text}),E.jsx("div",{style:{color:"#6B7280",fontSize:"11px"},children:u.detail})]})]})}):E.jsx("div",{style:{position:"fixed",top:"10px",right:"10px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:u.color,zIndex:1e3,opacity:.7}})}const ol={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Kd={};const kn=(c,n="")=>{try{if(typeof import.meta<"u"&&ol){const s=ol[c];if(s!==void 0)return String(s)}}catch{}try{if(typeof window<"u"&&window.__ENV__){const s=window.__ENV__[c];if(s!==void 0)return String(s)}}catch{}try{if(typeof global<"u"&&global.process&&Kd){const s=Kd[c];if(s!==void 0)return String(s)}}catch{}return n},qm=()=>{try{if(typeof import.meta<"u"&&ol)return!1}catch{}if(kn("NODE_ENV","development")==="development"||kn("REACT_APP_DEBUG_MODE","false").toLowerCase()==="true")return!0;try{if(typeof window<"u"){const s=window.location.hostname;if(s==="localhost"||s==="127.0.0.1"||s.includes("dev")||s.includes("staging"))return!0}}catch{}return!1},Km=()=>{const c=qm();return{isDevelopment:c,isProduction:!c,pythonBackendUrl:kn("REACT_APP_PYTHON_BACKEND_URL","http://localhost:8000"),supabaseUrl:kn("REACT_APP_SUPABASE_URL",""),supabaseAnonKey:kn("REACT_APP_SUPABASE_ANON_KEY",""),debugMode:kn("REACT_APP_DEBUG_MODE","false").toLowerCase()==="true"}};let Kt;try{Kt=Km()}catch(c){console.warn("Failed to get environment config, using defaults:",c),Kt={isDevelopment:!0,isProduction:!1,pythonBackendUrl:"http://localhost:8000",supabaseUrl:"",supabaseAnonKey:"",debugMode:!1}}try{Kt.isDevelopment&&console.log(" Environment utilities loaded")}catch{}const vf=Kt.pythonBackendUrl,Jm="v1",Gm=`${vf}/api/${Jm}`;class Qm{constructor(){this.backendUrl=vf,this.baseApiUrl=Gm,this.isConfigured=this.backendUrl!=="http://localhost:8000"||Kt.isDevelopment,Kt.isDevelopment&&console.log(" Python Backend Service initialized:",{backendUrl:this.backendUrl,baseApiUrl:this.baseApiUrl,isConfigured:this.isConfigured})}getAuthHeaders(n){return{Authorization:`Bearer ${n}`,"Content-Type":"application/json",Accept:"application/json"}}async makeRequest(n,s={},o){try{const a=`${this.baseApiUrl}${n}`;Kt.isDevelopment&&console.log(` Python Backend API call: ${s.method||"GET"} ${a}`);const u={"Content-Type":"application/json",Accept:"application/json"};o&&(u.Authorization=`Bearer ${o}`);const f=await fetch(a,{...s,headers:{...u,...s.headers}}),p=await f.json();return f.ok?(Kt.isDevelopment&&console.log(" Python Backend API success:",p),p):(console.error(" Python Backend API error:",{status:f.status,statusText:f.statusText,data:p}),{success:!1,error:p.error||`HTTP ${f.status}: ${f.statusText}`,data:null})}catch(a){return console.error(" Python Backend network error:",a),{success:!1,error:a instanceof Error?a.message:"Network error occurred",data:null}}}async checkHealth(){return this.makeRequest("/health")}async getApiStatus(){return this.makeRequest("/status")}async uploadPDF(n,s,o,a,u){const f=new FormData;return f.append("file",s),f.append("title",o),f.append("author",a),this.makeRequest(`/pdf/upload/${n}`,{method:"POST",body:f,headers:{Authorization:`Bearer ${u}`}})}async getProcessingStatus(n,s){return this.makeRequest(`/pdf/status/${n}`,{method:"GET"},s)}async deletePDF(n,s){return this.makeRequest(`/pdf/${n}`,{method:"DELETE"},s)}async sendChatMessage(n,s,o,a,u){return this.makeRequest(`/ai/chat/${n}`,{method:"POST",body:JSON.stringify({message:s,session_id:a||"default",context:u})},o)}async getChatHistory(n,s,o,a=50){const u=new URLSearchParams;return o&&u.append("session_id",o),u.append("limit",a.toString()),this.makeRequest(`/ai/chat/${n}/history?${u.toString()}`,{method:"GET"},s)}async logMood(n,s,o){return this.makeRequest(`/ai/mood/${n}`,{method:"POST",body:JSON.stringify(s)},o)}async getMoodHistory(n,s,o=30){return this.makeRequest(`/ai/mood/${n}?days=${o}`,{method:"GET"},s)}async analyzeMood(n,s,o="week"){return this.makeRequest(`/ai/mood/${n}/analysis`,{method:"POST",body:JSON.stringify({period:o})},s)}async getUserProfile(n,s){return this.makeRequest(`/users/${n}/profile`,{method:"GET"},s)}async updateUserPreferences(n,s,o){return this.makeRequest(`/users/${n}/preferences`,{method:"PUT",body:JSON.stringify(s)},o)}async getUserBooks(n,s){return this.makeRequest(`/users/${n}/books`,{method:"GET"},s)}async getUserActivity(n,s,o=50,a){const u=new URLSearchParams;return u.append("limit",o.toString()),a&&u.append("activity_type",a),this.makeRequest(`/users/${n}/activity?${u.toString()}`,{method:"GET"},s)}async getAnalyticsOverview(n,s){return this.makeRequest(`/analytics/overview/${n}`,{method:"GET"},s)}async getUsageAnalytics(n,s,o="week"){return this.makeRequest(`/analytics/usage/${n}?period=${o}`,{method:"GET"},s)}async getBookAnalytics(n,s){return this.makeRequest(`/analytics/books/${n}`,{method:"GET"},s)}async getMoodAnalytics(n,s){return this.makeRequest(`/analytics/mood/${n}`,{method:"GET"},s)}async getAudioMetadata(n,s){return this.makeRequest(`/audio/metadata/${n}`,{method:"GET"},s)}async regenerateAudio(n,s){return this.makeRequest(`/audio/generate/${n}`,{method:"POST"},s)}getAudioStreamUrl(n){return`${this.baseApiUrl}/audio/stream/${n}`}isBackendAvailable(){return this.checkHealth().then(n=>n.success).catch(()=>!1)}async testConnection(){const n=Date.now();try{const[s,o]=await Promise.all([this.checkHealth(),this.getApiStatus()]),a=Date.now()-n;return{backend_available:s.success,api_status:o.success,database_connected:s.data?.services?.database==="operational",response_time:a}}catch{return{backend_available:!1,api_status:!1,database_connected:!1,response_time:Date.now()-n}}}getConfig(){return{backendUrl:this.backendUrl,baseApiUrl:this.baseApiUrl,isConfigured:this.isConfigured,environmentConfig:Kt}}}const hs=new Qm;function Ym(){const{user:c,getAccessToken:n}=Ss(),[s,o]=W.useState({available:!1,apiStatus:!1,databaseConnected:!1,responseTime:null,lastChecked:null,error:null}),[a,u]=W.useState(!1),f=W.useCallback(async()=>{u(!0);try{console.log(" Checking Python backend connection...");const w=hs.testConnection(),S=new Promise((T,A)=>{setTimeout(()=>A(new Error("Connection timeout")),1e4)}),j=await Promise.race([w,S]);o({available:j.backend_available,apiStatus:j.api_status,databaseConnected:j.database_connected,responseTime:j.response_time,lastChecked:new Date().toISOString(),error:null}),console.log(" Python backend connection check completed:",j)}catch(w){const S=w instanceof Error?w.message:"Unknown connection error";console.warn(" Python backend connection check failed:",w);let j=S;S.includes("fetch")?j="Backend server not running (start with: python start.py --mode dev)":S.includes("timeout")?j="Connection timeout - backend may be starting up":S.includes("CORS")&&(j="CORS error - check backend configuration"),o(T=>({...T,available:!1,apiStatus:!1,databaseConnected:!1,lastChecked:new Date().toISOString(),error:j}))}finally{u(!1)}},[]);W.useEffect(()=>{const w=setTimeout(()=>{f()},1e3);return()=>clearTimeout(w)},[f,c]);const p=W.useCallback(async(w,S,j)=>{if(!c)return{success:!1,error:"User not authenticated"};if(!s.available)return{success:!1,error:"Python backend not available. Please start the backend server."};try{const T=await n();return T?await hs.uploadPDF(c.id,w,S,j,T):{success:!1,error:"No access token available"}}catch(T){return console.error(" PDF upload error:",T),{success:!1,error:T instanceof Error?T.message:"Upload failed"}}},[c,n,s.available]),g=W.useCallback(async(w,S)=>{if(!c)return{success:!1,error:"User not authenticated"};if(!s.available)return{success:!1,error:"AI chat requires Python backend. Please start the backend server."};try{const j=await n();return j?await hs.sendChatMessage(c.id,w,j,S):{success:!1,error:"No access token available"}}catch(j){return console.error(" Chat message error:",j),{success:!1,error:j instanceof Error?j.message:"Chat failed"}}},[c,n,s.available]),m=W.useCallback(async(w,S,j,T)=>{if(!c)return{success:!1,error:"User not authenticated"};if(!s.available)return{success:!1,error:"Mood tracking requires Python backend. Please start the backend server."};try{const A=await n();return A?await hs.logMood(c.id,{mood:w,intensity:S,notes:j,triggers:T},A):{success:!1,error:"No access token available"}}catch(A){return console.error(" Mood logging error:",A),{success:!1,error:A instanceof Error?A.message:"Mood logging failed"}}},[c,n,s.available]),v=W.useCallback(async()=>{if(!c)return{success:!1,error:"User not authenticated"};if(!s.available)return{success:!1,error:"Analytics requires Python backend. Please start the backend server."};try{const w=await n();return w?await hs.getAnalyticsOverview(c.id,w):{success:!1,error:"No access token available"}}catch(w){return console.error(" Analytics error:",w),{success:!1,error:w instanceof Error?w.message:"Analytics failed"}}},[c,n,s.available]);return{status:s,isLoading:a,checkConnection:f,uploadPDF:p,sendChatMessage:g,logMood:m,getAnalytics:v}}function wf({showDetails:c=!1,onToggleDetails:n}){const{status:s,isLoading:o,checkConnection:a}=Ym(),[u,f]=W.useState(!1),p=()=>o?"#fbbf24":s.available&&s.apiStatus&&s.databaseConnected?"#10b981":s.available||s.apiStatus?"#f59e0b":"#ef4444",g=()=>o?"Checking...":s.available&&s.apiStatus&&s.databaseConnected?"Python Backend Online":s.available||s.apiStatus?"Python Backend Partial":"Python Backend Offline",m=()=>{f(!u),n?.()},v=S=>S===null?"N/A":S<1e3?`${S}ms`:`${(S/1e3).toFixed(1)}s`,w=S=>{if(!S)return"Never";try{const j=new Date(S),A=new Date().getTime()-j.getTime(),R=Math.floor(A/1e3),V=Math.floor(R/60);return R<60?`${R}s ago`:V<60?`${V}m ago`:j.toLocaleTimeString()}catch{return"Invalid time"}};return E.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",minWidth:"200px",maxWidth:"300px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:c?"pointer":"default"},onClick:c?m:void 0,children:[E.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:p(),flexShrink:0,animation:o?"pulse 2s infinite":"none"}}),E.jsx("span",{style:{fontSize:"12px",fontWeight:"500",color:"#374151",flex:1},children:g()}),c&&E.jsx("span",{style:{fontSize:"12px",color:"#6B7280",transform:u?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:""})]}),!u&&s.responseTime!==null&&E.jsxs("div",{style:{fontSize:"10px",color:"#6B7280",marginTop:"4px"},children:["Response: ",v(s.responseTime)]}),(u||c)&&E.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #E5E7EB",fontSize:"11px",lineHeight:"1.4"},children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[E.jsx("span",{style:{color:"#6B7280"},children:"API Server:"}),E.jsx("span",{style:{color:s.available?"#10b981":"#ef4444",fontWeight:"500"},children:s.available?" Online":" Offline"})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[E.jsx("span",{style:{color:"#6B7280"},children:"API Endpoints:"}),E.jsx("span",{style:{color:s.apiStatus?"#10b981":"#ef4444",fontWeight:"500"},children:s.apiStatus?" Ready":" Error"})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[E.jsx("span",{style:{color:"#6B7280"},children:"Database:"}),E.jsx("span",{style:{color:s.databaseConnected?"#10b981":"#ef4444",fontWeight:"500"},children:s.databaseConnected?" Connected":" Disconnected"})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[E.jsx("span",{style:{color:"#6B7280"},children:"Response Time:"}),E.jsx("span",{style:{color:"#374151",fontWeight:"500"},children:v(s.responseTime)})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[E.jsx("span",{style:{color:"#6B7280"},children:"Last Checked:"}),E.jsx("span",{style:{color:"#374151",fontWeight:"500"},children:w(s.lastChecked)})]}),s.error&&E.jsxs("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#fef2f2",borderRadius:"6px",border:"1px solid #fecaca"},children:[E.jsx("div",{style:{color:"#dc2626",fontSize:"10px",fontWeight:"500"},children:"Error:"}),E.jsx("div",{style:{color:"#7f1d1d",fontSize:"10px",marginTop:"2px"},children:s.error.length>50?`${s.error.substring(0,50)}...`:s.error})]}),E.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"8px"},children:[E.jsx("button",{onClick:S=>{S.stopPropagation(),a()},disabled:o,style:{fontSize:"10px",padding:"4px 8px",backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"4px",cursor:o?"not-allowed":"pointer",opacity:o?.6:1},children:o?"Checking...":"Recheck"}),E.jsx("a",{href:"http://localhost:8000/docs",target:"_blank",rel:"noopener noreferrer",style:{fontSize:"10px",padding:"4px 8px",backgroundColor:"#6B7280",color:"white",border:"none",borderRadius:"4px",textDecoration:"none",display:"inline-block"},children:"API Docs"})]}),!s.available&&E.jsxs("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#f0f9ff",borderRadius:"6px",border:"1px solid #bfdbfe"},children:[E.jsx("div",{style:{color:"#1e40af",fontSize:"10px",fontWeight:"500"},children:"To start Python backend:"}),E.jsx("div",{style:{color:"#1d4ed8",fontSize:"9px",marginTop:"2px",fontFamily:"monospace"},children:"python start.py --mode dev"})]})]})})]})}wf.displayName="PythonBackendStatus";function _f({children:c}){const[n,s]=W.useState({isValid:!0,errors:[],warnings:[],checking:!0,configurationNeeded:!1});return W.useEffect(()=>{(async()=>{try{const a=Um(),u=[...a.errors],f=[],p=Ze==="djsjlwgtyfzhcnbvoubo",g=ct&&ct.startsWith("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRqc2psd2d0eWZ6aGNuYnZvdWJvIiwicm9sZSI6ImFub24i"),m=Ze.includes("your-project")||ct.includes("your_")||!Ze||!ct,v=m||p&&g;v&&(m?u.push("Supabase configuration contains placeholder values"):p&&g&&f.push("Using demo Supabase configuration for development"));const w=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(w&&(p||g)&&!m&&(console.log(" Development Mode: Using fallback Supabase configuration"),console.log(" To use your own Supabase project:"),console.log("   1. Create .env file in project root"),console.log("   2. Add your Supabase credentials:"),console.log("      REACT_APP_SUPABASE_URL=https://your-project.supabase.co"),console.log("      REACT_APP_SUPABASE_ANON_KEY=your_anon_key"),console.log("   3. Restart the development server"),console.log(" See ENVIRONMENT_SETUP_GUIDE.md for detailed instructions")),!v&&w&&a.isValid)try{const S=new AbortController;setTimeout(()=>S.abort(),2e3);const j=await fetch(`https://${Ze}.supabase.co/rest/v1/`,{method:"GET",headers:{apikey:ct,Authorization:`Bearer ${ct}`},signal:S.signal});!j.ok&&j.status!==404&&f.push(`Supabase connectivity test failed (Status: ${j.status})`)}catch{w&&console.log(" Supabase connectivity test failed (this is normal if offline)")}s({isValid:u.length===0,errors:u,warnings:f,checking:!1,configurationNeeded:v})}catch(a){console.error("Environment validation error:",a),s({isValid:!1,errors:["Environment validation failed"],warnings:[],checking:!1,configurationNeeded:!1})}})()},[]),n.checking?E.jsx(E.Fragment,{children:c}):n.configurationNeeded&&n.errors.some(o=>o.includes("placeholder values")||o.includes("not configured"))?E.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",fontFamily:"Poppins, sans-serif",padding:"2rem"},children:E.jsxs("div",{style:{maxWidth:"600px",backgroundColor:"#ffffff",borderRadius:"1rem",padding:"2rem",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:""}),E.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#111827",marginBottom:"1rem"},children:"Setup Required"}),E.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem",lineHeight:"1.6"},children:"To get started with Magdee, you need to configure your Supabase project credentials."}),E.jsxs("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.5rem",padding:"1.5rem",marginBottom:"1.5rem",textAlign:"left"},children:[E.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#0369a1",marginBottom:"1rem"},children:"Quick Setup (5 minutes):"}),E.jsxs("ol",{style:{color:"#075985",fontSize:"0.875rem",paddingLeft:"1rem",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"0.5rem"},children:["Create a free Supabase project at"," ",E.jsx("a",{href:"https://app.supabase.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#4A90E2",textDecoration:"underline"},children:"app.supabase.com"})]}),E.jsx("li",{style:{marginBottom:"0.5rem"},children:"Go to Settings  API and copy your credentials"}),E.jsxs("li",{style:{marginBottom:"0.5rem"},children:["Create a ",E.jsx("code",{style:{backgroundColor:"#e5e7eb",padding:"0.125rem 0.25rem",borderRadius:"0.25rem"},children:".env"})," file in your project root"]}),E.jsx("li",{style:{marginBottom:"0.5rem"},children:"Add your credentials (see example below)"}),E.jsx("li",{children:"Restart your development server"})]})]}),E.jsxs("div",{style:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem",fontFamily:"monospace",fontSize:"0.75rem",textAlign:"left",marginBottom:"1.5rem"},children:[E.jsx("div",{style:{marginBottom:"0.75rem",fontWeight:"600",fontFamily:"Poppins, sans-serif"},children:".env file example:"}),E.jsxs("div",{style:{color:"#374151"},children:["REACT_APP_SUPABASE_URL=https://your-project-id.supabase.co",E.jsx("br",{}),"REACT_APP_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",E.jsx("br",{}),"REACT_APP_SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."]})]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[E.jsx("a",{href:"https://app.supabase.com",target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontSize:"0.875rem",fontWeight:"500",textDecoration:"none",fontFamily:"Poppins, sans-serif",display:"inline-block"},children:"Create Supabase Project"}),E.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",fontFamily:"Poppins, sans-serif"},children:"I've Added My Credentials"})]}),E.jsxs("p",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"1rem"},children:["Need help? Check ",E.jsx("code",{children:"ENVIRONMENT_SETUP_GUIDE.md"})," for detailed instructions."]})]})}):(n.warnings.length>0&&n.warnings.forEach(o=>{console.log(` ${o}`)}),n.errors.length>0&&n.errors.forEach(o=>{console.warn(` Environment: ${o}`)}),E.jsx(E.Fragment,{children:c}))}_f.displayName="EnvironmentValidator";function gl({message:c="Loading your experience...",showProgress:n=!0,timeout:s=5e3}={}){const[o,a]=W.useState(""),[u,f]=W.useState(0),[p,g]=W.useState(!1);return W.useEffect(()=>{const m=setInterval(()=>{a(S=>S.length>=3?"":S+".")},500);let v;n&&(v=setInterval(()=>{f(S=>S>=90?S:S+Math.random()*3)},200));const w=setTimeout(()=>{g(!0)},s);return()=>{clearInterval(m),v&&clearInterval(v),clearTimeout(w)}},[n,s]),E.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff",flexDirection:"column",gap:"2rem",padding:"2rem"},children:[E.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#4A90E2",fontFamily:"Poppins, sans-serif",letterSpacing:"-0.025em",marginBottom:"1rem"},children:"Magdee"}),E.jsxs("div",{style:{position:"relative",width:"48px",height:"48px"},children:[E.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #E5E7EB",borderTop:"4px solid #4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"}}),E.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"24px",height:"24px",backgroundColor:"#4A90E2",borderRadius:"50%",opacity:.3,animation:"pulse 2s infinite"}})]}),n&&E.jsx("div",{style:{width:"200px",height:"4px",backgroundColor:"#E5E7EB",borderRadius:"2px",overflow:"hidden",position:"relative"},children:E.jsx("div",{style:{width:`${u}%`,height:"100%",backgroundColor:"#4A90E2",borderRadius:"2px",transition:"width 0.3s ease",background:"linear-gradient(90deg, #4A90E2, #357ABD, #4A90E2)",backgroundSize:"200% 100%",animation:"gradient-slide 2s linear infinite"}})}),E.jsxs("div",{style:{textAlign:"center",maxWidth:"280px"},children:[E.jsxs("p",{style:{color:"#374151",fontSize:"1rem",fontFamily:"Poppins, sans-serif",fontWeight:"500",marginBottom:"0.5rem"},children:[c,o]}),n&&E.jsxs("p",{style:{color:"#6B7280",fontSize:"0.875rem",fontFamily:"Poppins, sans-serif"},children:[Math.round(u),"% complete"]})]}),p&&E.jsxs("div",{style:{backgroundColor:"#FEF3C7",border:"1px solid #F59E0B",borderRadius:"0.5rem",padding:"1rem",maxWidth:"300px",textAlign:"center",animation:"slideDown 0.3s ease"},children:[E.jsx("p",{style:{color:"#92400E",fontSize:"0.875rem",fontFamily:"Poppins, sans-serif",fontWeight:"500",marginBottom:"0.5rem"},children:"Taking longer than expected"}),E.jsx("p",{style:{color:"#B45309",fontSize:"0.75rem",fontFamily:"Poppins, sans-serif"},children:"Please check your internet connection or try refreshing the page."})]}),E.jsx("div",{style:{position:"absolute",bottom:"2rem",left:"50%",transform:"translateX(-50%)",textAlign:"center",opacity:.7},children:E.jsx("p",{style:{color:"#9CA3AF",fontSize:"0.75rem",fontFamily:"Poppins, sans-serif"},children:" Get ready for an amazing audio experience"})}),E.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
          0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
          50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.1; }
        }
        
        @keyframes gradient-slide {
          0% { background-position: 200% 0; }
          100% { background-position: -200% 0; }
        }
        
        @keyframes slideDown {
          0% { transform: translateY(-100%); opacity: 0; }
          100% { transform: translateY(0); opacity: 1; }
        }
      `})]})}gl.displayName="LoadingScreen";function Sf(){return E.jsx(gl,{message:"Checking your authentication",showProgress:!0,timeout:8e3})}Sf.displayName="AuthLoadingScreen";function Bi(){return E.jsx(gl,{message:"Initializing your library",showProgress:!0,timeout:4e3})}Bi.displayName="AppInitLoadingScreen";function kf({children:c}){return E.jsx(Lr.Fragment,{children:c})}kf.displayName="PerformanceOptimizer";const ml=class ml extends Lr.Component{constructor(n){super(n),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleReload=()=>{typeof window<"u"&&window.location.reload()},this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){if(console.error(" Performance Error Boundary caught an error:",n),console.error("Error info:",s),this.setState({hasError:!0,error:n,errorInfo:s}),typeof window<"u"&&window.errorAnalytics)try{window.errorAnalytics.logError("performance_boundary_error",{error:n.message,stack:n.stack,componentStack:s.componentStack,errorBoundary:"PerformanceErrorBoundary"})}catch(o){console.warn("Failed to report error to analytics:",o)}}render(){return this.state.hasError?E.jsx("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#ffffff",fontFamily:"Poppins, sans-serif"},children:E.jsxs("div",{style:{maxWidth:"500px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"64px",marginBottom:"24px"},children:""}),E.jsx("h1",{style:{fontSize:"24px",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Something went wrong"}),E.jsx("p",{style:{fontSize:"16px",color:"#6b7280",marginBottom:"24px",lineHeight:"1.5"},children:"The app encountered an unexpected error. This is usually temporary and can be fixed by trying again."}),typeof window<"u"&&window.location.hostname==="localhost"&&this.state.error&&E.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",padding:"16px",marginBottom:"24px",textAlign:"left"},children:[E.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#dc2626",marginBottom:"8px"},children:"Error Details (Development Only):"}),E.jsxs("div",{style:{fontSize:"11px",color:"#7f1d1d",fontFamily:"monospace",whiteSpace:"pre-wrap",overflow:"auto",maxHeight:"150px"},children:[this.state.error.message,this.state.error.stack&&E.jsxs(E.Fragment,{children:[`

Stack Trace:
`,this.state.error.stack]})]})]}),E.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[E.jsx("button",{onClick:this.handleRetry,style:{padding:"12px 24px",backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:n=>{n.currentTarget.style.backgroundColor="#357ABD"},onMouseOut:n=>{n.currentTarget.style.backgroundColor="#4A90E2"},children:"Try Again"}),E.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:n=>{n.currentTarget.style.backgroundColor="#e5e7eb"},onMouseOut:n=>{n.currentTarget.style.backgroundColor="#f3f4f6"},children:"Reload App"})]}),E.jsx("p",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"24px"},children:"If this problem persists, please check your internet connection or try refreshing the page."})]})}):this.props.children}};ml.displayName="PerformanceErrorBoundary";let al=ml;const Xm=kf,Zm=al;function Ef({screenName:c,onNavigate:n}){return E.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#ffffff",fontFamily:"Poppins, sans-serif"},children:[E.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",right:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827"},children:c}),E.jsx("button",{onClick:()=>n("back"),style:{padding:"8px 16px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Back"})]}),E.jsxs("div",{style:{textAlign:"center",maxWidth:"300px"},children:[E.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),E.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Debug Screen Not Available"}),E.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"1.5",marginBottom:"20px"},children:["The ",c," debug screen is not currently implemented or available in this build."]}),E.jsx("div",{style:{backgroundColor:"#F0F9FF",border:"1px solid #BFDBFE",borderRadius:"8px",padding:"12px",marginBottom:"20px"},children:E.jsx("p",{style:{fontSize:"12px",color:"#1E40AF",margin:0},children:" This is a development feature that may be added in future updates."})}),E.jsx("button",{onClick:()=>n("home"),style:{padding:"12px 20px",backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Go to Home"})]})]})}Ef.displayName="DebugFallback";function Ne(c,n,s){const o=Lr.lazy(()=>c().then(a=>{const u=a[n];if(!u)throw new Error(`Export '${n}' not found in module`);return u.displayName||(u.displayName=s),{default:u}}).catch(a=>{console.error(`Failed to load component ${s}:`,a);const u=f=>E.jsxs("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"#FEF2F2",border:"1px solid #FECACA",borderRadius:"0.5rem",margin:"1rem"},children:[E.jsxs("h3",{style:{color:"#DC2626",marginBottom:"0.5rem"},children:["Failed to load ",s]}),E.jsx("p",{style:{color:"#7F1D1D",fontSize:"0.875rem"},children:a.message||"Unknown error occurred"})]});return u.displayName=`Fallback(${s})`,{default:u}}));return o.displayName=`Lazy(${s})`,o}const Jd=Ne(()=>ke(()=>import("./WelcomeScreen-CVFgatVk.js"),__vite__mapDeps([0,1])),"WelcomeScreen","WelcomeScreen"),ey=Ne(()=>ke(()=>import("./IntroScreen-Bd4AaeCJ.js"),[]),"IntroScreen","IntroScreen"),ty=Ne(()=>ke(()=>import("./AuthScreen-BsXr5Mbq.js"),[]),"AuthScreen","AuthScreen"),ry=Ne(()=>ke(()=>import("./LoginScreen-e5Rk_KvO.js"),__vite__mapDeps([2,3,4,5,1])),"LoginScreen","LoginScreen"),ny=Ne(()=>ke(()=>import("./SignupScreen-BQgMeM5n.js"),__vite__mapDeps([6,3,4,5,1])),"SignupScreen","SignupScreen"),sy=Ne(()=>ke(()=>import("./HomeScreen-DOyNLy0E.js"),__vite__mapDeps([7,8,9,10,11,4,12,13,14,15,5,16,17])),"HomeScreen","HomeScreen"),iy=Ne(()=>ke(()=>import("./MyLibraryScreen-D-WHiEQr.js"),__vite__mapDeps([18,8,9,4,15,5,17])),"MyLibraryScreen","MyLibraryScreen"),oy=Ne(()=>ke(()=>import("./BookCoverScreen-OKGHXzT8.js"),__vite__mapDeps([19,8,20,4,13,16])),"BookCoverScreen","BookCoverScreen"),ay=Ne(()=>ke(()=>import("./AudioPlayerScreen-COF-ghZH.js"),__vite__mapDeps([21,10,20,4,17])),"AudioPlayerScreen","AudioPlayerScreen"),ly=Ne(()=>ke(()=>import("./ProfileScreen-Py1sgefz.js"),__vite__mapDeps([22,8,23,20,4,17])),"ProfileScreen","ProfileScreen"),uy=Ne(()=>ke(()=>import("./EditProfileScreen-CUECVhLV.js"),__vite__mapDeps([24,9,23,20,4,8,5,12,11,15,13,25])),"EditProfileScreen","EditProfileScreen"),cy=Ne(()=>ke(()=>import("./NotificationsScreen-c6qjdGEK.js"),__vite__mapDeps([26,23,20,4])),"NotificationsScreen","NotificationsScreen"),dy=Ne(()=>ke(()=>import("./LanguageSettingsScreen-BLjzIzTv.js"),__vite__mapDeps([27,23,20,4,11,5,15])),"LanguageSettingsScreen","LanguageSettingsScreen"),fy=Ne(()=>ke(()=>import("./UploadPDFScreen-BvJNynrq.js"),__vite__mapDeps([28,10])),"UploadPDFScreen","UploadPDFScreen"),hy=Ne(()=>ke(()=>import("./ChatAIScreen-DWM-HVeq.js"),[]),"ChatAIScreen","ChatAIScreen"),py=Ne(()=>ke(()=>import("./MoodTrackingScreen-FvgRnN6m.js"),[]),"MoodTrackingScreen","MoodTrackingScreen"),gy=Ne(()=>ke(()=>import("./ProgressTrackingScreen-DenNxvTn.js"),__vite__mapDeps([29,20,4,13,14,25])),"ProgressTrackingScreen","ProgressTrackingScreen"),my=Ne(()=>ke(()=>import("./SelfHelpProgramsScreen-B1PbdTXB.js"),[]),"SelfHelpProgramsScreen","SelfHelpProgramsScreen"),yy=Ne(()=>ke(()=>import("./SpeakToTherapistScreen-AGu2c8uB.js"),[]),"SpeakToTherapistScreen","SpeakToTherapistScreen"),vy=Ne(()=>ke(()=>import("./TermsOfServiceScreen-irCJEC0B.js"),__vite__mapDeps([30,1])),"TermsOfServiceScreen","TermsOfServiceScreen"),wy=Ne(()=>ke(()=>import("./PrivacyPolicyScreen-DBizoS1H.js"),__vite__mapDeps([31,1])),"PrivacyPolicyScreen","PrivacyPolicyScreen"),_y=Ne(()=>ke(()=>import("./PythonBackendTestScreen-CUFG-qnz.js"),[]),"PythonBackendTestScreen","PythonBackendTestScreen"),yl=class yl extends Lr.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error(`Screen error in ${this.props.screenName}:`,n,s)}render(){return this.state.hasError?E.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#ffffff",fontFamily:"Poppins, sans-serif"},children:[E.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",right:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("h1",{style:{fontSize:"20px",fontWeight:"600",color:"#111827"},children:"Screen Error"}),E.jsx("button",{onClick:()=>this.props.onNavigate("back"),style:{padding:"8px 16px",backgroundColor:"#F3F4F6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Back"})]}),E.jsxs("div",{style:{textAlign:"center",maxWidth:"300px"},children:[E.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),E.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:"Screen Loading Error"}),E.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",lineHeight:"1.5",marginBottom:"20px"},children:["Something went wrong loading the ",this.props.screenName," screen."]}),E.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[E.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:void 0})},style:{padding:"12px 20px",backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Try Again"}),E.jsx("button",{onClick:()=>this.props.onNavigate("home"),style:{padding:"12px 20px",backgroundColor:"#F3F4F6",color:"#374151",border:"1px solid #D1D5DB",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Go Home"})]})]})]}):this.props.children}};yl.displayName="ScreenErrorBoundary";let ll=yl;function xf({currentScreen:c,user:n,onNavigate:s,books:o,selectedBook:a,onSelectBook:u,onPlayBook:f,audioPlayerHandlers:p}){const g={onNavigate:s,user:n,books:o,selectedBook:a,onSelectBook:u,onPlayBook:f,audioPlayerHandlers:p},m=()=>{if(["auth-debug","connection-debug","login-debug","login-test","error-analytics"].includes(c))return E.jsx(Ef,{screenName:c,onNavigate:s});switch(c){case"welcome":return E.jsx(Jd,{...g});case"intro":return E.jsx(ey,{...g});case"auth":return E.jsx(ty,{...g});case"login":return E.jsx(ry,{...g});case"signup":return E.jsx(ny,{...g});case"home":return E.jsx(sy,{...g});case"library":case"my-library":return E.jsx(iy,{...g});case"book-cover":return E.jsx(oy,{...g});case"audio-player":return E.jsx(ay,{...g});case"profile":return E.jsx(ly,{...g});case"edit-profile":return E.jsx(uy,{...g});case"notifications":return E.jsx(cy,{...g});case"language-settings":return E.jsx(dy,{...g});case"upload-pdf":return E.jsx(fy,{...g});case"chat-ai":return E.jsx(hy,{...g});case"mood-tracking":return E.jsx(py,{...g});case"progress-tracking":return E.jsx(gy,{...g});case"self-help-programs":return E.jsx(my,{...g});case"speak-to-therapist":return E.jsx(yy,{...g});case"terms-of-service":return E.jsx(vy,{...g});case"privacy-policy":return E.jsx(wy,{...g});case"python-backend-test":return E.jsx(_y,{...g});default:return console.warn(`Unknown screen: ${c}. Redirecting to welcome.`),E.jsx(Jd,{...g})}};return E.jsx(W.Suspense,{fallback:E.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff"},children:E.jsx(Bi,{})}),children:E.jsx("div",{style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},children:E.jsx(ll,{screenName:c,onNavigate:s,children:m()})})})}xf.displayName="ScreenRouter";function Sy(c){const[n,s]=W.useState(null),[o,a]=W.useState(!1),[u,f]=W.useState(!1),p=A=>{s(A)},g=()=>{if(n){if(u){console.log("Repeating current book:",n.title);return}if(o){const A=c.filter(R=>R.id!==n.id);if(A.length>0){const R=Math.floor(Math.random()*A.length),V=A[R];s(V)}}else{const R=(c.findIndex(K=>K.id===n.id)+1)%c.length,V=c[R];s(V)}}};return{selectedBook:n,setSelectedBook:s,isShuffleMode:o,isRepeatMode:u,handleSelectBook:p,handlePlayNextBook:g,handlePlayPreviousBook:()=>{if(!n)return;const R=(c.findIndex(K=>K.id===n.id)-1+c.length)%c.length,V=c[R];s(V)},handleFastForward:()=>{console.log("Fast-forwarding 15 seconds")},handleRewind:()=>{console.log("Rewinding 15 seconds")},handleToggleShuffle:()=>{a(!o),console.log(`Shuffle mode ${o?"disabled":"enabled"}`)},handleToggleRepeat:()=>{f(!u),console.log(`Repeat mode ${u?"disabled":"enabled"}`)},handleBookEnd:()=>{u?console.log("Book ended - repeating current book:",n?.title):(console.log("Book ended - playing next book"),g())}}}function ky(c,n,s){return o=>{if(c&&["welcome","login","signup"].includes(o)){n("home");return}n(o)}}function Ey(c,n){return{handleSelectBook:a=>{c(a),n("book-cover")},handlePlayBook:a=>{c(a),n("audio-player")}}}const xy=[{id:"1",title:"Handling Problems",author:"Nile Williams",cover:"https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=300&h=400&fit=crop",duration:"4h 30m",chapters:12,genre:"Self-Help",rating:4.5,progress:45,description:"A practical guide to solving life's challenges with proven strategies and mindful approaches to problem-solving.",dateAdded:"2 days ago",category:"Self-Help"},{id:"2",title:"Laws of Success",author:"Napoleon Hill",cover:"https://images.unsplash.com/photo-1589998059171-988d887df646?w=300&h=400&fit=crop",duration:"12h 15m",chapters:16,genre:"Business",rating:4.7,progress:72,description:"The definitive guide to achieving success through time-tested principles and the psychology of achievement.",dateAdded:"1 week ago",category:"Business"},{id:"3",title:"The Art of War",author:"Sun Tzu",cover:"https://images.unsplash.com/photo-1592496431122-2349e0fbc666?w=300&h=400&fit=crop",duration:"2h 15m",chapters:13,genre:"Philosophy",rating:4.4,progress:25,description:"Ancient Chinese military treatise offering timeless strategies for conflict and leadership.",dateAdded:"2 weeks ago",category:"Philosophy"},{id:"4",title:"Atomic Habits",author:"James Clear",cover:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop",duration:"5h 30m",chapters:20,genre:"Self-Help",rating:4.8,progress:78,description:"An easy and proven way to build good habits and break bad ones with practical strategies.",dateAdded:"3 weeks ago",category:"Self-Help"},{id:"5",title:"Deep Work",author:"Cal Newport",cover:"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=300&h=400&fit=crop",duration:"7h 44m",chapters:15,genre:"Productivity",rating:4.6,progress:23,description:"Rules for focused success in a distracted world, teaching you to master hard things quickly.",dateAdded:"1 month ago",category:"Productivity"},{id:"6",title:"The Lean Startup",author:"Eric Ries",cover:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop",duration:"8h 32m",chapters:12,genre:"Entrepreneurship",rating:4.3,progress:100,description:"A scientific approach to creating and managing successful startups in an age of uncertainty.",dateAdded:"2 months ago",category:"Business"}],Cy=()=>{if(typeof window<"u"){const c=window.location.hostname;return c==="localhost"||c==="127.0.0.1"||c.includes("dev")||c.includes("staging")}return!0};function Cf(){const{user:c,loading:n}=Ss(),[s,o]=W.useState("welcome"),[a,u]=W.useState(["welcome"]),[f]=W.useState(xy),[p,g]=W.useState(!1),[m,v]=W.useState(!1),[w]=W.useState(Cy()),S=Sy(f),{selectedBook:j,setSelectedBook:T}=S,A=K=>{if(K==="back")if(a.length>1){const U=[...a];U.pop();const q=U[U.length-1];o(q),u(U)}else o("home"),u(["home"]);else try{ky(c,o,T)(K),u(q=>q[q.length-1]!==K?[...q,K]:q)}catch(U){console.error("Navigation error:",U),o(K),u(q=>[...q,K])}},{handleSelectBook:R,handlePlayBook:V}=Ey(T,K=>{o(K),u(U=>U[U.length-1]!==K?[...U,K]:U)});return W.useEffect(()=>{if(!n){const K=setTimeout(async()=>{try{ve&&typeof ve.syncLocalErrors=="function"&&ve.syncLocalErrors().then(()=>console.log(" Local error analytics synced on app start")).catch(U=>console.warn(" Failed to sync local errors on app start:",U))}catch(U){console.warn("Error analytics not available:",U)}c?(o("home"),u(["home"])):(o("welcome"),u(["welcome"])),g(!0)},50);return()=>clearTimeout(K)}},[n,c]),n?E.jsx("div",{className:"auth-loading performance-critical session-loading",children:E.jsx(Sf,{})}):p?E.jsx(Fm,{children:E.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",fontFamily:"Poppins, sans-serif"},children:E.jsxs("div",{style:{width:"100%",maxWidth:"375px",height:"812px",backgroundColor:"#ffffff",position:"relative",overflow:"hidden",borderRadius:"1.5rem",boxShadow:"0 25px 50px -12px rgb(0 0 0 / 0.25), 0 0 0 1px rgb(0 0 0 / 0.05)",transform:"translateZ(0)",backfaceVisibility:"hidden"},children:[E.jsx(W.Suspense,{fallback:E.jsx(Bi,{}),children:E.jsx(xf,{currentScreen:s,user:c,onNavigate:A,books:f,selectedBook:j,onSelectBook:R,onPlayBook:V,audioPlayerHandlers:S})}),E.jsx(Wm,{}),E.jsx(Vm,{}),w&&E.jsx(wf,{showDetails:!0,onToggleDetails:()=>v(!m)})]})})}):E.jsx("div",{className:"initial-load performance-critical",children:E.jsx(Bi,{})})}Cf.displayName="AppContentComponent";function Pf(){return E.jsx(Zm,{children:E.jsx(_f,{children:E.jsx(zm,{children:E.jsx(Xm,{children:E.jsx(Cf,{})})})})})}Pf.displayName="AppComponent";Op.createRoot(document.getElementById("root")).render(E.jsx(Pf,{}));export{ut as D,Lr as R,Ry as a,Oy as b,Bm as c,Ym as d,E as j,hs as p,W as r,Ss as u};
