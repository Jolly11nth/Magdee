import{c as m,R as b,j as t}from"./index-DfvNDOOY.js";import{B as j}from"./BackButton-Fbepq-Ot.js";import"./arrow-left-CCd5D6-I.js";import"./createLucideIcon-L4nsjaS5.js";function S({onNavigate:p}){const{notifications:o,markAsRead:x,markAllAsRead:c,clearNotifications:f,unreadCount:r,loading:g,refreshNotifications:s}=m();b.useEffect(()=>{s()},[s]);const h=e=>{const n=new Date().getTime()-e.getTime(),i=Math.floor(n/6e4),d=Math.floor(n/36e5),y=Math.floor(n/864e5);return i<1?"Just now":i<60?`${i}m ago`:d<24?`${d}h ago`:`${y}d ago`},u=e=>{switch(e){case"success":return"✓";case"achievement":return"🎯";case"warning":return"⚠️";case"info":return"ℹ️";case"system":return"⚙️";default:return"ℹ️"}},l=e=>{switch(e){case"success":return"#10B981";case"achievement":return"#F59E0B";case"warning":return"#EF4444";case"info":return"#4A90E2";case"system":return"#6B7280";default:return"#4A90E2"}};return t.jsxs("div",{style:{height:"100%",backgroundColor:"#ffffff",display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{padding:"24px 20px",borderBottom:"1px solid #F3F4F6",backgroundColor:"#ffffff",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[t.jsx(j,{onClick:()=>p("back"),title:"Go back to previous screen","aria-label":"Return to previous screen"}),t.jsxs("div",{children:[t.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",color:"#1F2937",marginBottom:"4px",fontFamily:"Poppins, sans-serif"},children:"Notifications"}),t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:r>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#EF4444",borderRadius:"50%",animation:"pulse 2s infinite"}}),t.jsxs("p",{style:{fontSize:"14px",color:"#EF4444",fontWeight:"500",fontFamily:"Poppins, sans-serif"},children:[r," new notification",r>1?"s":""]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{width:"8px",height:"8px",backgroundColor:"#10B981",borderRadius:"50%"}}),t.jsx("p",{style:{fontSize:"14px",color:"#10B981",fontWeight:"500",fontFamily:"Poppins, sans-serif"},children:"All caught up! 🎉"})]})})]})]}),o.length>0&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[t.jsx("button",{onClick:s,style:{padding:"6px 12px",backgroundColor:"#10B981",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Poppins, sans-serif",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.2)"},onMouseEnter:e=>{e.target.style.backgroundColor="#059669",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.3)"},onMouseLeave:e=>{e.target.style.backgroundColor="#10B981",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.2)"},children:"🔄 Refresh"}),r>0&&t.jsx("button",{onClick:c,style:{padding:"6px 12px",backgroundColor:"#4A90E2",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Poppins, sans-serif",boxShadow:"0 2px 4px rgba(74, 144, 226, 0.2)"},onMouseEnter:e=>{e.target.style.backgroundColor="#357ABD",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(74, 144, 226, 0.3)"},onMouseLeave:e=>{e.target.style.backgroundColor="#4A90E2",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(74, 144, 226, 0.2)"},children:"✓ Mark All Read"}),t.jsx("button",{onClick:f,style:{padding:"6px 12px",backgroundColor:"#F8FAFC",color:"#64748B",border:"1px solid #E2E8F0",borderRadius:"8px",fontSize:"12px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Poppins, sans-serif"},onMouseEnter:e=>{e.target.style.backgroundColor="#FEF2F2",e.target.style.color="#EF4444",e.target.style.borderColor="#FECACA",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#F8FAFC",e.target.style.color="#64748B",e.target.style.borderColor="#E2E8F0",e.target.style.transform="translateY(0)"},children:"🗑️ Clear All"})]})]}),t.jsx("div",{style:{flex:1,overflowY:"auto",padding:o.length>0?"0":"20px"},children:g?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#6B7280"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.5,animation:"pulse 1.5s infinite"},children:"🔔"}),t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px",color:"#374151"},children:"Loading notifications..."}),t.jsx("p",{style:{fontSize:"14px",lineHeight:"1.5"},children:"Fetching your latest notifications from the server."})]}):o.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",color:"#6B7280"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.5},children:"🔔"}),t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px",color:"#374151"},children:"No notifications yet"}),t.jsx("p",{style:{fontSize:"14px",lineHeight:"1.5"},children:"We'll notify you about book conversions, achievements, and learning milestones."})]}):o.map(e=>t.jsx("div",{onClick:()=>!e.isRead&&x(e.id),style:{padding:"16px 20px",borderBottom:"1px solid #F3F4F6",backgroundColor:e.isRead?"#ffffff":"#F8FAFF",cursor:e.isRead?"default":"pointer",position:"relative",transition:"background-color 0.2s ease"},children:t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:l(e.type),color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0},children:u(e.type)}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"8px",marginBottom:"4px"},children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:e.isRead?"500":"600",color:"#111827",lineHeight:"1.3"},children:e.title}),t.jsx("span",{style:{fontSize:"12px",color:"#9CA3AF",flexShrink:0},children:h(e.timestamp)})]}),t.jsx("p",{style:{fontSize:"13px",color:"#6B7280",lineHeight:"1.4",marginBottom:e.action?"12px":"0"},children:e.message}),e.action&&t.jsx("button",{onClick:a=>{a.stopPropagation(),e.action.handler()},style:{padding:"6px 12px",backgroundColor:l(e.type),color:"#ffffff",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},children:e.action.label})]}),!e.isRead&&t.jsx("div",{style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",width:"6px",height:"6px",backgroundColor:"#4A90E2",borderRadius:"50%"}})]})},e.id))})]})}export{S as NotificationsScreen};
