import{R as k,D as j,u as S,r as x,j as e,b as I}from"./index-DhpZogpT.js";import{I as M}from"./ImageWithFallback-BUzb1kb2.js";import{N as W}from"./NotificationBell-BjDgmNNL.js";import{u as L}from"./NotificationHelpers-CK-5FSEs.js";import{R as z}from"./refresh-cw-BgsRtDYE.js";import{c as B}from"./createLucideIcon-BWB-IIpW.js";import{U as P}from"./upload-uXiUGQgW.js";import{C as A,B as D}from"./clock-Dbha17Zu.js";import{T as U}from"./trending-up-DQqjkSxX.js";import{W as Y}from"./wifi-off-CTyoMDoP.js";import{A as H}from"./alert-circle-Dk_tpyNt.js";import{P as O}from"./play-Bs2VN-F_.js";import{H as G,a as N,U as _}from"./user-DG0tLWpa.js";const q=B("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),$=B("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Q=B("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),v=class v{static async getUserPlaylistData(o,u=!1){try{if(!u&&this.cache.has(o)){const n=this.cache.get(o);if(Date.now()-n.timestamp<this.CACHE_DURATION)return n.data}if(!j.getServerHealthStatus().healthy)return this.cache.has(o)?this.cache.get(o).data:{totalBooks:0,inProgressBooks:0,completedBooks:0,recentBooks:[],favoriteGenre:"None"};const p=await j.getUserBooks(o);if(!p.success){if(p.error==="Server is currently unavailable")return this.cache.has(o)?this.cache.get(o).data:{totalBooks:0,inProgressBooks:0,completedBooks:0,recentBooks:[],favoriteGenre:"None"};throw new Error(p.error||"Failed to fetch user books")}const f=p.data||[],i=f.filter(n=>n.progress>=100),c=f.filter(n=>n.progress>0&&n.progress<100),r=f.sort((n,d)=>{const m=new Date(n.updated_at||n.created_at||0);return new Date(d.updated_at||d.created_at||0).getTime()-m.getTime()}).slice(0,5),s=f.reduce((n,d)=>{const m=d.genre||"Unknown";return n[m]=(n[m]||0)+1,n},{}),b=Object.entries(s).sort(([,n],[,d])=>d-n)[0]?.[0]||"None",y={totalBooks:f.length,inProgressBooks:c.length,completedBooks:i.length,recentBooks:r,favoriteGenre:b};return this.cache.set(o,{data:y,timestamp:Date.now()}),y}catch(a){throw a instanceof Error&&a.message!=="Server is currently unavailable"&&console.error("Error fetching playlist data:",a),a}}static clearCache(o){o?this.cache.delete(o):this.cache.clear()}static async refreshUserPlaylistData(o){return this.getUserPlaylistData(o,!0)}};v.cache=new Map,v.CACHE_DURATION=300*1e3;let w=v;function X(l){const[o,u]=k.useState({loading:!1,data:null,error:null,lastUpdated:null}),a=k.useCallback(async(f=!1)=>{if(!l){u(i=>({...i,loading:!1,data:null,error:null}));return}u(i=>({...i,loading:!0,error:null}));try{const i=await w.getUserPlaylistData(l,f);u({loading:!1,data:i,error:null,lastUpdated:new Date})}catch(i){const c=i instanceof Error?i.message:"Failed to load playlist data";c!=="Server is currently unavailable"&&console.error("Error fetching playlist data:",c),u({loading:!1,data:null,error:c==="Server is currently unavailable"?null:c,lastUpdated:null})}},[l]),p=k.useCallback(()=>a(!0),[a]);return k.useEffect(()=>{a()},[a]),{...o,refreshData:p,isAuthenticated:!!l}}function J(l=4){const{user:o}=S(),[u,a]=x.useState([]),[p,f]=x.useState(!1),[i,c]=x.useState(null),r=x.useCallback(async()=>{if(!o?.id){a([]);return}f(!0),c(null);try{const s=await j.getRecentBooks(o.id,{limit:l,status:"completed"});if(s.success&&s.data){const b=Array.isArray(s.data)?s.data:s.data.data||[];a(b)}else c(s.error||"Failed to load recent books"),a([])}catch(s){console.error("Error loading recently converted books:",s),c(s instanceof Error?s.message:"Failed to load recent books"),a([])}finally{f(!1)}},[o?.id,l]);return x.useEffect(()=>{r()},[r]),x.useEffect(()=>{if(!o?.id)return;const s=setInterval(r,120*1e3);return()=>clearInterval(s)},[o?.id,r]),{books:u,loading:p,error:i,refresh:r,isEmpty:u.length===0&&!p}}function K(){const{user:l}=S(),[o,u]=x.useState(!1),[a,p]=x.useState(null),[f,i]=x.useState(null),c=async(r=!1)=>{if(!l?.id){i("User not authenticated");return}u(!0),i(null),p(null);try{const s=await j.seedSampleData(l.id,r);s.success?(p(s.data?.message||"Sample data created successfully!"),setTimeout(()=>p(null),5e3)):(i(s.error||"Failed to seed data"),setTimeout(()=>i(null),5e3))}catch(s){console.error("Error seeding data:",s),i(s instanceof Error?s.message:"Failed to seed data"),setTimeout(()=>i(null),5e3)}finally{u(!1)}};return l?e.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",zIndex:1e3,display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"flex-end"},children:[a&&e.jsxs("div",{style:{backgroundColor:"#10B981",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.875rem",maxWidth:"250px",textAlign:"center",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:["✅ ",a]}),f&&e.jsxs("div",{style:{backgroundColor:"#EF4444",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.875rem",maxWidth:"250px",textAlign:"center",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:["❌ ",f]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:()=>c(!1),disabled:o,style:{backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1rem",fontSize:"0.875rem",fontWeight:"500",cursor:o?"not-allowed":"pointer",opacity:o?.6:1,transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(74, 144, 226, 0.3)",fontFamily:"Poppins, sans-serif"},onMouseEnter:r=>{o||(r.target.style.backgroundColor="#357ABD",r.target.style.transform="translateY(-1px)")},onMouseLeave:r=>{r.target.style.backgroundColor="#4A90E2",r.target.style.transform="translateY(0)"},children:o?"📚 Creating...":"📚 Add Sample Books"}),e.jsx("button",{onClick:()=>c(!0),disabled:o,style:{backgroundColor:"#F59E0B",color:"white",border:"none",borderRadius:"8px",padding:"0.75rem 1rem",fontSize:"0.875rem",fontWeight:"500",cursor:o?"not-allowed":"pointer",opacity:o?.6:1,transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(245, 158, 11, 0.3)",fontFamily:"Poppins, sans-serif"},onMouseEnter:r=>{o||(r.target.style.backgroundColor="#D97706",r.target.style.transform="translateY(-1px)")},onMouseLeave:r=>{r.target.style.backgroundColor="#F59E0B",r.target.style.transform="translateY(0)"},title:"Force add more sample books",children:o?"🔄 Adding...":"🔄 Force Add"})]}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#6B7280",textAlign:"right",maxWidth:"200px"},children:"Add sample books to test the recent books feature"})]}):null}const V="/Magdee/assets/7604a65f79f91ff4a16258b69c691402e454d9ce-DQAN6qtT.png";function fe({onNavigate:l,onSelectBook:o,books:u,user:a}){const{notifyDailyGoal:p,notifyLearningStreak:f,notifyLibrarySync:i}=L(),{user:c}=S(),r=X(c?.id||null),{displayName:s,profilePictureUrl:b,loading:y,refreshData:n,connectionStatus:d}=I(),{books:m,loading:h,error:C,refresh:E,isEmpty:T}=J(4),R=()=>s||"Guest";x.useEffect(()=>{c?.id&&n&&n().catch(t=>{console.warn("Failed to refresh profile on mount:",t)})},[c?.id,n]),x.useEffect(()=>{d==="timeout"?console.info("🐌 Profile loading slow, using cached data"):d==="connected"&&console.info("🔄 Profile data refreshed from database")},[d]),x.useEffect(()=>{if(a&&a.id){Math.random()>.5&&setTimeout(()=>p(30),2e3);const g=Math.floor(Math.random()*10)+1;g>=3&&setTimeout(()=>f(g),4e3),setTimeout(()=>i(),6e3)}},[p,f,i,a]);const F=async()=>{if(n)try{await n()}catch(t){console.error("Failed to refresh profile:",t)}};return e.jsxs("div",{style:{width:"100%",height:"100%",backgroundColor:"#ffffff",display:"flex",flexDirection:"column",fontFamily:"Poppins, sans-serif",position:"relative"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"2rem 1.25rem 1.5rem 1.25rem",background:"linear-gradient(135deg, #74b9ff 0%, #4A90E2 50%, #357ABD 100%)",borderRadius:"0 0 1.5rem 1.5rem",position:"relative",overflow:"hidden"},children:[e.jsx("div",{style:{position:"absolute",top:"-20px",right:"-20px",width:"80px",height:"80px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",zIndex:0}}),e.jsx("div",{style:{position:"absolute",bottom:"-10px",left:"-10px",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.05)",zIndex:0}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",zIndex:1,position:"relative"},children:[e.jsxs("div",{style:{position:"relative",width:"48px",height:"48px",borderRadius:"50%",overflow:"hidden",backgroundColor:"#ffffff",border:"3px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},onClick:F,title:"Click to refresh profile picture",children:[e.jsx(M,{src:b||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:"User Avatar",style:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",transition:"all 0.2s ease"}}),y&&e.jsx("div",{style:{position:"absolute",inset:0,backgroundColor:"rgba(74, 144, 226, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:e.jsx(z,{size:20,color:"white",style:{animation:"spin 1s linear infinite"}})}),!y&&e.jsx("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:"12px",height:"12px",backgroundColor:d==="connected"?"#10B981":d==="connecting"?"#F59E0B":d==="timeout"?"#EF4444":"#6B7280",borderRadius:"50%",border:"2px solid white",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",animation:d==="connecting"?"pulse 2s infinite":"none"},title:d==="connected"?"Profile loaded from database":d==="connecting"?"Loading profile...":d==="timeout"?"Profile loading slow - using cached data":"Using offline profile data"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"400",color:"rgba(255, 255, 255, 0.8)",marginBottom:"0.15rem"},children:"Good morning! 👋"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"600",color:"#ffffff",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},children:R()}),y&&e.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"}})]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",zIndex:1,position:"relative"},children:[e.jsx(W,{onNavigate:l,color:"#ffffff",size:20}),e.jsx("button",{onClick:()=>l("profile"),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",cursor:"pointer",padding:"0.75rem",borderRadius:"12px",color:"#ffffff",transition:"all 0.2s ease",backdropFilter:"blur(10px)"},onMouseEnter:t=>{t.target.style.background="rgba(255, 255, 255, 0.3)",t.target.style.transform="translateY(-1px)"},onMouseLeave:t=>{t.target.style.background="rgba(255, 255, 255, 0.2)",t.target.style.transform="translateY(0)"},children:e.jsx($,{size:20})})]})]}),e.jsx("div",{style:{padding:"0 1.25rem",marginTop:"1.25rem",marginBottom:"1.25rem"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.25rem"},children:[e.jsxs("button",{onClick:()=>l("upload-pdf"),style:{backgroundColor:"#E3F2FD",border:"2px solid #4A90E2",borderRadius:"1.5rem",padding:"0.875rem 0.5rem",cursor:"pointer",fontFamily:"Poppins, sans-serif",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 8px 20px rgba(74, 144, 226, 0.3)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="none"},children:[e.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#374151",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(P,{size:24,color:"white"})}),e.jsx("span",{style:{color:"#374151",fontWeight:"500",fontSize:"0.9rem"},children:"upload pdf"})]}),e.jsxs("button",{onClick:()=>{r.refreshData&&r.refreshData(),l("my-library")},style:{backgroundColor:"#E3F2FD",border:"2px solid #4A90E2",borderRadius:"1.5rem",padding:"0.875rem 1rem",cursor:"pointer",fontFamily:"Poppins, sans-serif",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.75rem",transition:"all 0.2s ease",position:"relative",overflow:"hidden"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 8px 20px rgba(74, 144, 226, 0.3)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="none"},children:[r.loading&&e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},children:e.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #4A90E2",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})}),e.jsxs("div",{style:{width:"48px",height:"48px",backgroundColor:r.loading?"#9CA3AF":"#374151",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",transition:"background-color 0.2s ease"},children:[r.error?e.jsx(A,{size:24,color:"white"}):e.jsx(q,{size:24,color:"white"}),r.data&&r.data.totalBooks>0&&e.jsx("div",{style:{position:"absolute",top:"-4px",right:"-4px",backgroundColor:"#10B981",color:"white",borderRadius:"50%",minWidth:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"600",border:"2px solid white"},children:r.data.totalBooks>99?"99+":r.data.totalBooks})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem"},children:[e.jsx("span",{style:{color:"#374151",fontWeight:"500",fontSize:"0.9rem"},children:"playlist"}),r.data?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.7rem",color:"#6B7280"},children:[e.jsx(D,{size:10}),e.jsxs("span",{children:[r.data.totalBooks," books"]}),r.data.inProgressBooks>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx(U,{size:10}),e.jsxs("span",{children:[r.data.inProgressBooks," reading"]})]})]}):r.error?e.jsx("span",{style:{fontSize:"0.7rem",color:"#EF4444"},children:"Offline"}):r.loading?e.jsx("span",{style:{fontSize:"0.7rem",color:"#6B7280"},children:"Loading..."}):e.jsx("span",{style:{fontSize:"0.7rem",color:"#6B7280"},children:"Tap to view"})]})]})]})}),e.jsxs("div",{style:{flex:1,padding:"0 1.25rem",paddingTop:"1.25rem",paddingBottom:"5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.25rem"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#374151",margin:0},children:"Recently converted"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[C?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"#EF4444",fontSize:"0.75rem"},children:[e.jsx(Y,{size:12}),e.jsx("span",{children:"Offline"})]}):e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"#10B981",fontSize:"0.75rem"},children:[e.jsx(Q,{size:12}),e.jsx("span",{children:"Live"})]}),e.jsx("button",{onClick:()=>{E(),r.refreshData&&r.refreshData()},disabled:h,style:{background:"rgba(74, 144, 226, 0.1)",border:"1px solid rgba(74, 144, 226, 0.2)",borderRadius:"8px",padding:"0.5rem",color:"#4A90E2",cursor:h?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",opacity:h?.6:1},onMouseEnter:t=>{h||(t.target.style.background="rgba(74, 144, 226, 0.15)",t.target.style.transform="translateY(-1px)")},onMouseLeave:t=>{t.target.style.background="rgba(74, 144, 226, 0.1)",t.target.style.transform="translateY(0)"},title:"Refresh recent books",children:e.jsx(z,{size:14,style:{animation:h?"spin 1s linear infinite":"none"}})})]})]}),h&&m.length===0?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem",color:"#6B7280"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:"32px",height:"32px",border:"3px solid #E5E7EB",borderTopColor:"#4A90E2",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("span",{style:{fontSize:"0.875rem"},children:"Loading recent books..."})]})}):C&&m.length===0?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",textAlign:"center",maxWidth:"300px"},children:[e.jsx(H,{size:48,color:"#EF4444"}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"Unable to load recent books"}),e.jsx("p",{style:{fontSize:"0.875rem",color:"#6B7280",marginBottom:"1rem"},children:C}),e.jsx("button",{onClick:E,style:{backgroundColor:"#4A90E2",color:"white",border:"none",borderRadius:"8px",padding:"0.5rem 1rem",fontSize:"0.875rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.target.style.backgroundColor="#357ABD"},onMouseLeave:t=>{t.target.style.backgroundColor="#4A90E2"},children:"Try Again"})]})]})}):T?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},children:e.jsx("img",{src:V,alt:"No files uploaded yet",style:{maxWidth:"100%",height:"auto",cursor:"pointer"},onClick:()=>l("upload-pdf")})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hide-scrollbar",style:{display:"flex",gap:"1.25rem",overflowX:"auto",paddingBottom:"0.5rem",position:"relative"},children:m.map(t=>e.jsxs("div",{style:{minWidth:"200px",backgroundColor:"linear-gradient(135deg, #74b9ff 0%, #0984e3 100%)",background:"linear-gradient(135deg, #74b9ff 0%, #0984e3 100%)",borderRadius:"1.5rem",padding:"1rem",color:"white",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:g=>{g.currentTarget.style.transform="translateY(-4px) scale(1.02)",g.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15)"},onMouseLeave:g=>{g.currentTarget.style.transform="translateY(0) scale(1)",g.currentTarget.style.boxShadow="none"},onClick:()=>o(t),children:[e.jsx("div",{style:{position:"absolute",top:"-20px",right:"-20px",width:"80px",height:"80px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"50%"}}),e.jsx("div",{style:{width:"80px",height:"120px",backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",marginBottom:"1rem",backgroundImage:t.cover?`url(${t.cover})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"2px solid rgba(255, 255, 255, 0.3)",position:"relative",overflow:"hidden"},children:!t.cover&&e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(D,{size:32,color:"rgba(255, 255, 255, 0.8)"})})}),e.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",textAlign:"center",marginBottom:"0.5rem",lineHeight:"1.3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.title}),e.jsxs("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.8)",textAlign:"center",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(A,{size:12}),e.jsx("span",{children:t.duration||"2h 30m"})]}),e.jsx("button",{onClick:g=>{g.stopPropagation(),o(t),l("audio-player")},style:{position:"absolute",bottom:"1rem",right:"1rem",width:"32px",height:"32px",backgroundColor:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",backdropFilter:"blur(10px)"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.3)",g.currentTarget.style.transform="scale(1.1)"},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",g.currentTarget.style.transform="scale(1)"},children:e.jsx(O,{size:16})})]},t.id))}),e.jsx(K,{style:{marginTop:"1rem",alignSelf:"center"}})]})]}),e.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"70px",backgroundColor:"#ffffff",borderTop:"1px solid #F3F4F6",display:"flex",justifyContent:"space-around",alignItems:"center",padding:"0 1rem",zIndex:10},children:[e.jsxs("button",{style:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.5rem",color:"#4A90E2",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",fontSize:"0.7rem",fontWeight:"500"},children:[e.jsx(G,{size:20}),"Home"]}),e.jsxs("button",{onClick:()=>l("my-library"),style:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.5rem",color:"#9CA3AF",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",fontSize:"0.7rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.color="#4A90E2",t.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:t=>{t.currentTarget.style.color="#9CA3AF",t.currentTarget.style.transform="translateY(0)"},children:[e.jsx(N,{size:20}),"Library"]}),e.jsxs("button",{onClick:()=>l("profile"),style:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",borderRadius:"0.5rem",color:"#9CA3AF",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem",fontSize:"0.7rem",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.color="#4A90E2",t.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:t=>{t.currentTarget.style.color="#9CA3AF",t.currentTarget.style.transform="translateY(0)"},children:[e.jsx(_,{size:20}),"Profile"]})]})]})}export{fe as HomeScreen};
